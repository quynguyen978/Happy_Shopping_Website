"use strict";(self.miniJsonp=self.miniJsonp||[]).push([[962],{31479:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var o=n(67294),r=n(73935),a=n(72991),i=n(57777),s=n(17187),l=n.n(s),u=n(565),c=n(93359),d=n(56025),p=n(45210),f=n(66283);const h=function(e){function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h,_={exports:{}},g={exports:{}},m={exports:{}};(h=m).exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},h.exports.default=h.exports,h.exports.__esModule=!0,function(e){var t=m.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(g);var y={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(y);var v={exports:{}};!function(e){var t=m.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}(v);var b={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}(b),function(e){var t=g.exports,n=y.exports,o=v.exports,r=b.exports;e.exports=function(e){return t(e)||n(e)||o(e)||r()},e.exports.default=e.exports,e.exports.__esModule=!0}(_);var T=t(_.exports),C={exports:{}};!function(e){function t(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}e.exports=function(e){return function(){var n=this,o=arguments;return new Promise((function(r,a){var i=e.apply(n,o);function s(e){t(i,r,a,s,l,"next",e)}function l(e){t(i,r,a,s,l,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0}(C);var S=t(C.exports),O={exports:{}};!function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}(O);var A=t(O.exports),w={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}(w);var E=t(w.exports),k={exports:{}};!function(e){function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e},e.exports.default=e.exports,e.exports.__esModule=!0}(k);var R=t(k.exports),x={exports:{}};!function(e){e.exports=function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e},e.exports.default=e.exports,e.exports.__esModule=!0}(x);var L=t(x.exports),N={exports:{}};!function(e){var t=0;e.exports=function(e){return"__private_"+t+++"_"+e},e.exports.default=e.exports,e.exports.__esModule=!0}(N);var I=t(N.exports),M={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,o=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),i=new k(o||[]);return a._invoke=function(e,t,n){var o=d;return function(r,a){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===r)throw a;return x()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var s=A(i,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var l=c(e,t,n);if("normal"===l.type){if(o=n.done?h:p,l.arg===_)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",_={};function g(){}function m(){}function y(){}var v={};l(v,a,(function(){return this}));var b=Object.getPrototypeOf,T=b&&b(b(R([])));T&&T!==n&&o.call(T,a)&&(v=T);var C=y.prototype=g.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,a,i,s){var l=c(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var r;this._invoke=function(e,o){function a(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(a,a):a()}}function A(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=c(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,_;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:x}}function x(){return{value:t,done:!0}}return m.prototype=y,l(C,"constructor",y),l(y,"constructor",m),m.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,o,r,a){void 0===a&&(a=Promise);var i=new O(u(t,n,o,r),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(C),l(C,s,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=R,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:R(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),_}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(M);var P=M.exports,j=[{reply_type:1001,message:{message_id:"1"},message_extra:{task_flow_text:{task_bot_info:{},content:"Good day! How may I help you today?"}}},{reply_type:1001,message:{message_id:"2"},message_extra:{task_flow_text:{task_bot_info:{},content:"test content",buttons:[{button_id:"button_1",button_style:1,button_text:"1: jump url - url",action:{action_type:1,task_bot_action:{},url_info:{url:"https://test.com"}}},{button_id:"button_2",button_style:1,button_text:"1: jump url - url_key",action:{action_type:1,task_bot_action:{},url_info:{url:"https://test.com",uri_key:"order",uri_extra:{orderId:"12345"}}}},{button_id:"button_3",button_style:2,button_text:"2: jump node",action:{action_type:2,task_bot_action:{}}},{button_id:"button_4",button_style:3,button_text:"3: jump formstack",action:{action_type:3,task_bot_action:{},formstack:"https://test.com"}},{button_id:"button_5",button_style:3,button_text:"4: to live agent",action:{action_type:4,task_bot_action:{},live_agent:{}}},{button_id:"button_6",button_style:3,button_text:"5: show article",action:{action_type:5,task_bot_action:{},article:{article_number:"123",article_title:"[Akun Saya] Mengapa saya tidak bisa log in ke akun Shopee saya?",content:'<span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Anda bisa melakukan pembelian menggunakan COD (Bayar di Tempat) dengan mengikuti langkah-langkah berikut:</span></span></span>\n<ol><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Pilih jasa kirim &amp; pilih COD sebagai metode pembayaran.</span></span></span></li></ol>\n\n<div style="text-align: center;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><img alt="" src="https://help.shopee.co.id/servlet/rtaImage?eid=ka05j000000bmnj&amp;feoid=00N6F00000Rj6Gl&amp;refid=0EM6F000006cCfB" style="width: 305px;height: 523px;"></img></span></span></span></div>\n\n<div style="text-align: center;"><br><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><img alt="" src="https://help.shopee.co.id/servlet/rtaImage?eid=ka05j000000bmnj&amp;feoid=00N6F00000Rj6Gl&amp;refid=0EM6F000006cCfQ" style="width: 298px;height: 512px;"></img></span></span></span></div>\n\n<ol start="2"><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Bayar pesanan beserta ongkos kirim (jika ada) secara tunai di tempat kepada kurir sesuai dengan total biaya yang tertera di halaman <i>checkout</i>.</span></span></span></li></ol>\n\n<div style="margin-left: 80px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><u>Pembeli dapat memastikan beberapa hal sebelum melakukan pembelian menggunakan metode pembayaran COD:</u></span></span></span></div>\n\n<ol><li style="margin-left: 80px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Metode pembayaran COD (Bayar di Tempat) berlaku tanpa min. pembelian hingga maks. pembelian Rp3.000.000.</span></span></span></li><li style="margin-left: 80px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;">Pastikan alamat pengiriman termasuk ke dalam area jangkauan jasa kirim yang dipilih oleh Pembeli. Daerah jangkauan jasa kirim dapat dilihat </span></span><a href="https://help.shopee.co.id/s/article/Apa-itu-opsi-pembayaran-COD-Cash-on-Delivery" target="_blank"><span style="color: #2980b9;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;">di sini</span></span></span></a><span style="color: #2980b9;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;">.</span></span></span></li><li style="margin-left: 80px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Pastikan Penjual sudah mengaktifkan metode pembayaran COD di toko. Pembeli dapat melihat pada produk yang akan dibeli.</span></span></span></li><li style="margin-left: 80px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Saat ini metode pembayaran COD dapat digunakan bersamaan dengan jasa kirim J&amp;T Express, J&amp;T Economy, Shopee Express Standard, Shopee Express Hemat dan Standar Ekspres (Pengiriman dari luar negeri), dan ID Express.</span></span></span></li></ol>\n\n<div style="text-align: center;margin-left: 80px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><img alt="" src="https://help.shopee.co.id/servlet/rtaImage?eid=ka05j000000bmnj&amp;feoid=00N6F00000Rj6Gl&amp;refid=0EM6F000006cCg4" style="width: 313px;height: 598px;"></img></span></span></div>\n\n<ol start="3"><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Pembeli juga dapat menggunakan filter pada saat mencari produk yang menerima metode pembayaran COD. Pembeli dapat mengikuti langkah-langkah berikut:</span></span></span></li></ol>\n\n<ul style="margin-left: 40px;"><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Pembeli dapat mengetik kata <b>“COD”</b> dan klik <b>“COD (Bayar di Tempat)”</b> pada kolom pencarian.</span></span></span></li></ul>\n<span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"> <span style="color: #000000;"> </span></span></span>\n\n<div style="text-align: center;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><img alt="" height="765" src="https://help.shopee.co.id/servlet/rtaImage?eid=ka05j000000bmnj&amp;feoid=00N6F00000Rj6Gl&amp;refid=0EM6F0000055lC9" style="width: 313px;height: 598px;" width="400"></img></span></span></span></div>\n\n<ul style="margin-left: 40px;"><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;">Pembeli juga dapat mengetik nama produk yang dicari pada kolom pencarian, lalu klik tab <b>“COD”</b>.</span></span></span></li></ul>\n\n<div style="text-align: center;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><img alt="" height="689" src="https://help.shopee.co.id/servlet/rtaImage?eid=ka05j000000bmnj&amp;feoid=00N6F00000Rj6Gl&amp;refid=0EM6F0000055lCE" style="width: 305px;height: 523px;" width="403"></img></span></span></span></div>\n\n<ol start="4"><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b id="docs-internal-guid-0172d9b6-7fff-0529-f87a-08e6607ecc57" style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Pembeli harus melakukan pembayaran ke kurir sebelum menerima/membuka paket.</span></b></span></span></span></li><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Pembeli yang melakukan penolakan pembayaran atau tidak ada di tempat saat kurir mengirim paket sebanyak 2 kali akan diblokir dari sistem pembayaran COD selama 60 hari ke depan.</span></b></span></span></span></li><li><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Metode pembayaran COD dikenakan biaya penanganan yang berlaku untuk seluruh Pengguna Shopee.</span></b></span></span></span></li></ol>\n\n<ul><li style="margin-left: 40px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Untuk pesanan COD pertama s/d ke-6 kali akan dikenakan biaya penanganan sebesar 0%. Khusus Pengguna lama, biaya penanganan akan dihitung secara prorata, yaitu berdasarkan jumlah transaksi COD yang telah digunakan sebelum tanggal 25 Januari 2021 (contoh: jika Pengguna telah memesan 3 kali sebelum tanggal 25 Januari 2021, biaya penanganan sebesar 0% hanya akan berlaku pada pesanan ke-4 s/d ke-6).</span></b></span></span></span></li><li style="margin-left: 40px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Untuk pesanan COD ke-7 kali dan seterusnya akan dikenakan biaya penanganan sebesar 3%.</span></b></span></span></span></li><li style="margin-left: 40px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Pengguna yang teridentifikasi sebagai <i>Dropshipper</i>, baik dengan mengaktifkan tombol fitur <i>dropship </i>ataupun yang teridentifikasi pernah melakukan transaksi COD ke lebih dari 3 alamat yang berbeda, akan dikenakan biaya penanganan sebesar 9%. </span></b></span></span></span></li><li style="margin-left: 40px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><b style="font-weight: normal;"><span style="font-weight: 400;font-style: normal;font-variant: normal;text-decoration: none;vertical-align: baseline;white-space: pre-wrap;">Penjual yang teridentifikasi secara sistem memiliki pesanan <i>dropship </i>melebihi pesanan normal, maka seluruh pesanannya akan dikenakan biaya penanganan sebesar 9%.</span></b></span></span></span></li><li style="margin-left: 40px;"><span style="font-size: 14px;"><span style="font-family: Tahoma,Geneva,sans-serif;"><span style="color: #000000;"><span style="font-variant: normal;white-space: pre-wrap;"><span style="font-weight: 400;"><span style="font-style: normal;"><span style="text-decoration: none;">Pembeli yang teridentifikasi menggunakan Browser PC/Komputer ataupun Mobile Web saat melakukan checkout akan dikenakan biaya penanganan sebesar 9%.</span></span></span></span></span></span></span></li></ul>'}}},{button_id:"button_7",button_style:4,button_text:"6: cancel order",action:{action_type:6,task_bot_action:{}}},{button_id:"button_8",button_style:4,button_text:"7: extend shopee guarantee",action:{action_type:7,task_bot_action:{}}}]},is_feedback:!0}},{reply_type:1002,message:{message_id:"3"},message_extra:{task_flow_button_selector:{task_bot_info:{},style:1,content:"Are you a buyer or seller",buttons:[{button_id:"button_1",button_text:"buyer",action:{action_type:2,task_bot_action:{}}},{button_id:"button_2",button_text:"seller",action:{action_type:2,task_bot_action:{}}}]}}},{reply_type:1003,message:{message_id:"598484363659453059",text_key:"",text_value:"",is_rich_text:!1},message_extra:{using_is_style:!1,image_url:"",feedback_options:null,hot_questions:null,specific_hot_questions:null,hit_feedback:!1,head_intents:null,next_head_intents:null,categories:null,cat_intent_list:null,order:null,list_display_option:null,list_items:null,support_case_display:null,grayscale_display_method:0,task_flow_is_end:!1,task_flow_text:null,task_flow_button_selector:null,task_flow_card:{task_bot_info:{task_bot_id:"SOP6",flow_id:"SOP6_F14",editor_node_id:"SOP6_Node100",node_id:"SOP6_Node100.2",snapshot_id:"SOP6_F14_1638760473"},is_bypass:!1,is_end:!1,is_select_other:!1,card_type:1,has_more:!0,max_display:3,status:[0,1,2,3,4,5],status_text:{1:"to Pay",2:"shipping"},select_content:"select",select_other_content:"select other order",select_action:{flow_id:"SOP6_F14",snapshot_id:"SOP6_F14_1638760473",next_task_bot_id:"",next_node_id:"SOP6_Node101",params:{order_id:{key:"order_id",data_type:1,variate_type:1,is_assigned:!1}}},select_other_action:{flow_id:"SOP6_F14",snapshot_id:"SOP6_F14_1638760473",next_task_bot_id:"",next_node_id:"SOP6_Node100.3",params:{page_num:{key:"page_num",data_type:1,variate_type:0,is_assigned:!1},page_size:{key:"page_size",data_type:1,variate_type:0,is_assigned:!1},status:{key:"status",data_type:1,variate_type:0,int_val:1,is_assigned:!0}}},transaction_list:[{sn:"99",amount:0,create_time:"99999",button_type:"99999",button_id:"9999",status:0},{sn:"999999",amount:0,create_time:"9999999",button_type:"99999999",button_id:"9999",status:1},{sn:"99",amount:0,create_time:"99999",button_type:"99999",button_id:"9999",status:3}],order_list:[{order_id:57667278073645,order_sn:"201029KDEDXQSD",shop_id:266945,checkout_id:57667278002053,uri_key:"order_detail_page",shop_name:"ten",title:"hahahaha 2020-10-27 17:53:43.646",image:"52bf780b5810cf56890471fe3531b119",price:1e3,total_price:2e3,specification:"",button_type:"btn_list",button_id:"btn_0",tracing_number:"ID208104326398GT",delivered_by:"Standar Ekspres",item_count:22,items:[{amount:0,order_price:10,title:"hahahaha 2020-10-27 17:53:43.646",image:["52bf780b5810cf56890471fe3531b119"],specification:"popp"}]},{order_id:57666983208276,order_sn:"201029KD5MR5AM",shop_id:266945,shop_name:"ten",checkout_id:57666983271977,uri_key:"order_detail_page",title:"hahahaha 2020-10-27 17:53:43.646",image:"0a61a8175b11511e38fd8a1cb74f5239",price:1e3,specification:"",button_type:"btn_list",button_id:"btn_0",tracing_number:"ID204862279949MT",delivered_by:"Standar Ekspres",total_price:2e3,item_count:22,items:[{amount:0,order_price:0,title:"hahahaha 2020-10-27 17:53:43.646",image:["52bf780b5810cf56890471fe3531b119"],specification:"popp"}]},{order_id:57666236244434,order_sn:"201029KCFCCMEJ",shop_id:266945,shop_name:"ten",checkout_id:57666236295143,uri_key:"order_detail_page",title:"hahahaha 2020-10-27 17:53:43.646",image:"ad29861369c78bad67edff573c31e5da",price:1e3,specification:"",button_type:"btn_list",button_id:"btn_0",tracing_number:"ID207750099432IT",total_price:2e3,delivered_by:"Standar Ekspres",item_count:22,items:[{amount:0,order_price:0,title:"hahahaha 2020-10-27 17:53:43.646",image:["52bf780b5810cf56890471fe3531b119"],specification:"popp"}]}]},task_flow_related_intent:null,task_flow_popup:null,task_flow_option_selector:null,task_flow_article:null}},{reply_type:1004,message:{message_id:"4"},message_extra:{task_flow_related_intent:{task_bot_info:{},content:"You may want to ask: ",intents:[{intent_id:"123",intent_name:"When will I receive my item?"},{intent_id:"234",intent_name:"How do I verify/change my phone number?"},{intent_id:"345",intent_name:"Why cant I use my phone number to sign up?"}]}}},{reply_type:1005,message:{message_id:"7"},message_extra:{task_flow_popup:{task_bot_info:{},title:"Cancel this order?",content:"You cancellation will be subject...",left_button:{button_id:"button_1",button_text:"Not Now",action:{action_type:2}},right_button:{button_id:"button_1",button_text:"Confirm",action:{action_type:2}}}}},{reply_type:1006,message:{message_id:"7"},message_extra:{task_flow_option_selector:{task_bot_info:{},content:"Which issues do you want to enquire on?",options:[{option_id:"option_1",content:"How is late payment interest calculated?",action:{action_type:2,task_bot_action:{next_task_bot_id:"",next_node_id:"SOP1_v1_node2"}}},{option_id:"option_1",content:"How is late payment interest calculated?",sub_options:[{sub_option_id:"sub_option_1",content:"I paid before billing date",action:{action_type:2,task_bot_action:{next_task_bot_id:"",next_node_id:"test_bot_v1_node3"}}},{sub_option_id:"sub_option_2",content:"I paid after billing date",action:{action_type:2,task_bot_action:{next_task_bot_id:"",next_node_id:"test_bot_v1_node4"}}}]}]}}},{reply_type:2001,message:{message_id:"8"},message_extra:{task_flow_label_clarification_selector:{intent_info:{},content:"请选择物流公司",options:[{option_id:"option_1",content:"顺丰",action:{action_type:1,url_info:{url:"https://sf.com",uri_key:"order",uri_extra:{orderId:"12345"}}}},{option_id:"option_2",content:"EMS",sub_options:[{sub_option_id:"sub_option_1",content:"EMS陆运",action:{action_type:1,url_info:{url:"https://lu.ems.com",uri_key:"order",uri_extra:{orderId:"12345"}}}},{sub_option_id:"sub_option_2",content:"EMS空运",action:{action_type:1,url_info:{url:"https://kong.ems.com",uri_key:"order",uri_extra:{orderId:"12345"}}}}]}]}}}],D=function(){var e,t,n=(e=1,t=3,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);return function(e,t){for(var n,o,r=e.slice(0),a=e.length,i=a-t;a-- >i;)n=r[o=Math.floor((a+1)*Math.random())],r[o]=r[a],r[a]=n;return r.slice(i)}(j,n)};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=I("waitingToAppend"),H=I("appendNodeToWaitingList"),F=I("delayPopWaitingNode"),G=I("updateIsAppending"),K=I("notify"),z=function(){function e(t){if(E(this,e),Object.defineProperty(this,K,{value:Q}),Object.defineProperty(this,G,{value:Z}),Object.defineProperty(this,F,{value:W}),Object.defineProperty(this,H,{value:q}),this.uiComponents={},this.traveledNodes=[],this.bypassNodes=[],Object.defineProperty(this,V,{writable:!0,value:[]}),this.listeners=[],this.config={mock:!1,render:function(e){return e},waitingGap:1e3,forbidRequest:!1},this.isAppending=!1,!t.render||"function"!=typeof t.render)throw new Error("render must be a function!");this.config=U(U({},this.config),t)}var t,n,r,a;return R(e,[{key:"start",value:(a=S(P.mark((function e(){var t,n,o=arguments;return P.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1?o[1]:void 0,e.abrupt("return",this.request({requestData:{url:"/api/v2/init_session",method:"get",params:t}},n));case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"next",value:(r=S(P.mark((function e(t,n){return P.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request({messages:t.messages,requestData:{url:"/api/v2/message",method:"post",params:t}},n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"solution",value:(n=S(P.mark((function e(t,n){return P.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request({messages:t.messages,requestData:{url:"/api/v2/solution",method:"get",params:t}},n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"request",value:(t=S(P.mark((function e(t,n){var o,r,a,i,s,l,u,c,d,p,f,h,_,g,m,y=this;return P.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.forbidRequest){e.next=2;break}return e.abrupt("return");case 2:if((null===(o=t.messages)||void 0===o?void 0:o.length)&&this.appendNode(t.messages),a=!(null!=t&&t.withoutTyping),i=setTimeout((function(){a&&L(y,G)[G](!0)}),200),s=[],u={params:null===(r=t.requestData)||void 0===r?void 0:r.params},!this.config.mock){e.next=13;break}return e.next=10,Promise.resolve(D());case 10:s=e.sent,e.next=32;break;case 13:if(!t.requestData){e.next=32;break}if(c=t.requestData,d=c.method,p=c.url,f=c.params,e.prev=15,"get"!==d){e.next=23;break}return e.next=19,null===(h=this.config.fetch)||void 0===h?void 0:h.get(p,{params:f});case 19:l=e.sent,s=(null===(_=t.responseHandler)||void 0===_?void 0:_.call(t,l,u))||l.replies||[],e.next=27;break;case 23:return e.next=25,null===(g=this.config.fetch)||void 0===g?void 0:g.post(p,f);case 25:l=e.sent,s=(null===(m=t.responseHandler)||void 0===m?void 0:m.call(t,l,u))||l.replies||[];case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(15);case 31:a&&(clearTimeout(i),L(this,G)[G](!1));case 32:if(!t.directReturn){e.next=34;break}return e.abrupt("return",l);case 34:return n?n(l||s,u):this.appendMessages(s,U(U({},l),{},{replies:null}),u),e.abrupt("return",l);case 36:case"end":return e.stop()}}),e,this,[[15,29]])}))),function(e,n){return t.apply(this,arguments)})},{key:"reset",value:function(e){L(this,V)[V]=[],this.traveledNodes=[],null==e||e(),L(this,K)[K](["traveledNodes"])}},{key:"appendNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)if(Array.isArray(e))e.forEach((function(e){return t.appendNode(e,n)}));else{if(!n)return e.isBypassNode?(this.bypassNodes=[].concat(T(this.bypassNodes),[U(U({},e),{},{_position:this.bypassNodes.length})]),L(this,K)[K](["bypassNodes"]),this.bypassNodes.length):(this.traveledNodes=[].concat(T(this.traveledNodes),[U(U({},e),{},{_position:this.traveledNodes.length})]),L(this,K)[K](["traveledNodes"]),this.traveledNodes.length);L(this,H)[H](e,{},{},!1)}}},{key:"addListener",value:function(e){var t=this;return this.listeners.push(e),function(){return t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"appendMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{params:{}};e&&(Array.isArray(e)?e.forEach((function(e){return L(t,H)[H](e,n,o)})):L(this,H)[H](e,n,o))}},{key:"updateNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"traveledNodes";this[n][e]=U(U({},this[n][e]),t),L(this,K)[K]([n])}},{key:"removeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"traveledNodes",n=this[t].findIndex((function(t){return t.messageId===e}));this[t].splice(n,1),L(this,K)[K]([t])}},{key:"addUICompnents",value:function(e){this.uiComponents=U(U({},this.uiComponents),e)}},{key:"updateConfig",value:function(e){this.config=U(U({},this.config),e)}},{key:"render",value:function(e,t){if(!this.uiComponents[e])throw new Error("".concat(e," is not existed in MRE, please register component."));return o.createElement(this.uiComponents[e],t)}}]),e}();function q(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];L(this,V)[V].push({node:e,extra:t,request:n,shouldUseConfigRender:o}),L(this,F)[F]()}function W(){var e=this;this.isAppending||(L(this,V)[V].length?(L(this,G)[G](!0),setTimeout((function(){var t=L(e,V)[V].shift();null!=t&&t.node&&(t.shouldUseConfigRender?e.appendNode(e.config.render(t.node,t.extra,t.request)):e.appendNode(null==t?void 0:t.node)),L(e,G)[G](!1),L(e,F)[F]()}),this.config.waitingGap)):L(this,G)[G](!1))}function Z(e){this.isAppending=e,L(this,K)[K](["isAppending"])}function Q(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["traveledNodes","isAppending"];this.listeners.forEach((function(n){return n(t.reduce((function(t,n){return U(U({},t),{},A({},n,e[n]))}),{}))}))}var Y={exports:{}},J={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0}(J);var X={exports:{}};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0}(X);var $={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}($),function(e){var t=J.exports,n=X.exports,o=v.exports,r=$.exports;e.exports=function(e,a){return t(e)||n(e,a)||o(e,a)||r()},e.exports.default=e.exports,e.exports.__esModule=!0}(Y);var ee=t(Y.exports);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t};var re=function(e){return!!e&&"function"==typeof e.then};var ae=function(e,t){if(null!=e)return e;throw oe(null!=t?t:"Got unexpected null or undefined")};function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class se{getValue(){throw oe("BaseLoadable")}toPromise(){throw oe("BaseLoadable")}valueMaybe(){throw oe("BaseLoadable")}valueOrThrow(){throw oe(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw oe("BaseLoadable")}promiseOrThrow(){throw oe(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw oe("BaseLoadable")}errorOrThrow(){throw oe(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw oe("BaseLoadable")}}class le extends se{constructor(e){super(),ie(this,"state","hasValue"),ie(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return re(t)?fe(t):_e(t)?t:de(t)}catch(t){return re(t)?fe(t.next((()=>this.map(e)))):pe(t)}}}class ue extends se{constructor(e){super(),ie(this,"state","hasError"),ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class ce extends se{constructor(e){super(),ie(this,"state","loading"),ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return fe(this.contents.then((t=>{const n=e(t);if(_e(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(re(t))return t.then((()=>this.map(e).contents));throw t})))}}function de(e){return Object.freeze(new le(e))}function pe(e){return Object.freeze(new ue(e))}function fe(e){return Object.freeze(new ce(e))}function he(e){const t=function(e){return e.every((e=>"hasValue"===e.state))?de(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?pe(ae(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):fe(Promise.all(e.map((e=>e.contents))))}((Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))).map((e=>_e(e)?e:re(e)?fe(e):de(e))));return Array.isArray(e)?t:t.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,o)=>({...e,[n]:t[o]})),{})))}function _e(e){return e instanceof se}const ge={of:e=>re(e)?fe(e):_e(e)?e:de(e),error:e=>pe(e),all:he,isLoadable:_e};var me={loadableWithValue:de,loadableWithError:pe,loadableWithPromise:fe,loadableLoading:function(){return Object.freeze(new ce(new Promise((()=>{}))))},loadableAll:he,isLoadable:_e,RecoilLoadable:ge},ye=me.loadableWithValue,ve=me.loadableWithError,be=me.loadableWithPromise,Te=me.loadableLoading,Ce=me.loadableAll,Se=me.isLoadable,Oe=me.RecoilLoadable,Ae=Object.freeze({__proto__:null,loadableWithValue:ye,loadableWithError:ve,loadableWithPromise:be,loadableLoading:Te,loadableAll:Ce,isLoadable:Se,RecoilLoadable:Oe});class we{constructor(e){ie(this,"key",void 0),this.key=e}}class Ee extends we{}class ke extends we{}var Re={AbstractRecoilValue:we,RecoilState:Ee,RecoilValueReadOnly:ke,isRecoilValue:function(e){return e instanceof Ee||e instanceof ke}},xe=Re.AbstractRecoilValue,Le=Re.RecoilState,Ne=Re.RecoilValueReadOnly,Ie=Re.isRecoilValue,Me=Object.freeze({__proto__:null,AbstractRecoilValue:xe,RecoilState:Le,RecoilValueReadOnly:Ne,isRecoilValue:Ie});var Pe=function(e,...t){0};const je=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function De(e){var t;return null!==(t=je.get(e))&&void 0!==t&&t}De.setPass=e=>{je.set(e,!0)},De.setFail=e=>{je.set(e,!1)},De.clear=()=>{je.clear()};var Be=De;var Ue=function(e,t){return function*(){let n=0;for(const o of e)yield t(o,n++)}()};var Ve=function(e,t,{error:n}={}){return null};class He{}const Fe=new He;class Ge extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const Ke=new Map,ze=new Map;class qe extends Error{}const We=new Map;function Ze(e){return We.get(e)}var Qe={nodes:Ke,recoilValues:ze,registerNode:function(e){if(Ke.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}Ke.set(e.key,e);const t=null==e.set?new Me.RecoilValueReadOnly(e.key):new Me.RecoilState(e.key);return ze.set(e.key,t),t},getNode:function(e){const t=Ke.get(e);if(null==t)throw new qe(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return Ke.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!Be("recoil_memory_managament_2020"))return;const n=Ke.get(e);var o;null!=n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(Ke.delete(e),null===(o=Ze(e))||void 0===o||o(),We.delete(e))},setConfigDeletionHandler:function(e,t){Be("recoil_memory_managament_2020")&&(void 0===t?We.delete(e):We.set(e,t))},getConfigDeletionHandler:Ze,recoilValuesForKeys:function(e){return Ue(e,(e=>ae(ze.get(e))))},NodeMissingError:qe,DefaultValue:He,DEFAULT_VALUE:Fe,RecoilValueNotReady:Ge};var Ye={enqueueExecution:function(e,t){t()}};var Je=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},o=Math.pow(2,5),r=o-1,a=o/2,i=o/4,s={},l=function(e){return function(){return e}},u=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var o=0,r=0,a=e.length;r<a;++r){o=(o<<5)-o+e.charCodeAt(r)|0}return o},c=function(e,t){return t>>>e&r},d=function(e){return 1<<e},p=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},f=function(e,t,n,o){var r=o;if(!e){var a=o.length;r=new Array(a);for(var i=0;i<a;++i)r[i]=o[i]}return r[t]=n,r},h=function(e,t,n){var o=n.length-1,r=0,a=0,i=n;if(e)r=a=t;else for(i=new Array(o);r<t;)i[a++]=n[r++];for(++r;r<=o;)i[a++]=n[r++];return e&&(i.length=o),i},_={__hamt_isEmpty:!0},g=function(e){return e===_||e&&e.__hamt_isEmpty},m=function(e,t,n,o){return{type:1,edit:e,hash:t,key:n,value:o,_modify:S}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:O}},v=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:A}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:w}},T=function e(t,n,o,r,a,i){if(o===a)return y(t,o,[i,r]);var s=c(n,o),l=c(n,a);return v(t,d(s)|d(l),s===l?[e(t,n+5,o,r,a,i)]:s<l?[r,i]:[i,r])},C=function(e,t){return e===t.edit},S=function(e,t,n,o,r,a,i){if(t(a,this.key)){var l=o(this.value);return l===this.value?this:l===s?(--i.value,_):C(e,this)?(this.value=l,this):m(e,r,a,l)}var u=o();return u===s?this:(++i.value,T(e,n,this.hash,this,r,m(e,r,a,u)))},O=function(e,t,n,o,r,a,i){if(r===this.hash){var l=function(e,t,n,o,r,a,i,l){for(var u=r.length,c=0;c<u;++c){var d=r[c];if(n(i,d.key)){var p=d.value,_=a(p);return _===p?r:_===s?(--l.value,h(e,c,r)):f(e,c,m(t,o,i,_),r)}}var g=a();return g===s?r:(++l.value,f(e,u,m(t,o,i,g),r))}(C(e,this),e,t,this.hash,this.children,o,a,i);return l===this.children?this:l.length>1?y(e,this.hash,l):l[0]}var u=o();return u===s?this:(++i.value,T(e,n,this.hash,this,r,m(e,r,a,u)))},A=function(e,t,n,o,r,i,s){var l=this.mask,u=this.children,m=c(n,r),y=d(m),T=p(l,y),S=l&y,O=S?u[T]:_,A=O._modify(e,t,n+5,o,r,i,s);if(O===A)return this;var w,E=C(e,this),k=l,R=void 0;if(S&&g(A)){if(!(k&=~y))return _;if(u.length<=2&&((w=u[1^T])===_||1===w.type||2===w.type))return u[1^T];R=h(E,T,u)}else if(S||g(A))R=f(E,T,A,u);else{if(u.length>=a)return function(e,t,n,o,r){for(var a=[],i=o,s=0,l=0;i;++l)1&i&&(a[l]=r[s++]),i>>>=1;return a[t]=n,b(e,s+1,a)}(e,m,A,l,u);k|=y,R=function(e,t,n,o){var r=o.length;if(e){for(var a=r;a>=t;)o[a--]=o[a];return o[t]=n,o}for(var i=0,s=0,l=new Array(r+1);i<t;)l[s++]=o[i++];for(l[t]=n;i<r;)l[++s]=o[i++];return l}(E,T,A,u)}return E?(this.mask=k,this.children=R,this):v(e,k,R)},w=function(e,t,n,o,r,a,s){var l=this.size,u=this.children,d=c(n,r),p=u[d],h=(p||_)._modify(e,t,n+5,o,r,a,s);if(p===h)return this;var m=C(e,this),y=void 0;if(g(p)&&!g(h))++l,y=f(m,d,h,u);else if(!g(p)&&g(h)){if(--l<=i)return function(e,t,n,o){for(var r=new Array(t-1),a=0,i=0,s=0,l=o.length;s<l;++s)if(s!==n){var u=o[s];u&&!g(u)&&(r[a++]=u,i|=1<<s)}return v(e,i,r)}(e,l,d,u);y=f(m,d,_,u)}else y=f(m,d,h,u);return m?(this.size=l,this.children=y,this):b(e,l,y)};function E(e,t,n,o,r){this._editable=e,this._edit=t,this._config=n,this._root=o,this._size=r}_._modify=function(e,t,n,o,r,a,i){var l=o();return l===s?_:(++i.value,m(e,r,a,l))},E.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new E(this._editable,this._edit,this._config,e,t)};var k=n.tryGetHash=function(e,t,n,o){for(var r=o._root,a=0,i=o._config.keyEq;;)switch(r.type){case 1:return i(n,r.key)?r.value:e;case 2:if(t===r.hash)for(var s=r.children,l=0,u=s.length;l<u;++l){var f=s[l];if(i(n,f.key))return f.value}return e;case 3:var h=c(a,t),_=d(h);if(r.mask&_){r=r.children[p(r.mask,_)],a+=5;break}return e;case 4:if(r=r.children[c(a,t)]){a+=5;break}return e;default:return e}};E.prototype.tryGetHash=function(e,t,n){return k(e,t,n,this)};var R=n.tryGet=function(e,t,n){return k(e,n._config.hash(t),t,n)};E.prototype.tryGet=function(e,t){return R(e,t,this)};var x=n.getHash=function(e,t,n){return k(void 0,e,t,n)};E.prototype.getHash=function(e,t){return x(e,t,this)},n.get=function(e,t){return k(void 0,t._config.hash(e),e,t)},E.prototype.get=function(e,t){return R(t,e,this)};var L=n.has=function(e,t,n){return k(s,e,t,n)!==s};E.prototype.hasHash=function(e,t){return L(e,t,this)};var N=n.has=function(e,t){return L(t._config.hash(e),e,t)};E.prototype.has=function(e){return N(e,this)};var I=function(e,t){return e===t};n.make=function(e){return new E(0,0,{keyEq:e&&e.keyEq||I,hash:e&&e.hash||u},_,0)},n.empty=n.make();var M=n.isEmpty=function(e){return e&&!!g(e._root)};E.prototype.isEmpty=function(){return M(this)};var P=n.modifyHash=function(e,t,n,o){var r={value:o._size},a=o._root._modify(o._editable?o._edit:NaN,o._config.keyEq,0,e,t,n,r);return o.setTree(a,r.value)};E.prototype.modifyHash=function(e,t,n){return P(n,e,t,this)};var j=n.modify=function(e,t,n){return P(e,n._config.hash(t),t,n)};E.prototype.modify=function(e,t){return j(t,e,this)};var D=n.setHash=function(e,t,n,o){return P(l(n),e,t,o)};E.prototype.setHash=function(e,t,n){return D(e,t,n,this)};var B=n.set=function(e,t,n){return D(n._config.hash(e),e,t,n)};E.prototype.set=function(e,t){return B(e,t,this)};var U=l(s),V=n.removeHash=function(e,t,n){return P(U,e,t,n)};E.prototype.removeHash=E.prototype.deleteHash=function(e,t){return V(e,t,this)};var H=n.remove=function(e,t){return V(t._config.hash(e),e,t)};E.prototype.remove=E.prototype.delete=function(e){return H(e,this)};var F=n.beginMutation=function(e){return new E(e._editable+1,e._edit+1,e._config,e._root,e._size)};E.prototype.beginMutation=function(){return F(this)};var G=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};E.prototype.endMutation=function(){return G(this)};var K=n.mutate=function(e,t){var n=F(t);return e(n),G(n)};E.prototype.mutate=function(e){return K(e,this)};var z=function(e){return e&&q(e[0],e[1],e[2],e[3],e[4])},q=function(e,t,n,o,r){for(;n<e;){var a=t[n++];if(a&&!g(a))return W(a,o,[e,t,n,o,r])}return z(r)},W=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var o=e.children;return q(o.length,o,0,t,n);default:return z(n)}},Z={done:!0};function Q(e){this.v=e}Q.prototype.next=function(){if(!this.v)return Z;var e=this.v;return this.v=z(e.rest),e},Q.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new Q(W(e._root,t))},J=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,J)};E.prototype.entries=E.prototype[Symbol.iterator]=function(){return X(this)};var $=function(e){return e.key},ee=n.keys=function(e){return Y(e,$)};E.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=E.prototype.values=function(e){return Y(e,te)};E.prototype.values=function(){return ne(this)};var oe=n.fold=function(e,t,n){var o=n._root;if(1===o.type)return e(t,o.value,o.key);for(var r=[o.children],a=void 0;a=r.pop();)for(var i=0,s=a.length;i<s;){var l=a[i++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):r.push(l.children))}return t};E.prototype.fold=function(e,t){return oe(e,t,this)};var re=n.forEach=function(e,t){return oe((function(n,o,r){return e(o,r,t)}),null,t)};E.prototype.forEach=function(e){return re(e,this)};var ae=n.count=function(e){return e._size};E.prototype.count=function(){return ae(this)},Object.defineProperty(E.prototype,"size",{get:E.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n}));class Xe{constructor(e){ie(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return et(this)}toMap(){return new Map(this._map)}}class $e{constructor(e){if(ie(this,"_hamt",Je.empty.beginMutation()),e instanceof $e){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return et(this)}toMap(){return new Map(this._hamt)}}function et(e){return Be("recoil_hamt_2020")?new $e(e):new Xe(e)}var tt=et,nt=Object.freeze({__proto__:null,persistentMap:tt});var ot=function(e,...t){const n=new Set;e:for(const o of e){for(const e of t)if(e.has(o))continue e;n.add(o)}return n};var rt=function(e,t){const n=new Map;return e.forEach(((e,o)=>{n.set(o,t(e,o))})),n};function at(e,t,n){const{nodeDeps:o,nodeToNodeSubscriptions:r}=t;e.forEach(((e,t)=>{const a=o.get(t);if(a&&n&&a!==n.nodeDeps.get(t))return;o.set(t,new Set(e));if((null==a?e:ot(e,a)).forEach((e=>{r.has(e)||r.set(e,new Set);ae(r.get(e)).add(t)})),a){ot(a,e).forEach((e=>{if(!r.has(e))return;const n=ae(r.get(e));n.delete(t),0===n.size&&r.delete(e)}))}}))}var it={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),ae(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:rt(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:rt(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach(((e,n)=>{t.has(n)||t.set(n,new Set);const o=ae(t.get(n));e.forEach((e=>o.add(e)))}))},saveDependencyMapToStore:function(e,t,n){var o,r,a,i;const s=t.getState();n!==s.currentTree.version&&n!==(null===(o=s.nextTree)||void 0===o?void 0:o.version)&&n!==(null===(r=s.previousTree)||void 0===r?void 0:r.version)&&Ve("Tried to save dependencies to a discarded tree");const l=t.getGraph(n);if(at(e,l),n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)){at(e,t.getGraph(s.currentTree.version),l)}if(n===(null===(i=s.previousTree)||void 0===i?void 0:i.version)||n===s.currentTree.version){var u;const n=null===(u=s.nextTree)||void 0===u?void 0:u.version;if(void 0!==n){at(e,t.getGraph(n),l)}}}};let st=0;let lt=0;let ut=0;var ct={getNextTreeStateVersion:()=>st++,getNextStoreID:()=>lt++,getNextComponentID:()=>ut++};const{persistentMap:dt}=nt,{graph:pt}=it,{getNextTreeStateVersion:ft}=ct;function ht(){const e=ft();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:dt(),nonvalidatedAtoms:dt()}}var _t={makeEmptyTreeState:ht,makeEmptyStoreState:function(){const e=ht();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,pt()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:ft};class gt{}var mt={RetentionZone:gt,retentionZone:function(){return new gt}};var yt={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const o=new Map(e);return o.set(t,n),o},mapByUpdatingInMap:function(e,t,n){const o=new Map(e);return o.set(t,n(o.get(t))),o},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var vt=function*(e,t){let n=0;for(const o of e)t(o,n++)&&(yield o)};var bt=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Tt,getNodeMaybe:Ct,recoilValuesForKeys:St}=Qe,{RetentionZone:Ot}=mt,{setByAddingToSet:At}=yt,wt=Object.freeze(new Set);class Et extends Error{}function kt(e,t,n,o){const r=e.getState();if(r.nodeCleanupFunctions.has(n))return;const a=Tt(n),i=function(e,t,n){if(!Be("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:o}=e.getState().retention;function r(e){let n=o.get(e);n||o.set(e,n=new Set),n.add(t)}if(n instanceof Ot)r(n);else if(Array.isArray(n))for(const e of n)r(e);return()=>{if(!Be("recoil_memory_managament_2020"))return;const{retention:o}=e.getState();function r(e){const n=o.nodesRetainedByZone.get(e);null==n||n.delete(t),n&&0===n.size&&o.nodesRetainedByZone.delete(e)}if(n instanceof Ot)r(n);else if(Array.isArray(n))for(const e of n)r(e)}}(e,n,a.retainedBy),s=a.init(e,t,o);r.nodeCleanupFunctions.set(n,(()=>{s(),i()}))}function Rt(e,t,n){return Tt(n).peek(e,t)}function xt(e,t,n){const o=new Set,r=Array.from(n),a=e.getGraph(t.version);for(let e=r.pop();e;e=r.pop()){var i;o.add(e);const t=null!==(i=a.nodeToNodeSubscriptions.get(e))&&void 0!==i?i:wt;for(const e of t)o.has(e)||r.push(e)}return o}var Lt,Nt,It,Mt={getNodeLoadable:function(e,t,n){return kt(e,t,n,"get"),Tt(n).get(e,t)},peekNodeLoadable:Rt,setNodeValue:function(e,t,n,o){const r=Tt(n);if(null==r.set)throw new Et(`Attempt to set read-only RecoilValue: ${n}`);const a=r.set;return kt(e,t,n,"set"),a(e,t,o)},initializeNode:function(e,t,n){kt(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const o=e.getState();null===(n=o.nodeCleanupFunctions.get(t))||void 0===n||n(),o.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var o;const r=Ct(t);return null==r||null===(o=r.invalidate)||void 0===o||o.call(r,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:At(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const o=e.getState(),r=e.getGraph(t.version),a=Tt(n).nodeType;return bt({type:a},{loadable:()=>Rt(e,t,n),isActive:()=>o.knownAtoms.has(n)||o.knownSelectors.has(n),isSet:()=>"selector"!==a&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return St(null!==(e=r.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var r,a;return{nodes:St(vt(xt(e,t,new Set([n])),(e=>e!==n))),components:Ue(null!==(r=null===(a=o.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==r?r:[],(([e])=>({name:e})))}}})},getDownstreamNodes:xt};const Pt=null!==(Lt=o.createMutableSource)&&void 0!==Lt?Lt:o.unstable_createMutableSource,jt=null!==(Nt=o.useMutableSource)&&void 0!==Nt?Nt:o.unstable_useMutableSource,Dt=null!==(It=o.useSyncExternalStore)&&void 0!==It?It:o.unstable_useSyncExternalStore;var Bt={createMutableSource:Pt,useMutableSource:jt,useSyncExternalStore:Dt,reactMode:function(){return Be("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Be("recoil_sync_external_store")&&null!=Dt?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Be("recoil_mutable_source")&&null!=jt&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Be("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Be("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}};const{getDownstreamNodes:Ut,getNodeLoadable:Vt,setNodeValue:Ht}=Mt,{getNextComponentID:Ft}=ct,{getNode:Gt,getNodeMaybe:Kt}=Qe,{DefaultValue:zt,RecoilValueNotReady:qt}=Qe,{reactMode:Wt}=Bt,{AbstractRecoilValue:Zt,RecoilState:Qt,RecoilValueReadOnly:Yt,isRecoilValue:Jt}=Me;function Xt(e,t,n){if("set"===n.type){const{recoilValue:o,valueOrUpdater:r}=n,a=function(e,t,{key:n},o){if("function"==typeof o){const r=Vt(e,t,n);if("loading"===r.state)throw new qt(n);if("hasError"===r.state)throw r.contents;return o(r.contents)}return o}(e,t,o,r),i=Ht(e,t,o.key,a);for(const[e,n]of i.entries())$t(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:o}=n;$t(t,e,o)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var o;const{recoilValue:{key:e},unvalidatedValue:r}=n,a=Kt(e);null==a||null===(o=a.invalidate)||void 0===o||o.call(a,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,r),t.dirtyAtoms.add(e)}else Ve(`Unknown action ${n.type}`)}function $t(e,t,n){"hasValue"===n.state&&n.contents instanceof zt?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function en(e,t){e.replaceState((n=>{const o=on(n);for(const n of t)Xt(e,o,n);return rn(e,o),o}))}function tn(e,t){if(nn.length){const n=nn[nn.length-1];let o=n.get(e);o||n.set(e,o=[]),o.push(t)}else en(e,[t])}const nn=[];function on(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function rn(e,t){const n=Ut(e,t,t.dirtyAtoms);for(const e of n){var o,r;null===(o=Kt(e))||void 0===o||null===(r=o.invalidate)||void 0===r||r.call(o,t)}}function an(e,t,n){tn(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var sn={RecoilValueReadOnly:Yt,AbstractRecoilValue:Zt,RecoilState:Qt,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var o,r;const a=e.getState();n.version!==a.currentTree.version&&n.version!==(null===(o=a.nextTree)||void 0===o?void 0:o.version)&&n.version!==(null===(r=a.previousTree)||void 0===r?void 0:r.version)&&Ve("Tried to read from a discarded tree");const i=Vt(e,n,t);return"loading"===i.state&&i.contents.catch((()=>{})),i},setRecoilValue:an,setRecoilValueLoadable:function(e,t,n){if(n instanceof zt)return an(e,t,n);tn(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){tn(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){tn(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,o=null){const r=Ft(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),ae(a.nodeToComponentSubscriptions.get(t)).set(r,[null!=o?o:"<not captured>",n]);const i=Wt();if(i.early&&("LEGACY"===i.mode||"MUTABLE_SOURCE"===i.mode)){const o=e.getState().nextTree;o&&o.dirtyAtoms.has(t)&&n(o)}return{release:()=>{const n=e.getState(),o=n.nodeToComponentSubscriptions.get(t);void 0!==o&&o.has(r)?(o.delete(r),0===o.size&&n.nodeToComponentSubscriptions.delete(t)):Ve(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`)}}},isRecoilValue:Jt,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof zt?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return nn.push(e),()=>{for(const[t,n]of e)en(t,n);nn.pop()!==e&&Ve("Incorrect order of batch popping")}},writeLoadableToTreeState:$t,invalidateDownstreams:rn,copyTreeState:on,refreshRecoilValue:function(e,t){var n;const{currentTree:o}=e.getState(),r=Gt(t.key);null===(n=r.clearCache)||void 0===n||n.call(r,e,o)},invalidateDownstreams_FOR_TESTING:rn};var ln=function(e,t,n){const o=e.entries();let r=o.next();for(;!r.done;){const a=r.value;if(t.call(n,a[1],a[0],e))return!0;r=o.next()}return!1};const{cleanUpNode:un}=Mt,{deleteNodeConfigIfPossible:cn,getNode:dn}=Qe,{RetentionZone:pn}=mt,fn=new Set;function hn(e,t){const n=e.getState(),o=n.currentTree;if(n.nextTree)return void Ve("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const r=new Set;for(const e of t)if(e instanceof pn)for(const t of gn(n,e))r.add(t);else r.add(e);const a=function(e,t){const n=e.getState(),o=n.currentTree,r=e.getGraph(o.version),a=new Set,i=new Set;return s(t),a;function s(t){const l=new Set,u=function(e,t,n,o,r){const a=e.getGraph(t.version),i=[],s=new Set;for(;n.size>0;)l(ae(n.values().next().value));return i;function l(e){if(o.has(e)||r.has(e))return void n.delete(e);if(s.has(e))return;const t=a.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)l(e);s.add(e),n.delete(e),i.push(e)}}(e,o,t,a,i);for(const e of u){var c;if("recoilRoot"===dn(e).retainedBy){i.add(e);continue}if((null!==(c=n.retention.referenceCounts.get(e))&&void 0!==c?c:0)>0){i.add(e);continue}if(mn(e).some((e=>n.retention.referenceCounts.get(e)))){i.add(e);continue}const t=r.nodeToNodeSubscriptions.get(e);t&&ln(t,(e=>i.has(e)))?i.add(e):(a.add(e),l.add(e))}const d=new Set;for(const e of l)for(const t of null!==(p=r.nodeDeps.get(e))&&void 0!==p?p:fn){var p;a.has(t)||d.add(t)}d.size&&s(d)}}(e,r);for(const t of a)_n(e,o,t)}function _n(e,t,n){if(!Be("recoil_memory_managament_2020"))return;un(e,n);const o=e.getState();o.knownAtoms.delete(n),o.knownSelectors.delete(n),o.nodeTransactionSubscriptions.delete(n),o.retention.referenceCounts.delete(n);const r=mn(n);for(const e of r){var a;null===(a=o.retention.nodesRetainedByZone.get(e))||void 0===a||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const i=o.graphsByVersion.get(t.version);if(i){const e=i.nodeDeps.get(n);if(void 0!==e){i.nodeDeps.delete(n);for(const t of e){var s;null===(s=i.nodeToNodeSubscriptions.get(t))||void 0===s||s.delete(n)}}i.nodeToNodeSubscriptions.delete(n)}cn(n)}function gn(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:fn}function mn(e){const t=dn(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof pn?[t]:t}function yn(e,t){if(!Be("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):hn(e,new Set([t]))}(e,t)}var vn={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var o;if(!Be("recoil_memory_managament_2020"))return;const r=e.getState().retention.referenceCounts,a=(null!==(o=r.get(t))&&void 0!==o?o:0)+n;0===a?yn(e,t):r.set(t,a)},updateRetainCountToZero:yn,releaseScheduledRetainablesNow:function(e){if(!Be("recoil_memory_managament_2020"))return;const t=e.getState();hn(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:bn}=r;var Tn={unstable_batchedUpdates:bn};const{unstable_batchedUpdates:Cn}=Tn;var Sn={unstable_batchedUpdates:Cn};const{batchStart:On}=sn,{unstable_batchedUpdates:An}=Sn;let wn=An;var En={getBatcher:()=>wn,setBatcher:e=>{wn=e},batchUpdates:e=>{wn((()=>{let t=()=>{};try{t=On(),e()}finally{t()}}))}};var kn=function*(e){for(const t of e)for(const e of t)yield e};var Rn={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};var xn={memoizeWithArgsHash:function(e,t){let n;return(...o)=>{n||(n={});const r=t(...o);return Object.hasOwnProperty.call(n,r)||(n[r]=e.apply(this,o)),n[r]}},memoizeOneWithArgsHash:function(e,t){let n,o;return(...r)=>{const a=t(...r);return n===a||(n=a,o=e.apply(this,r)),o}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,o;return[(...r)=>{const a=t(...r);return n===a||(n=a,o=e.apply(this,r)),o},()=>{n=null}]}};const{batchUpdates:Ln}=En,{initializeNode:Nn,peekNodeInfo:In}=Mt,{graph:Mn}=it,{getNextStoreID:Pn}=ct,{DEFAULT_VALUE:jn,recoilValues:Dn,recoilValuesForKeys:Bn}=Qe,{AbstractRecoilValue:Un,getRecoilValueAsLoadable:Vn,setRecoilValue:Hn,setUnvalidatedRecoilValue:Fn}=sn,{updateRetainCount:Gn}=vn,{getNextTreeStateVersion:Kn,makeEmptyStoreState:zn}=_t,{isSSR:qn}=Rn,{memoizeOneWithArgsHashAndInvalidation:Wn}=xn;class Zn{constructor(e){ie(this,"_store",void 0),ie(this,"_refCount",1),ie(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),Vn(this._store,e)))),ie(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),ie(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return Bn(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?Dn.values():!0===e.isInitialized?Bn(kn([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):vt(Dn.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),ie(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),In(this._store,this._store.getState().currentTree,e)))),ie(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new Xn(this,Ln);return e(t),t})),ie(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new Xn(this,Ln);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:Pn(),getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return ae(n.get(t));const o=Mn();return n.set(t,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw oe("Cannot subscribe to Snapshots")}};for(const e of this._store.getState().knownAtoms)Nn(this._store,e,"get"),Gn(this._store,e,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&Ve("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){qn||window.setTimeout((()=>this._release()),0)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!Be("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Be("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function Qn(e,t,n=!1){const o=e.getState(),r=n?Kn():t.version;return{currentTree:n?{version:r,stateID:r,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(o.knownAtoms),knownSelectors:new Set(o.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(r,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Ue(o.nodeCleanupFunctions.entries(),(([e])=>[e,()=>{}])))}}const[Yn,Jn]=Wn(((e,t)=>{const n=e.getState(),o="current"===t?n.currentTree:ae(n.previousTree);return new Zn(Qn(e,o))}),((e,t)=>{var n;return String(t)+String(e.storeID)+String(e.getState().currentTree.version)+String(null===(n=e.getState().previousTree)||void 0===n?void 0:n.version)}));class Xn extends Zn{constructor(e,t){super(Qn(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),ie(this,"_batch",void 0),ie(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Gn(n,e.key,1),Hn(this.getStore_INTERNAL(),e,t)}))})),ie(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Gn(t,e.key,1),Hn(this.getStore_INTERNAL(),e,jn)}))})),ie(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();Ln((()=>{for(const[n,o]of e.entries())Gn(t,n,1),Fn(t,new Un(n),o)}))})),this._batch=t}}var $n={Snapshot:Zn,MutableSnapshot:Xn,freshSnapshot:function(e){const t=new Zn(zn());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="current"){const n=Yn(e,t);return n.isRetained()?n:(Jn(),Yn(e,t))}},eo=$n.Snapshot,to=$n.MutableSnapshot,no=$n.freshSnapshot,oo=$n.cloneSnapshot,ro=Object.freeze({__proto__:null,Snapshot:eo,MutableSnapshot:to,freshSnapshot:no,cloneSnapshot:oo});var ao=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t};const{useRef:io}=o;var so=function(e){const t=io(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:lo,makeEmptyStoreState:uo}=_t,{cleanUpNode:co,getDownstreamNodes:po,initializeNode:fo,setNodeValue:ho,setUnvalidatedAtomValue_DEPRECATED:_o}=Mt,{graph:go}=it,{cloneGraph:mo}=it,{getNextStoreID:yo}=ct,{createMutableSource:vo,reactMode:bo}=Bt,{applyAtomValueWrites:To}=sn,{releaseScheduledRetainablesNow:Co}=vn,{freshSnapshot:So}=ro,{useCallback:Oo,useContext:Ao,useEffect:wo,useMemo:Eo,useRef:ko,useState:Ro}=o;function xo(){throw oe("This component must be used inside a <RecoilRoot> component.")}const Lo=Object.freeze({storeID:yo(),getState:xo,replaceState:xo,getGraph:xo,subscribeToTransactions:xo,addTransactionMetadata:xo});let No=!1;function Io(e){if(No)throw oe("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){Be("recoil_memory_managament_2020")&&Be("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Co(e);const n=t.currentTree.version,o=lo();t.nextTree={...t.currentTree,version:o,stateID:o,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(o,mo(ae(t.graphsByVersion.get(n))))}}const Mo=o.createContext({current:Lo}),Po=()=>Ao(Mo),jo=o.createContext(null);function Do(e,t,n){const o=po(e,n,n.dirtyAtoms);for(const e of o){const o=t.nodeToComponentSubscriptions.get(e);if(o)for(const[e,[t,r]]of o)r(n)}}function Bo(e){const t=e.getState(),n=t.currentTree,o=n.dirtyAtoms;if(o.size){for(const[n,r]of t.nodeTransactionSubscriptions)if(o.has(n))for(const[t,n]of r)n(e);for(const[n,o]of t.transactionSubscriptions)o(e);(!bo().early||t.suspendedComponentResolvers.size>0)&&(Do(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Uo({setNotifyBatcherOfChange:e}){const t=Po(),[,n]=Ro([]);return e((()=>n({}))),wo((()=>(e((()=>n({}))),()=>{e((()=>{}))})),[e]),wo((()=>{Ye.enqueueExecution("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Bo(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):Ve("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Be("recoil_memory_managament_2020")&&Co(e)}finally{t.commitDepth--}}(t.current)}))})),null}let Vo=0;function Ho({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let a;const i=e=>{const t=a.current.graphsByVersion;if(t.has(e))return ae(t.get(e));const n=go();return t.set(e,n),n},s=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=p.current.getState(),n=Vo++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=p.current.getState();n.has(t)||n.set(t,new Map);const o=Vo++;return ae(n.get(t)).set(o,e),{release:()=>{const e=n.get(t);e&&(e.delete(o),0===e.size&&n.delete(t))}}}},l=e=>{Io(p.current);for(const t of Object.keys(e))ae(p.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{Io(p.current);const t=ae(a.current.nextTree);let n;try{No=!0,n=e(t)}finally{No=!1}n!==t&&(a.current.nextTree=n,bo().early&&Do(p.current,a.current,n),ae(c.current)())},c=ko(null),d=Oo((e=>{c.current=e}),[c]),p=so((()=>null!=n?n:{storeID:yo(),getState:()=>a.current,replaceState:u,getGraph:i,subscribeToTransactions:s,addTransactionMetadata:l}));null!=n&&(p.current=n),a=so((()=>null!=e?function(e,t){const n=uo();return t({set:(t,o)=>{const r=n.currentTree,a=ho(e,r,t.key,o),i=new Set(a.keys()),s=r.nonvalidatedAtoms.clone();for(const e of i)s.delete(e);n.currentTree={...r,dirtyAtoms:ao(r.dirtyAtoms,i),atomValues:To(r.atomValues,a),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=_o(n.currentTree,t,e)}))}}),n}(p.current,e):null!=t?function(e){const t=So().map(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((e=>e())),n.nodeCleanupFunctions.clear(),n}(t):uo()));const f=Eo((()=>null==vo?void 0:vo(a,(()=>a.current.currentTree.version))),[a]);return wo((()=>{const e=p.current;for(const t of new Set(e.getState().knownAtoms))fo(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)co(e,t)}}),[p]),o.createElement(Mo.Provider,{value:p},o.createElement(jo.Provider,{value:f},o.createElement(Uo,{setNotifyBatcherOfChange:d}),r))}var Fo={RecoilRoot:function(e){const{override:t,...n}=e,r=Po();return!1===t&&r.current!==Lo?e.children:o.createElement(Ho,n)},useStoreRef:Po,useRecoilMutableSource:function(){const e=Ao(jo);return null==e&&Pe("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return Po().current.storeID},notifyComponents_FOR_TESTING:Do,sendEndOfBatchNotifications_FOR_TESTING:Bo};var Go=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:Ko,useRef:zo}=o;var qo=function(e){const t=zo();return Ko((()=>{t.current=e})),t.current};const{useStoreRef:Wo}=Fo,{SUSPENSE_TIMEOUT_MS:Zo}=vn,{updateRetainCount:Qo}=vn,{RetentionZone:Yo}=mt,{useEffect:Jo,useRef:Xo}=o,{isSSR:$o}=Rn;var er=function(e){if(Be("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof Yo?e:e.key)),n=Wo();Jo((()=>{if(!Be("recoil_memory_managament_2020"))return;const e=n.current;if(o.current&&!$o)window.clearTimeout(o.current),o.current=null;else for(const n of t)Qo(e,n,1);return()=>{for(const n of t)Qo(e,n,-1)}}),[n,...t]);const o=Xo(),r=qo(t);if(!($o||void 0!==r&&Go(r,t))){const e=n.current;for(const n of t)Qo(e,n,1);if(r)for(const t of r)Qo(e,t,-1);o.current&&window.clearTimeout(o.current),o.current=window.setTimeout((()=>{o.current=null;for(const n of t)Qo(e,n,-1)}),Zo)}}(e)};const{useRef:tr}=o;var nr=function(){return tr(),"<component name not available>"};const{batchUpdates:or}=En,{DEFAULT_VALUE:rr}=Qe,{reactMode:ar,useMutableSource:ir,useSyncExternalStore:sr}=Bt,{useRecoilMutableSource:lr,useStoreRef:ur}=Fo,{isRecoilValue:cr}=Me,{AbstractRecoilValue:dr,getRecoilValueAsLoadable:pr,setRecoilValue:fr,setUnvalidatedRecoilValue:hr,subscribeToRecoilValue:_r}=sn,{useCallback:gr,useEffect:mr,useMemo:yr,useRef:vr,useState:br}=o,{setByAddingToSet:Tr}=yt;function Cr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}))}throw"hasError"===e.state?e.contents:oe(`Invalid value of loadable atom "${t.key}"`)}function Sr(e){const t=ur(),n=nr(),o=gr((()=>{var n;const o=t.current,r=o.getState(),a=ar().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return{loadable:pr(o,e,a),key:e.key}}),[t,e]),r=gr((e=>{let t;return()=>{var n,o;const r=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(r.loadable)&&(null===(o=t)||void 0===o?void 0:o.key)===r.key?t:(t=r,r)}}),[]),a=yr((()=>r(o)),[o,r]),i=gr((o=>{const r=t.current;return _r(r,e,o,n).release}),[t,e,n]);return sr(i,a,a).loadable}function Or(e){const t=ur(),n=gr((()=>{var n;const o=t.current,r=o.getState(),a=ar().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return pr(o,e,a)}),[t,e]),o=gr((()=>n()),[n]),r=nr(),a=gr(((o,a)=>{const i=t.current;return _r(i,e,(()=>{if(!Be("recoil_suppress_rerender_in_callback"))return a();const e=n();l.current.is(e)||a(),l.current=e}),r).release}),[t,e,r,n]),i=lr();if(null==i)throw oe("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const s=ir(i,o,a),l=vr(s);return mr((()=>{l.current=s})),s}function Ar(e){const t=ur(),n=nr(),o=gr((()=>{var n;const o=t.current,r=o.getState(),a=ar().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return pr(o,e,a)}),[t,e]),r=gr((()=>({loadable:o(),key:e.key})),[o,e.key]),a=gr((e=>{const t=r();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[r]);mr((()=>{const o=_r(t.current,e,(e=>{s(a)}),n);return s(a),o.release}),[n,e,t,a]);const[i,s]=br(r);return i.key!==e.key?r().loadable:i.loadable}function wr(e){const t=ur(),[,n]=br([]),o=nr(),r=gr((()=>{var n;const o=t.current,r=o.getState(),a=ar().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return pr(o,e,a)}),[t,e]),a=r(),i=vr(a);return mr((()=>{i.current=a})),mr((()=>{const a=t.current,s=a.getState(),l=_r(a,e,(e=>{var t;if(!Be("recoil_suppress_rerender_in_callback"))return n([]);const o=r();null!==(t=i.current)&&void 0!==t&&t.is(o)||n(o),i.current=o}),o);if(s.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{i.current=null,n([])}));else{var u;if(!Be("recoil_suppress_rerender_in_callback"))return n([]);const e=r();null!==(u=i.current)&&void 0!==u&&u.is(e)||n(e),i.current=e}return l.release}),[o,r,e,t]),a}function Er(e){return Be("recoil_memory_managament_2020")&&er(e),{TRANSITION_SUPPORT:Ar,SYNC_EXTERNAL_STORE:Sr,MUTABLE_SOURCE:Or,LEGACY:wr}[ar().mode](e)}function kr(e){const t=ur();return Cr(Er(e),e,t)}function Rr(e){const t=ur();return gr((n=>{fr(t.current,e,n)}),[t,e])}function xr(e){return Be("recoil_memory_managament_2020")&&er(e),Ar(e)}function Lr(e){const t=ur();return Cr(xr(e),e,t)}var Nr={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=nr(),t=ur(),[,n]=br([]),o=vr(new Set);o.current=new Set;const r=vr(new Set),a=vr(new Map),i=gr((e=>{const t=a.current.get(e);t&&(t.release(),a.current.delete(e))}),[a]),s=gr(((e,t)=>{a.current.has(t)&&n([])}),[]);return mr((()=>{const n=t.current;ot(o.current,r.current).forEach((t=>{if(a.current.has(t))return void Pe(`Double subscription to RecoilValue "${t}"`);const o=_r(n,new dr(t),(e=>s(e,t)),e);a.current.set(t,o);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{s(n.getState(),t)})):s(n.getState(),t)})),ot(r.current,o.current).forEach((e=>{i(e)})),r.current=o.current})),mr((()=>{const n=a.current;return ot(o.current,new Set(n.keys())).forEach((o=>{const r=_r(t.current,new dr(o),(e=>s(e,o)),e);n.set(o,r)})),()=>n.forEach(((e,t)=>i(t)))}),[e,t,i,s]),yr((()=>{function e(e){return n=>{fr(t.current,e,n)}}function n(e){var n;o.current.has(e.key)||(o.current=Tr(o.current,e.key));const r=t.current.getState();return pr(t.current,e,ar().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree)}function r(e){return Cr(n(e),e,t)}return{getRecoilValue:r,getRecoilValueLoadable:n,getRecoilState:function(t){return[r(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>fr(t.current,e,rr)}}}),[o,t])},useRecoilState:function(e){return[kr(e),Rr(e)]},useRecoilStateLoadable:function(e){return[Er(e),Rr(e)]},useRecoilValue:kr,useRecoilValueLoadable:Er,useResetRecoilState:function(e){const t=ur();return gr((()=>{fr(t.current,e,rr)}),[t,e])},useSetRecoilState:Rr,useSetUnvalidatedAtomValues:function(){const e=ur();return(t,n={})=>{or((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>hr(e.current,new dr(n),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:xr,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Lr,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[Lr(e),Rr(e)]}};var Ir=function(e,t){const n=new Map;for(const[o,r]of e)t(r,o)&&n.set(o,r);return n};var Mr=function(e,t){const n=new Set;for(const o of e)t(o)&&n.add(o);return n};var Pr=function(...e){const t=new Map;for(let n=0;n<e.length;n++){const o=e[n].keys();let r;for(;!(r=o.next()).done;)t.set(r.value,e[n].get(r.value))}return t};const{batchUpdates:jr}=En,{DEFAULT_VALUE:Dr,getNode:Br,nodes:Ur}=Qe,{useStoreRef:Vr}=Fo,{AbstractRecoilValue:Hr,setRecoilValueLoadable:Fr}=sn,{SUSPENSE_TIMEOUT_MS:Gr}=vn,{cloneSnapshot:Kr}=ro,{useCallback:zr,useEffect:qr,useRef:Wr,useState:Zr}=o,{isSSR:Qr}=Rn;function Yr(e){const t=Vr();qr((()=>t.current.subscribeToTransactions(e).release),[e,t])}function Jr(e){const t=e.atomValues.toMap(),n=rt(Ir(t,((e,t)=>{const n=Br(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return Pr(e.nonvalidatedAtoms.toMap(),n)}function Xr(e,t){var n;const o=e.getState(),r=null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree,a=t.getStore_INTERNAL().getState().currentTree;jr((()=>{const n=new Set;for(const e of[r.atomValues.keys(),a.atomValues.keys()])for(const t of e){var o,i;(null===(o=r.atomValues.get(t))||void 0===o?void 0:o.contents)!==(null===(i=a.atomValues.get(t))||void 0===i?void 0:i.contents)&&Br(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{Fr(e,new Hr(t),a.atomValues.has(t)?ae(a.atomValues.get(t)):Dr)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var $r={useRecoilSnapshot:function(){const e=Vr(),[t,n]=Zr((()=>Kr(e.current))),o=qo(t),r=Wr(),a=Wr();if(Yr(zr((e=>n(Kr(e))),[])),qr((()=>{const e=t.retain();var n;r.current&&!Qr&&(window.clearTimeout(r.current),r.current=null,null===(n=a.current)||void 0===n||n.call(a),a.current=null);return e}),[t]),o!==t&&!Qr){var i;if(r.current)window.clearTimeout(r.current),r.current=null,null===(i=a.current)||void 0===i||i.call(a),a.current=null;a.current=t.retain(),r.current=window.setTimeout((()=>{var e;r.current=null,null===(e=a.current)||void 0===e||e.call(a),a.current=null}),Gr)}return t},gotoSnapshot:Xr,useGotoRecoilSnapshot:function(){const e=Vr();return zr((t=>Xr(e.current,t)),[e])},useRecoilTransactionObserver:function(e){Yr(zr((t=>{const n=Kr(t,"current"),o=Kr(t,"previous");e({snapshot:n,previousSnapshot:o})}),[e]))},useTransactionObservation_DEPRECATED:function(e){Yr(zr((t=>{let n=t.getState().previousTree;const o=t.getState().currentTree;n||(Ve("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const r=Jr(o),a=Jr(n),i=rt(Ur,(e=>{var t,n,o,r;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(o=null===(r=e.persistence_UNSTABLE)||void 0===r?void 0:r.backButton)&&void 0!==o&&o}}})),s=Mr(o.dirtyAtoms,(e=>r.has(e)||a.has(e)));e({atomValues:r,previousAtomValues:a,atomInfo:i,modifiedAtoms:s,transactionMetadata:{...o.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:Yr};const{peekNodeInfo:ea}=Mt,{useStoreRef:ta}=Fo;var na=function(){const e=ta();return({key:t})=>ea(e.current,e.current.getState().currentTree,t)};const{reactMode:oa}=Bt,{RecoilRoot:ra,useStoreRef:aa}=Fo,{useMemo:ia}=o;var sa=function(){"MUTABLE_SOURCE"===oa().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=aa().current;return ia((()=>function({children:t}){return o.createElement(ra,{store_INTERNAL:e},t)}),[e])};const{loadableWithValue:la}=Ae,{initializeNode:ua}=Mt,{DEFAULT_VALUE:ca,getNode:da}=Qe,{copyTreeState:pa,getRecoilValueAsLoadable:fa,invalidateDownstreams:ha,writeLoadableToTreeState:_a}=sn;function ga(e){return"atom"===da(e.key).nodeType}class ma{constructor(e,t){ie(this,"_store",void 0),ie(this,"_treeState",void 0),ie(this,"_changes",void 0),ie(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!ga(e))throw oe("Reading selectors within atomicUpdate is not supported");const t=fa(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:oe(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),ie(this,"set",((e,t)=>{if(!ga(e))throw oe("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else ua(this._store,e.key,"set"),this._changes.set(e.key,t)})),ie(this,"reset",(e=>{this.set(e,ca)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=pa(this._treeState);for(const[t,n]of this._changes)_a(e,t,la(n));return ha(this._store,e),e}}var ya=function(e){return t=>{e.replaceState((n=>{const o=new ma(e,n);return t(o),o.newTreeState_INTERNAL()}))}},va=Object.freeze({__proto__:null,atomicUpdater:ya});var ba=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:Ta}=va,{batchUpdates:Ca}=En,{DEFAULT_VALUE:Sa}=Qe,{useStoreRef:Oa}=Fo,{refreshRecoilValue:Aa,setRecoilValue:wa}=sn,{Snapshot:Ea,cloneSnapshot:ka}=ro,{gotoSnapshot:Ra}=$r,{useCallback:xa}=o;class La{}const Na=new La;function Ia(e,t,n,o){let r=Na;return Ca((()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw oe(a);const i=bt({...null!=o?o:{},set:(t,n)=>wa(e,t,n),reset:t=>wa(e,t,Sa),refresh:t=>Aa(e,t),gotoSnapshot:t=>Ra(e,t),transact_UNSTABLE:t=>Ta(e)(t)},{snapshot:()=>ka(e)}),s=t(i);if("function"!=typeof s)throw oe(a);r=s(...n)})),r instanceof La&&ba(!1),r}var Ma={recoilCallback:Ia,useRecoilCallback:function(e,t){const n=Oa();return xa(((...t)=>Ia(n.current,e,t)),null!=t?[...t,n]:void 0)}};const{useStoreRef:Pa}=Fo,{refreshRecoilValue:ja}=sn,{useCallback:Da}=o;var Ba=function(e){const t=Pa();return Da((()=>{const n=t.current;ja(n,e)}),[e,t])};const{atomicUpdater:Ua}=va,{useStoreRef:Va}=Fo,{useMemo:Ha}=o;var Fa=function(e,t){const n=Va();return Ha((()=>(...t)=>{Ua(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)};const Ga=(e,t,n)=>{var o;if(null==e)return;if(null==n||null===(o=n.onNodeVisit)||void 0===o||o.call(n,e),"leaf"===e.type)return e;const r=t(e.nodeKey);return Ga(e.branches.get(r),t,n)},Ka=(e,t,n,o,r,a,i)=>{var s;let l;if(null==e)if(0===t.length)l={type:"leaf",value:o,parent:n,branchKey:r};else{const[e,...s]=t,[u,c]=e;l={type:"branch",nodeKey:u,parent:n,branches:new Map,branchKey:r},l.branches.set(c,Ka(null,s,l,o,c,a,i))}else if(l=e,t.length){const[n,...r]=t,[s,u]=n;if("branch"!==e.type||e.nodeKey!==s)return Ve("Existing cache must have a branch midway through the route with matching node key. Resetting cache."),i(),l;e.branches.set(u,Ka(e.branches.get(u),r,e,o,u,a,i))}return null==a||null===(s=a.onNodeVisit)||void 0===s||s.call(a,l),l},za=(e,t,n)=>n?(n.branches.delete(t.branchKey),qa(e,n,n.parent)):e===t,qa=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),qa(e,n,n.parent)):e===t,Wa=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce(((e,t)=>e+Wa(t)),0);var Za=class{constructor(e){var t,n,o;ie(this,"_numLeafs",void 0),ie(this,"_root",void 0),ie(this,"_onHit",void 0),ie(this,"_onSet",void 0),ie(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(o=null==e?void 0:e.mapNodeValue)&&void 0!==o?o:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return Ga(this.root(),(t=>this._mapNodeValue(e(t))),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let o,r=null;const a=()=>{r=Ka(this.root(),e.map((([e,t])=>[e,this._mapNodeValue(t)])),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(o=e)}},(()=>{this.clear(),a()}))};a(),this.root()||(this._root=r),this._numLeafs++,this._onSet(ae(o))}delete(e){if(!this.root())return!1;const t=ae(this.root());return!!za(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=Wa(e),!0))}clear(){this._numLeafs=0,this._root=null}},Qa=Za,Ya=Object.freeze({__proto__:null,TreeCache:Qa});var Ja=class{constructor(e){var t;ie(this,"_maxSize",void 0),ie(this,"_size",void 0),ie(this,"_head",void 0),ie(this,"_tail",void 0),ie(this,"_map",void 0),ie(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const o=this.head(),r={key:e,right:o,left:null,value:t};o?o.left=r:this._tail=r,this._map.set(n,r),this._head=r,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=ae(this._map.get(t)),o=n.right,r=n.left;o&&(o.left=n.left),r&&(r.right=n.right),n===this.head()&&(this._head=o),n===this.tail()&&(this._tail=r),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},Xa=Ja,$a=Object.freeze({__proto__:null,LRUCache:Xa});const{LRUCache:ei}=$a,{TreeCache:ti}=Ya;var ni=function(e,t=(e=>e)){const n=new ei({maxSize:e}),o=new ti({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{const r=n.tail();n.set(t,!0),r&&o.size()>e&&o.delete(r.key)}});return o};function oi(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw oe("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var o;if("object"!=typeof e)return null!==(o=JSON.stringify(e))&&void 0!==o?o:"";if(re(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>oi(e,t,n.toString())))}]`;if("function"==typeof e.toJSON)return oi(e.toJSON(n),t,n);if(e instanceof Map){const o={};for(const[n,r]of e)o["string"==typeof n?n:oi(n,t)]=r;return oi(o,t,n)}return e instanceof Set?oi(Array.from(e).sort(((e,n)=>oi(e,t).localeCompare(oi(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?oi(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${oi(n,t)}:${oi(e[n],t,n)}`)).join(",")}}`}var ri=function(e,t={allowFunctions:!1}){return oi(e,t)};const{TreeCache:ai}=Ya,ii={equality:"reference",eviction:"keep-all",maxSize:1/0};var si=function({equality:e=ii.equality,eviction:t=ii.eviction,maxSize:n=ii.maxSize}=ii){const o=function(e){switch(e){case"reference":return e=>e;case"value":return e=>ri(e)}throw oe(`Unrecognized equality policy ${e}`)}(e),r=function(e,t,n){switch(e){case"keep-all":return new ai({mapNodeValue:n});case"lru":return ni(ae(t),n);case"most-recent":return ni(1,n)}throw oe(`Unrecognized eviction policy ${e}`)}(t,n,o);return r};const{isReactNative:li,isSSR:ui}=Rn;var ci={startPerfBlock:function(e){return()=>null}};const{loadableWithError:di,loadableWithPromise:pi,loadableWithValue:fi}=Ae,{getNodeLoadable:hi,peekNodeLoadable:_i,setNodeValue:gi}=Mt,{saveDependencyMapToStore:mi}=it,{DEFAULT_VALUE:yi,RecoilValueNotReady:vi,getConfigDeletionHandler:bi,getNode:Ti,registerNode:Ci}=Qe,{isRecoilValue:Si}=Me,{markRecoilValueModified:Oi}=sn,{retainedByOptionWithDefault:Ai}=vn,{recoilCallback:wi}=Ma,{startPerfBlock:Ei}=ci;class ki{}const Ri=new ki,xi=[],Li=new Map,Ni=(()=>{let e=0;return()=>e++})();var Ii=function(e){let t=null;const{key:n,get:o,cachePolicy_UNSTABLE:r}=e,a=null!=e.set?e.set:void 0,i=new Set,s=si(null!=r?r:{equality:"reference",eviction:"keep-all"}),l=Ai(e.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Be("recoil_memory_managament_2020")||c>0}function p(e){return e.getState().knownSelectors.add(n),c++,()=>{c--}}function f(){return void 0!==bi(n)&&!d()}function h(e,t,n,o,r){R(t,o,r),v(e,t,new Set(r.keys()),n),_(e,n)}function _(e,n){k(e,n)&&E(e);const o=Li.get(n);if(void 0!==o){for(const e of o)Oi(e,ae(t));Li.delete(n)}}function g(e,t){let n=Li.get(t);null==n&&Li.set(t,n=new Set),n.add(e)}function m(e,t,n){const o=e.getState().knownSelectors.has(n);if(o&&t.atomValues.has(n))return ae(t.atomValues.get(n));const r=hi(e,t,n);return"loading"!==r.state&&o&&t.atomValues.set(n,r),r}function y(e,t,n,o,r,a){return t.then((o=>{if(!d())throw E(e),Ri;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,fi(o)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const i=T(e,n);if(i&&"loading"!==i.state){if((k(e,r)||null==A(e))&&_(e,r),"hasValue"===i.state)return i.contents;throw i.contents}if(!k(e,r)){const e=S(n);if("loading"===(null==e?void 0:e.latestLoadable.state))return e.latestLoadable.contents}const[s,l]=b(e,n,r);if(w(e,r,l),"loading"!==s.state&&h(e,n,r,s,l),"hasError"===s.state)throw s.contents;return s.contents})).catch((t=>{if(t instanceof ki)throw Ri;if(!d())throw E(e),Ri;const a=di(t);throw h(e,n,r,a,o),t}))}function v(e,t,o,r){var a,s,l,u,c,d,p;(k(e,r)||t.version===(null===(a=e.getState())||void 0===a||null===(s=a.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(l=e.getState())||void 0===l||null===(u=l.nextTree)||void 0===u?void 0:u.version))&&(mi(new Map([[n,o]]),e,null!==(c=null===(d=e.getState())||void 0===d||null===(p=d.nextTree)||void 0===p?void 0:p.version)&&void 0!==c?c:e.getState().currentTree.version),o.forEach((e=>i.add(e))))}function b(e,r,a){const i=Ei(n);let s=!0;const l=()=>{i(),s=!1};let u,c,p=!1;const f={loadingDepKey:null,loadingDepPromise:null},_=new Map,g=new Set;function b(t){const{key:n}=t;!function(e,t,n,o,r){n.add(o),v(e,t,n,r)}(e,r,g,n,a);const o=m(e,r,n);switch(_.set(n,o),o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":throw f.loadingDepKey=n,f.loadingDepPromise=o.contents,o.contents}throw oe("Invalid Loadable state")}v(e,r,g,a);const T=n=>(...o)=>{if(s)throw oe("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&ba(!1),wi(e,n,o,{node:t})};try{u=o({get:b,getCallback:T}),u=Si(u)?b(u):u,re(u)?u=function(e,t,n,o,r,a){return t.then((t=>{if(!d())throw E(e),Ri;const a=fi(t);return h(e,n,r,a,o),t})).catch((t=>{if(!d())throw E(e),Ri;if(w(e,r,o),re(t))return y(e,t,n,o,r,a);const i=di(t);throw h(e,n,r,i,o),t}))}(e,u,r,_,a,f).finally(l):l()}catch(t){u=t,re(u)?u=y(e,u,r,_,a,f).finally(l):(p=!0,l())}return c=p?di(u):re(u)?pi(u):fi(u),[c,_]}function T(e,t){const o=new Set,r=A(e);let a;try{a=s.get((n=>{"string"!=typeof n&&ba(!1);return m(e,t,n).contents}),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&o.add(e.nodeKey)}})}catch(e){throw oe(`Problem with cache lookup for selector "${n}": ${e.message}`)}return a&&v(e,t,o,null==r?void 0:r.latestExecutionId),a}function C(e,t){const n=Ni(),[o,r]=b(e,t,n);return"loading"===o.state?(!function(e,t,n,o,r){u.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:o,latestExecutionId:t,latestLoadable:n,stateVersion:r.version})}(e,n,o,r,t),g(e,n)):(E(e),R(t,o,r)),o}function S(e){var t;const[,n]=null!==(t=Array.from(u.entries()).find((([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,o;const r=A(e),a=null!==(n=null==r?void 0:r.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,i=Array((null!==(o=O.get(t.version))&&void 0!==o?o:new Map).entries()),s=O.has(t.version)&&i.length===a.size&&i.every((([e,t])=>a.get(e)===t));if(null==a||t.version===(null==r?void 0:r.stateVersion)||s)return!1;return O.set(t.version,new Map(a)),Array.from(a).some((([n,o])=>m(e,t,n).contents!==o.contents))}(t,e))))&&void 0!==t?t:[];return n}const O=new Map;function A(e){return u.get(e)}function w(e,t,n){if(k(e,t)){const t=A(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}function E(e){u.delete(e)}function k(e,t){var n;return t===(null===(n=A(e))||void 0===n?void 0:n.latestExecutionId)}function R(e,t,o){e.atomValues.set(n,t);try{s.set(function(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}(o),t)}catch(e){throw oe(`Problem with setting cache for selector "${n}": ${e.message}`)}}function x(e,t){return s.get((n=>{var o;return"string"!=typeof n&&ba(!1),null===(o=_i(e,t,n))||void 0===o?void 0:o.contents}))}function L(e,t){return function(e){if(xi.includes(n)){const e=`Recoil selector has circular dependencies: ${xi.slice(xi.indexOf(n)).join(" → ")}`;return di(oe(e))}xi.push(n);try{return e()}finally{xi.pop()}}((()=>function(e,t){const n=T(e,t);if(null!=n)return E(e),n;const o=S(t);var r;return null!=o?("loading"===(null===(r=o.latestLoadable)||void 0===r?void 0:r.state)&&g(e,ae(o.latestExecutionId)),ae(o.latestLoadable)):C(e,t)}(e,t)))}function N(e){e.atomValues.delete(n)}function I(e,n){null==t&&ba(!1);for(const t of i){var o;const r=Ti(t);null===(o=r.clearCache)||void 0===o||o.call(r,e,n)}i.clear(),N(n),s.clear(),Oi(e,t)}if(null!=a){return t=Ci({key:n,nodeType:"selector",peek:x,get:L,set:(e,t,n)=>{let o=!1;const r=new Map;function i({key:n}){if(o)throw oe("Recoil: Async selector sets are not currently supported.");const r=m(e,t,n);if("hasValue"===r.state)return r.contents;throw"loading"===r.state?new vi(n):r.contents}function s(n,a){if(o)throw oe("Recoil: Async selector sets are not currently supported.");const s="function"==typeof a?a(i(n)):a;gi(e,t,n.key,s).forEach(((e,t)=>r.set(t,e)))}const l=a({set:s,get:i,reset:function(e){s(e,yi)}},n);if(void 0!==l)throw re(l)?oe("Recoil: Async selector sets are not currently supported."):oe("Recoil: selector set should be a void function.");return o=!0,r},init:p,invalidate:N,clearCache:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}return t=Ci({key:n,nodeType:"selector",peek:x,get:L,init:p,invalidate:N,clearCache:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})};const{loadableWithError:Mi,loadableWithPromise:Pi,loadableWithValue:ji}=Ae,{peekNodeInfo:Di}=Mt,{DEFAULT_VALUE:Bi,DefaultValue:Ui,getConfigDeletionHandler:Vi,registerNode:Hi,setConfigDeletionHandler:Fi}=Qe,{isRecoilValue:Gi}=Me,{getRecoilValueAsLoadable:Ki,markRecoilValueModified:zi,setRecoilValue:qi,setRecoilValueLoadable:Wi}=sn,{retainedByOptionWithDefault:Zi}=vn;function Qi(e){const{key:t,persistence_UNSTABLE:n}=e,o=Zi(e.retainedBy_UNSTABLE);let r,a=0,i=re(e.default)?Pi(e.default.then((e=>(i=ji(e),e))).catch((e=>{throw i=Mi(e),e}))):ji(e.default);l(e.default);const s=new Map;function l(e){return e}function u(e,n){var o,a;return null!==(o=null!==(a=n.atomValues.get(t))&&void 0!==a?a:r)&&void 0!==o?o:i}const c=Hi({key:t,nodeType:"atom",peek:u,get:function(e,o){if(o.atomValues.has(t))return ae(o.atomValues.get(t));if(o.nonvalidatedAtoms.has(t)){if(null!=r)return r;if(null==n)return Pe(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),i;const e=o.nonvalidatedAtoms.get(t),a=n.validator(e,Bi),s=a instanceof Ui?i:ji(a);return r=s,r}return i},set:function(e,n,o){if(n.atomValues.has(t)){const e=ae(n.atomValues.get(t));if("hasValue"===e.state&&o===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&o instanceof Ui)return new Map;return r=void 0,(new Map).set(t,ji(o))},init:function(n,o,r){var l;if(a++,n.getState().knownAtoms.add(t),"loading"===i.state){const h=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||zi(n,c)};i.contents.finally(h)}const d=null!==(l=e.effects)&&void 0!==l?l:e.effects_UNSTABLE;if(null!=d){let _=!0,g=Bi,m=!1,y=null;function v(e){if(_&&e.key===t){const e=g;return e instanceof Ui?u(n,o):re(e)?Pi(e.then((e=>e instanceof Ui?i.toPromise():e))):ji(e)}return Ki(n,e)}function b(e){return v(e).toPromise()}function T(e){var o;const r=Di(n,null!==(o=n.getState().nextTree)&&void 0!==o?o:n.getState().currentTree,e.key);return!_||e.key!==t||g instanceof Ui?r:{...r,isSet:!0,loadable:v(e)}}const C=e=>t=>{if(_){const n=v(c),o="hasValue"===n.state?n.contents:Bi;g="function"==typeof t?t(o):t,re(g)&&(g=g.then((t=>(y={effect:e,value:t},t))))}else{if(re(t))throw oe("Setting atoms to async values is not implemented.");"function"!=typeof t&&(y={effect:e,value:t}),qi(n,c,"function"==typeof t?n=>{const o=t(n);return y={effect:e,value:o},o}:t)}},S=e=>()=>C(e)(Bi),O=e=>o=>{var r;const{release:a}=n.subscribeToTransactions((n=>{var r;let{currentTree:a,previousTree:s}=n.getState();s||(Ve("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=a);const l=null!==(r=a.atomValues.get(t))&&void 0!==r?r:i;if("hasValue"===l.state){var u,c,d,p;const n=l.contents,r=null!==(u=s.atomValues.get(t))&&void 0!==u?u:i,f="hasValue"===r.state?r.contents:Bi;(null===(c=y)||void 0===c?void 0:c.effect)!==e||(null===(d=y)||void 0===d?void 0:d.value)!==n?o(n,f,!a.atomValues.has(t)):(null===(p=y)||void 0===p?void 0:p.effect)===e&&(y=null)}}),t);s.set(n,[...null!==(r=s.get(n))&&void 0!==r?r:[],a])};for(const A of d)try{const w=A({node:c,storeID:n.storeID,trigger:r,setSelf:C(A),resetSelf:S(A),onSet:O(A),getPromise:b,getLoadable:v,getInfo_UNSTABLE:T});var p;if(null!=w)s.set(n,[...null!==(p=s.get(n))&&void 0!==p?p:[],w])}catch(E){g=E,m=!0}if(_=!1,!(g instanceof Ui)){var f;const k=g,R=m?Mi(g):re(k)?Pi(function(e,n){const o=n.then((n=>{var r,a;return(null===(a=(null!==(r=e.getState().nextTree)&&void 0!==r?r:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===o&&qi(e,c,n),n})).catch((n=>{var r,a;throw(null===(a=(null!==(r=e.getState().nextTree)&&void 0!==r?r:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===o&&Wi(e,c,Mi(n)),n}));return o}(n,k)):ji(k);o.atomValues.set(t,R),null===(f=n.getState().nextTree)||void 0===f||f.atomValues.set(t,R)}}return()=>{var e;a--,null===(e=s.get(n))||void 0===e||e.forEach((e=>e())),s.delete(n)}},invalidate:function(){r=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Vi(t)&&a<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:o});return c}function Yi(e){const{default:t,...n}=e;return Gi(t)?function(e){const t=Yi({...e,default:Bi,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof Ui?t:ae(e.persistence_UNSTABLE).validator(t,Bi)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Ii({key:`${e.key}__withFallback`,get:({get:n})=>{const o=n(t);return o instanceof Ui?e.default:o},set:({set:e},n)=>e(t,n),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Fi(n.key,Vi(e.key)),n}({...n,default:t}):Qi({...n,default:t})}var Ji=Yi;var Xi=class{constructor(e){var t;ie(this,"_map",void 0),ie(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},$i=Xi,es=Object.freeze({__proto__:null,MapCache:$i});const{LRUCache:ts}=$a,{MapCache:ns}=es,os={equality:"reference",eviction:"none",maxSize:1/0};var rs=function({equality:e=os.equality,eviction:t=os.eviction,maxSize:n=os.maxSize}=os){const o=function(e){switch(e){case"reference":return e=>e;case"value":return e=>ri(e)}throw oe(`Unrecognized equality policy ${e}`)}(e),r=function(e,t,n){switch(e){case"keep-all":return new ns({mapKey:n});case"lru":return new ts({mapKey:n,maxSize:ae(t)});case"most-recent":return new ts({mapKey:n,maxSize:1})}throw oe(`Unrecognized eviction policy ${e}`)}(t,n,o);return r};const{setConfigDeletionHandler:as}=Qe;var is=function(e){var t,n;const o=rs({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,r;const a=o.get(t);if(null!=a)return a;const{cachePolicyForParams_UNSTABLE:i,...s}=e,l=Ji({...s,key:`${e.key}__${null!==(n=ri(t))&&void 0!==n?n:"void"}`,default:"function"==typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(r=e.effects)&&void 0!==r?r:e.effects_UNSTABLE});return o.set(t,l),as(l.key,(()=>{o.delete(t)})),l}};const{setConfigDeletionHandler:ss}=Qe;let ls=0;var us=function(e){var t,n;const o=rs({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const r=o.get(t);if(null!=r)return r;const a=`${e.key}__selectorFamily/${null!==(n=ri(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${ls++}`,i=n=>e.get(t)(n),s=e.cachePolicy_UNSTABLE,l="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let u;if(null!=e.set){const n=e.set;u=Ii({key:a,get:i,set:(e,o)=>n(t)(e,o),cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else u=Ii({key:a,get:i,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return o.set(t,u),ss(u.key,(()=>{o.delete(t)})),u}};const cs=us({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var ds=function(e){return cs(e)};const ps=us({key:"__error",get:e=>()=>{throw oe(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var fs=function(e){return ps(e)};var hs=function(e){return e};const{loadableWithError:_s,loadableWithPromise:gs,loadableWithValue:ms}=Ae;function ys(e,t){const n=Array(t.length).fill(void 0),o=Array(t.length).fill(void 0);for(const[r,a]of t.entries())try{n[r]=e(a)}catch(e){o[r]=e}return[n,o]}function vs(e){return null!=e&&!re(e)}function bs(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function Ts(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,o)=>({...e,[n]:t[o]})),{})}function Cs(e,t,n){return Ts(e,n.map(((e,n)=>null==e?ms(t[n]):re(e)?gs(e):_s(e))))}const Ss=us({key:"__waitForNone",get:e=>({get:t})=>{const n=bs(e),[o,r]=ys(t,n);return Cs(e,o,r)},dangerouslyAllowMutability:!0}),Os=us({key:"__waitForAny",get:e=>({get:t})=>{const n=bs(e),[o,r]=ys(t,n);return r.some((e=>!re(e)))?Cs(e,o,r):new Promise((t=>{for(const[n,a]of r.entries())re(a)&&a.then((a=>{o[n]=a,r[n]=void 0,t(Cs(e,o,r))})).catch((a=>{r[n]=a,t(Cs(e,o,r))}))}))},dangerouslyAllowMutability:!0}),As=us({key:"__waitForAll",get:e=>({get:t})=>{const n=bs(e),[o,r]=ys(t,n);if(r.every((e=>null==e)))return Ts(e,o);const a=r.find(vs);if(null!=a)throw a;return Promise.all(r).then((t=>{return Ts(e,(n=o,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),ws=us({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=bs(e),[o,r]=ys(t,n);return r.every((e=>!re(e)))?Cs(e,o,r):Promise.all(r.map(((e,t)=>re(e)?e.then((e=>{o[t]=e,r[t]=void 0})).catch((e=>{o[t]=void 0,r[t]=e})):null))).then((()=>Cs(e,o,r)))},dangerouslyAllowMutability:!0}),Es=us({key:"__noWait",get:e=>({get:t})=>{try{return ms(t(e))}catch(e){return re(e)?gs(e):_s(e)}},dangerouslyAllowMutability:!0});var ks={waitForNone:Ss,waitForAny:Os,waitForAll:As,waitForAllSettled:ws,noWait:Es};const{RecoilLoadable:Rs}=Ae,{DefaultValue:xs}=Qe,{RecoilRoot:Ls,useRecoilStoreID:Ns}=Fo,{isRecoilValue:Is}=Me,{retentionZone:Ms}=mt,{freshSnapshot:Ps}=ro,{useRecoilState:js,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ds,useRecoilStateLoadable:Bs,useRecoilValue:Us,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Vs,useRecoilValueLoadable:Hs,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Fs,useResetRecoilState:Gs,useSetRecoilState:Ks}=Nr,{useGotoRecoilSnapshot:zs,useRecoilSnapshot:qs,useRecoilTransactionObserver:Ws}=$r,{useRecoilCallback:Zs}=Ma,{noWait:Qs,waitForAll:Ys,waitForAllSettled:Js,waitForAny:Xs,waitForNone:$s}=ks;var el={DefaultValue:xs,isRecoilValue:Is,RecoilLoadable:Rs,RecoilRoot:Ls,useRecoilStoreID:Ns,useRecoilBridgeAcrossReactRoots_UNSTABLE:sa,atom:Ji,selector:Ii,atomFamily:is,selectorFamily:us,constSelector:ds,errorSelector:fs,readOnlySelector:hs,noWait:Qs,waitForNone:$s,waitForAny:Xs,waitForAll:Ys,waitForAllSettled:Js,useRecoilValue:Us,useRecoilValueLoadable:Hs,useRecoilState:js,useRecoilStateLoadable:Bs,useSetRecoilState:Ks,useResetRecoilState:Gs,useGetRecoilValueInfo_UNSTABLE:na,useRecoilRefresher_UNSTABLE:Ba,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Fs,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Vs,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ds,useRecoilCallback:Zs,useRecoilTransaction_UNSTABLE:Fa,useGotoRecoilSnapshot:zs,useRecoilSnapshot:qs,useRecoilTransactionObserver_UNSTABLE:Ws,snapshot_UNSTABLE:Ps,useRetain:er,retentionZone:Ms},tl=el.RecoilRoot,nl=el.atom,ol=el.useRecoilValue,rl=el.useRecoilCallback;const al={};function il(){return al.get=rl((({snapshot:e})=>function(t){return e.getLoadable(t).contents}),[]),al.getPromise=rl((({snapshot:e})=>function(t){return e.getPromise(t)}),[]),al.set=rl((({set:e})=>e),[]),al.reset=rl((({reset:e})=>e),[]),null}function sl(e){return al.get(e)}function ll(e,t){al.set(e,t)}var ul,cl,dl;!function(e){e[e.inhouse=1]="inhouse",e[e.salesforce=2]="salesforce"}(ul||(ul={})),function(e){e[e.WithContainer=0]="WithContainer",e[e.WithoutContainer=1]="WithoutContainer"}(cl||(cl={})),function(e){e[e.TYPING=0]="TYPING",e[e.BUTTON=1]="BUTTON",e[e.INPUT_BY_SUGGESTION=4]="INPUT_BY_SUGGESTION"}(dl||(dl={}));const pl={general:0,mePage:1,sellingPage:2,shippingPage:3,helpCentre:4,sellerCenter:5,sellerEducationHub:6,shopeeCN:8,sellerEducationHubCN:9,weChat:10,sellerCenterCN:15,SIPProductPage:23,SIPOrderPageFromBuyer:24,SIPShopPage:25,SIPDirectChatFromChatLandingPage:26,taskFlow:1e4};var fl,hl,_l,gl,ml;!function(e){e.Created="created",e.Init="init",e.ReInit="reInit",e.Chat="chat",e.Resume="resume",e.End="end",e.Typing="typing",e.Destroy="destroy",e.InAgent="inAgent"}(fl||(fl={})),function(e){e.Media="media",e.MultiTerminalConflict="multiTerminalConflict",e.LoginExpired="loginExpired",e.EndChat="endChat",e.Typing="typing",e.GetQueueFailed="getQueueFailed"}(hl||(hl={})),function(e){e.QA="QA",e.TASK="TASK",e.CC="CC",e.IDK="IDK",e.LIVE="LIVE",e.IDK_TO_LIVE="IDK_TO_LIVE",e.TEXT="TEXT",e.QA_BOT="QA_BOT",e.RECOMMENT="RECOMMENT"}(_l||(_l={})),function(e){e[e.APP=1]="APP",e[e.PC=2]="PC"}(gl||(gl={})),function(e){e.NoLiveAgent="noLiveAgent",e.Cancel="cancel",e.Error="error",e.Closed="closed"}(ml||(ml={}));nl({key:"userInfo",default:{}});const yl=nl({key:"sessionInfo",default:{}});nl({key:"chatbotHeartbeat",default:{flag:!0,delay:1e4,retryTimes:1}});const vl=nl({key:"chatbotStatus",default:fl.Init}),bl=nl({key:"taskBotInfo",default:{}}),Tl=nl({key:"userRequestTimestampInfo",default:null});function Cl(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function Sl(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))}const Ol={currentLocale:"en",locales:{}};var Al={init:function({currentLocale:e,locales:t}){Ol.currentLocale=e,Ol.locales=t},get:function(e){const t=Ol.locales[Ol.currentLocale];return null==t?void 0:t[e]},setLocales:function(e){Ol.locales=e||{}},getLocales:function(){return Ol.locales},getCurrentLocale:function(){var e;return(null===(e=Ol.locales)||void 0===e?void 0:e[Ol.currentLocale])||{}},setLocale:function(e,t){Ol.locales[e]=t}},wl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},El={};El.LANGUAGES_ENV={sg:{transify:"en/",key:"en",momentKey:"en"},my:{transify:"en-my/",key:"en-my",momentKey:"en"},ph:{transify:"en-ph/",key:"en-ph",momentKey:"en"},id:{transify:"id/",key:"id",momentKey:"id"},tw:{transify:"zh-Hant/",key:"zh-Hant",momentKey:"zh-tw"},vn:{transify:"vi/",key:"vi",momentKey:"vi"},th:{transify:"th/",key:"th",momentKey:"th"},br:{transify:"pt-BR/",key:"pt-BR",momentKey:"pt-br"},mx:{transify:"es-MX/",key:"es-MX",momentKey:"es-mx"},"ms-my":{transify:"ms-my/",key:"ms-my",momentKey:"ms-my"},"zh-my":{transify:"zh-Hans/",key:"zh-Hans",momentKey:"zh-cn"},co:{transify:"es-CO/",key:"es-CO",momentKey:"es"},cl:{transify:"es-CL/",key:"es-CL",momentKey:"es"},ru:{transify:"ru/",key:"ru",momentKey:"ru"},ko:{transify:"ko/",key:"ko",momentKey:"ko"},ja:{transify:"ja/",key:"ja",momentKey:"ja"},"Tagalog (Filipino)":{transify:"ph/",key:"ph",momentKey:"tl-ph"},fa:{transify:"fa/",key:"fa",momentKey:"fa"},Malay:{transify:"ms/",key:"ms",momentKey:"ms"},pt:{transify:"pt/",key:"pt",momentKey:"pt"},tr:{transify:"tr/",key:"tr",momentKey:"tr"},ar:{transify:"ar/",key:"ar",momentKey:"ar"},uk:{transify:"uk/",key:"uk",momentKey:"uk"},Burmese:{transify:"my/",key:"my",momentKey:"my"},bn:{transify:"bn/",key:"bn",momentKey:"bn"},"zh-hk":{transify:"zh_HK/",key:"zh_HK",momentKey:"zh-hk"},jv:{transify:"jv/",key:"jv",momentKey:"jv"},Sundanese:{transify:"su/",key:"su",momentKey:"id"},es:{transify:"es/",key:"es",momentKey:"es"},de:{transify:"de/",key:"de",momentKey:"de"},fr:{transify:"fr/",key:"fr",momentKey:"fr"},hi:{transify:"hi/",key:"hi",momentKey:"hi"},rou:{transify:"rou/",key:"rou",momentKey:"rou"},Spain:{transify:"es-ES/",key:"es-ES",momentKey:"es"},Portugal:{transify:"pt-PT/",key:"pt-PT",momentKey:"pt"},"zh-cn":{transify:"zh-CN/",key:"zh-CN",momentKey:"zh-cn"},"en-id":{transify:"en-id/",key:"en-id",momentKey:"en"},"en-th":{transify:"en-th/",key:"en-th",momentKey:"en"},ur:{transify:"ur/",key:"ur",momentKey:"ur"},"es-ar":{transify:"es-ar/",key:"es-ar",momentKey:"es"},pl:{transify:"pl/",key:"pl",momentKey:"pl"}};var kl="Choose Issue",Rl="My Purchase",xl="Delivered by",Ll="Ask me anything about Shopee!",Nl="item",Il="items",Ml="Close",Pl="Sophie",jl="My Sales",Dl="Total Payment",Bl="[Unsupported message]",Ul="View Article",Vl={btn_choose_issue:kl,buyer_order_list_title_text:Rl,delivered_by_text:xl,input_placeholder:Ll,item_text:Nl,items_text:Il,modal_close_text:Ml,page_head_title:Pl,seller_order_list_title_text:jl,total_payment_text:Dl,unsupported_message:Bl,view_article_text:Ul},Hl={en:Object.freeze({__proto__:null,btn_choose_issue:kl,buyer_order_list_title_text:Rl,delivered_by_text:xl,input_placeholder:Ll,item_text:Nl,items_text:Il,modal_close_text:Ml,page_head_title:Pl,seller_order_list_title_text:jl,total_payment_text:Dl,unsupported_message:Bl,view_article_text:Ul,default:Vl})},Fl={},Gl={},Kl={},zl={};Object.defineProperty(zl,"__esModule",{value:!0}),zl.get=void 0,zl.get=function(e,t,n){return function(e,t,n,o){return new Promise((function(r,a){if("number"==typeof n&&(o=n,n=void 0),"get"===e&&n&&"object"==typeof n){var i=Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&");t=t+(t.indexOf("?")>-1?"":"?")+i}var s=new XMLHttpRequest;o&&"number"==typeof o&&(s.timeout=o),s.open(e,t),s.onload=function(){200===this.status?r(s.response):a(s.response)},s.onerror=function(){a(s.response)},s.ontimeout=function(){a()},s.send()}))}("get",e,t,n).then((function(e){try{return JSON.parse(e)}catch(t){return e}}))};var ql={};Object.defineProperty(ql,"__esModule",{value:!0}),ql.interpolate=void 0,ql.interpolate=function(e,t,n){if(void 0===n&&(n="string"),!t||"string"!=typeof e)return e;var o=function(e,t){var n=[],o=0,r=Array.isArray(t)?"list":(a=t,null!==a&&"object"==typeof a?"named":"unknown");var a;if("unknown"===r)return n;for(;o<e.length;){var i=e[o];switch(i.type){case"text":n.push(i.value);break;case"list":n.push(t[parseInt(i.value,10)]);break;case"named":"named"===r&&n.push(t[i.value]);break;case"unknown":console.warn("Detect 'unknown' type of token!")}o++}return n}(function(e){e=function(e){if(!e)return e;var t=/{{{\s*(.*?)\s*}}}/g,n=/{{\s*(.*?)\s*}}/g;return e=(e=e.replace(t,(function(e,t){return"{"+t+"}"}))).replace(n,(function(e,t){return"{"+t+"}"}))}(e);var t=[],n=0,o="";for(;n<e.length;){var r=e[n++];if("{"===r){o&&t.push({type:"text",value:o}),o="";var a="";for(r=e[n++];void 0!==r&&"}"!==r;)a+=r,r=e[n++];var i="}"===r,s=Wl.test(a)?"list":i&&Zl.test(a)?"named":"unknown";t.push({value:a,type:s})}else"%"===r?"{"!==e[n]&&(o+=r):o+=r}return o&&t.push({type:"text",value:o}),t}(e),t);return"string"===n&&"string"!=typeof o?o.join(""):o};var Wl=/^(?:\d)+/,Zl=/^(?:\w)+/;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=e.get=void 0;var t=zl;Object.defineProperty(e,"get",{enumerable:!0,get:function(){return t.get}});var n=ql;Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return n.interpolate}})}(Kl);var Ql=wl&&wl.__assign||function(){return Ql=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ql.apply(this,arguments)},Yl=wl&&wl.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,r++)o[r]=a[i];return o};Object.defineProperty(Gl,"__esModule",{value:!0});var Jl=Kl,Xl=function(){function e(t){if(this.timeout=3e3,this.isMainland=void 0,this.forceUpdate=function(){},this.replacer=function(e){return e},this.commonCache={},this.currentModuleName="",this.baseModules={},this.modules={},!t.name)throw new Error("your TSPSDK instance must have a name");if(e.$instances[t.name])throw new Error("your TSPSDK name duplicated");e.$instances[t.name]=this,this.name=t.name}return e.prototype.create=function(t){var n=this;return void 0!==t.locale&&(e.locale=t.locale),void 0!==t.timeout&&(this.timeout=t.timeout),this.isMainland=t.isMainland,this.forceUpdate=t.forceUplate||this.forceUpdate,this.replacer=t.replacer||this.replacer,t.baseModules&&t.baseModules.length?(t.baseModules.map((function(e){n.mergeModule(n.baseModules,e)})),this.getTranslations(e.locale,this.baseModules).then((function(){return!0}))):Promise.resolve(!0)},e.prototype.getCurrentModule=function(){return this.modules[this.currentModuleName]},e.prototype.getAllModules=function(){return Ql(Ql({},this.baseModules),this.modules)},e.prototype.switchLanguage=function(t,n){var o=this,r=this.getAllModules(),a={};return n&&(n.map((function(e){a[e]=r[e]})),a=Ql(Ql({},this.baseModules),a)),this.getTranslations(t,n?a:r).then((function(){return e.locale=t,o.forceUpdate&&"function"==typeof o.forceUpdate&&setTimeout((function(){o.forceUpdate()}),0),!0}))},e.prototype.switchModule=function(t){if(!t.name)throw new Error("module must have a name");return this.currentModuleName=t.name,this.mergeModule(this.modules,t),this.getTranslationByModule(e.locale,t)},e.prototype.mergeLocale=function(e,t){this.commonCache[e]=this.commonCache[e]||{},this.commonCache[e]=Ql(Ql({},this.commonCache[e]),t)},e.prototype.$t=function(e,t,n,o){void 0===o&&(o="string"),null!==t&&"object"==typeof t&&(n=t);var r=this._$t(e,"number"==typeof t?void 0:n,o);return"string"==typeof r||"raw"===o?r:"object"==typeof r&&"number"==typeof t?0===t?this._$t(r.zero,n,o):1===t?this._$t(r.one,n,o):this._$t(r.other,n,o):e},e.prototype.$tc2=function(e,t,n){return this.$t(e,t,n)},e.prototype.$i=function(e,t){return this.$t(e,null,t,"raw")},e.prototype.getTranslationByKeys=function(e,t,n,o){var r=this,a=this.getCache(t,n,e);return a?Promise.resolve(a):this.getTranslationFromAPI(t,n,e,o).then((function(o){return setTimeout((function(){r.getTranslationByType(t,n,e)}),1e3),Promise.resolve(o)})).catch((function(){return r.getTranslationByType(t,n,e)}))},e.prototype._$t=function(e,t,n){if(!e)return"";var o=this.getTranslationByKey(e)||e;if(this.replacer)try{o=this.replacer(o)}catch(e){console.error("TSPSDK replacer error: ",e)}return t?Jl.interpolate(o,t,n):o},e.prototype.getTranslations=function(e,t){var n=this,o=Object.keys(t).map((function(t){return n.getTranslationByModule(e,n.getAllModules()[t])}));return Promise.all(o)},e.prototype.getTranslationByModule=function(e,t){var n=this;if(!t)return console.error("TSPSDK.getTranslationByModule has no module"),Promise.resolve([]);var o=[],r=[];return t.collections&&t.collections.length&&(o=t.collections.map((function(t){return n.getTranslationByType("collection",t,e)}))),t.resources&&t.resources.length&&(r=t.resources.map((function(t){return n.getTranslationByType("resource",t,e)}))),Promise.all(Yl(o,r)).then((function(e){return e.reduce((function(e,t){return Ql(Ql({},e),t)}),{})}))},e.prototype.getTranslationByType=function(e,t,n){var o=this,r=this.getCache(e,t,n);return r?Promise.resolve(r):this.getTranslationFromAPI(e,t,n).then((function(o){if("{}"===JSON.stringify(o))throw console.error("TSPSDK get translation from API result empty",e,t,n),new Error("TSPSDK get translation from API result empty");return o})).catch((function(){return o.getTranslationFromCDN(e,t,n).catch((function(e){return console.error("TSPSDK get translation from CDN fail"),Promise.resolve()}))}))},e.prototype.getTranslationFromAPI=function(e,t,n,o){var r,a=this,i=((r={})[e+"_id"]=t,r.language=n,r);return o&&(i.keys=o),Jl.get("https://seller.shopee.sg/api/tsp/transify",i,this.timeout).then((function(r){return o?a.mergeLocale(n,r):a.setCache(e,t,n,r),r}))},e.prototype.getTranslationFromCDN=function(e,t,n){var o=this,r=this.getCacheKey(t,n)+".json",a=this.getCdnPrefix()+e[0]+"_"+r;return Jl.get(a).then((function(r){return o.setCache(e,t,n,r),r}))},e.prototype.getCacheKey=function(e,t){return e+"_"+t.toLowerCase()},e.prototype.getCdnPrefix=function(){return{cn:"https://deo.shopeesz.com/shopee/shopee-seller-live-sg/tsp/api/",sea:"https://deo.shopeemobile.com/shopee/shopee-seller-live-sg/tsp/api/"}[this.isCN()?"cn":"sea"]},e.prototype.isCN=function(){return void 0!==this.isMainland?this.isMainland:"cn"===window.location.host.slice(-2)},e.prototype.setCache=function(t,n,o,r){var a="resource"===t?e.resourceCache:e.collectionCache,i=this.getCacheKey(n,o);a[i]=a[i]||{},a[i]=Ql(Ql({},a[i]),r)},e.prototype.getCache=function(t,n,o){return("resource"===t?e.resourceCache:e.collectionCache)[this.getCacheKey(n,o)]},e.prototype.getTranslationByKey=function(e){var t,n=this.getCurrentModule();if(n&&(t=this.findTranslationFromModule(e,n)))return t;for(var o=Object.keys(this.baseModules),r=0;r<o.length;r++){var a=o[r];if(t=this.findTranslationFromModule(e,this.baseModules[a]))return t}if(t=this.findTranslationFromCommon(e))return t;var i=this.getAllModules(),s=Object.keys(i);for(r=0;r<s.length;r++){var l=s[r];if(t=this.findTranslationFromModule(e,i[l]))return t}return t||""},e.prototype.findTranslationFromModule=function(t,n){for(var o=n.collections||[],r=n.resources||[],a=0;a<o.length;a++){if((i=this.getCache("collection",o[a],e.locale))&&i[t])return i[t]}for(a=0;a<r.length;a++){var i;if((i=this.getCache("resource",r[a],e.locale))&&i[t])return i[t]}return""},e.prototype.findTranslationFromCommon=function(t){var n=this.commonCache[e.locale];return n&&n[t]?n[t]:""},e.prototype.mergeModule=function(e,t){var n=e[t.name];n?(n.collections=n.collections||[],n.resources=n.resources||[],t.collections=t.collections||[],t.resources=t.resources||[],t.collections.map((function(e){-1===n.collections.indexOf(e)&&n.collections.push(e)})),t.resources.map((function(e){-1===n.resources.indexOf(e)&&n.resources.push(e)}))):e[t.name]=t},e.$instances={},e.locale="en",e.resourceCache={},e.collectionCache={},e}();Gl.default=Xl;var $l=wl&&wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fl,"__esModule",{value:!0});var eu=$l(Gl);const tu=new(Fl.default=eu.default)({name:"chatbot"}),nu=(e,t="")=>{if(!e)return t;return Al.get(e)||t},ou=e=>Sl(void 0,void 0,void 0,(function*(){const{env:t,cid:n,locale:o}=e,r=o||(e=>{const{LANGUAGES_ENV:t}=El;return t[e]&&t[e].key||"en"})(n||"sg"),a="live"===t||"uat"===t?717:713,i=yield tu.getTranslationByModule(r,{name:"chatbot",resources:[a]});Al.init({currentLocale:r,locales:{[r]:i||Hl[r]}})}));var ru=new class{constructor(){this.isMock=!1,this.root="root",this.config={cid:"sg",env:"live",waitingGap:1e3,initialization:cl.WithContainer,from:"general"},this.data={}}updateRoot(e){this.root=e}updateConfig(e={}){this.config=Object.assign(Object.assign({},this.config),e)}updateData(e={}){this.data=Object.assign(Object.assign({},this.data),e)}};const au=e=>`__chatbot_data_${e}`;function iu(e,t){localStorage.setItem(au(e),JSON.stringify(t))}function su(e){const t=localStorage.getItem(au(e));try{return JSON.parse(t)}catch(e){return}}function lu(e){const t=sessionStorage.getItem(au(e));try{return JSON.parse(t)}catch(e){return}}const uu="tab_id",cu="message_list",du="session_info",pu="last_operate_time",fu="prompt_status",hu="task_bot_info",_u=e=>{const{return_sn:t,return_id:n}=e||{},o=sl(yl),r=o.orderInfo||{};O_(yl,Object.assign(Object.assign({},o||{}),{orderInfo:Object.assign(Object.assign({},r),{returnSN:t||r.returnSN,returnID:n||r.returnID})}),du)};var gu,mu,yu;!function(e){e[e.Empty=0]="Empty",e[e.Yes=1]="Yes",e[e.No=2]="No"}(gu||(gu={})),function(e){e.Left="left",e.Right="right"}(mu||(mu={})),function(e){e[e.Buyer=1]="Buyer",e[e.Seller=2]="Seller"}(yu||(yu={}));const vu=[0,1,2,3,4,5,11],bu=[0,6,7,8,9,10,11],Tu=["#EDA500","#26AA99","#EE4D2D","#16449b"],Cu=400,Su=403,Ou=429,Au=1002,wu=1003,Eu=1004,ku=1020,Ru=40006,xu=40008,Lu=40010,Nu="TIMEOUT",Iu="NETWORK_ERROR",Mu="SERVER_ERROR",Pu="msg_error_to_live",ju="btn_live",Du="RR_Check",Bu=[pl.sellerCenterCN,pl.sellerEducationHubCN],Uu=[pl.sellerEducationHubCN];var Vu,Hu,Fu,Gu,Ku,zu="SG",qu="ID",Wu="MY",Zu="PH",Qu="TW",Yu="TH",Ju="VN",Xu="IR",$u="MM",ec="HK",tc="BR",nc="CN",oc="MX",rc="CO",ac="CL",ic="AR",sc="PL",lc="ES",uc="FR",cc="IN",dc="US",pc="KR",fc={SGD:"SGD",IDR:"IDR",MYR:"MYR",PHP:"PHP",TWD:"TWD",THB:"THB",VND:"VND",IRR:"IRR",MMK:"MMK",HKD:"HKD",BRL:"BRL",CNY:"CNY",MXN:"MXN",COP:"COP",CLP:"CLP",ARS:"ARS",PLN:"PLN",EUR:"EUR",INR:"INR",USD:"USD",KRW:"KRW"},hc="en",_c="ms",gc="zh-Hans",mc=[3],yc=",",vc=".",bc="FRONT",Tc="BACK",Cc={symbol:"$",precision:2,separator:yc,separatorPattern:mc,decimalPoint:vc},Sc=((Vu={default:Cc})[fc.SGD]=Cc,Vu[fc.IDR]={symbol:"Rp",precision:0,separator:vc,decimalPoint:yc},Vu[fc.MYR]={symbol:"RM",precision:2,separator:yc,decimalPoint:vc},Vu[fc.PHP]={symbol:"₱",precision:0,separator:yc,decimalPoint:vc},Vu[fc.TWD]={symbol:"$",precision:0,separator:yc,decimalPoint:vc},Vu[fc.THB]={symbol:"฿",maxPrecision:2,separator:yc,decimalPoint:vc},Vu[fc.VND]={symbol:"₫",precision:0,separator:vc,decimalPoint:yc},Vu[fc.IRR]={symbol:"تومان",precision:0,separator:yc,decimalPoint:vc},Vu[fc.MMK]={symbol:"Ks",precision:0,separator:yc,decimalPoint:vc},Vu[fc.HKD]=Cc,Vu[fc.BRL]={symbol:"R$",precision:2,separator:vc,decimalPoint:yc},Vu[fc.CNY]={symbol:"￥",precision:2,separator:yc,decimalPoint:vc},Vu[fc.MXN]={symbol:"MX$",precision:2,separator:yc,decimalPoint:vc},Vu[fc.COP]={symbol:"COP",precision:0,separator:vc,decimalPoint:yc},Vu[fc.CLP]={symbol:"CLP",precision:0,separator:vc,decimalPoint:yc},Vu[fc.ARS]={symbol:"$",precision:2,separator:vc,decimalPoint:yc},Vu[fc.PLN]={symbol:"zł",symbolPosition:Tc,precision:2,separator:" ",decimalPoint:yc},Vu[fc.EUR]={symbol:"€",symbolPosition:Tc,precision:2,separator:vc,decimalPoint:yc},Vu[fc.INR]={symbol:"₹",precision:0,separator:yc,decimalPoint:vc,separatorPattern:[3,2,2]},Vu[fc.USD]={symbol:"USD",precision:2,separator:yc,decimalPoint:vc},Vu[fc.KRW]={symbol:"KRW",precision:0,separator:yc,decimalPoint:vc},Vu);function Oc(e,t,n){var o=parseFloat(String(e));return isFinite(o)?"function"==typeof t?t(o):o:void 0!==n?n:e}function Ac(e){var t=Number(e).toExponential().split("e").map((function(e){return+e}));return{mant:t[0],exp:t[1]}}function wc(e){for(var t="",n=0;n<e;n++)t+="0";return t}function Ec(e,t){return Oc(e,(function(e){return"number"==typeof t&&t>=0&&t<100?function(e,t){var n=Ac(e),o=Ac(Math.round(+(String(n.mant)+"e"+String(n.exp+t)))),r=String(+(String(o.mant)+"e"+String(o.exp-t)));if(0===t||r.includes("e"))return r;var a=r.indexOf(".");return-1===a?r+"."+wc(t):r+wc(t-(r.length-a)+1)}(e,t):e.toString()}),"")}var kc=1e3,Rc=1e6,xc=1e9,Lc=1e4,Nc=1e5,Ic=1e7,Mc=1e8,Pc=[{notch:xc,unit:"b"},{notch:Rc,unit:"m"},{notch:kc,unit:"k"}],jc=((Hu={})[zu]={default:Pc},Hu[qu]={default:[{notch:xc,unit:"M"},{notch:Rc,unit:"JT"},{notch:kc,unit:"RB"}]},Hu[Wu]=((Fu={default:Pc})[_c]=Pc,Fu[gc]=[{notch:Mc,unit:"亿"},{notch:Lc,unit:"万"},{notch:kc,unit:"千"}],Fu),Hu[Zu]={default:[{notch:xc,unit:"B"},{notch:Rc,unit:"M"},{notch:kc,unit:"K"}]},Hu[Qu]={default:[{notch:Mc,unit:"億"},{notch:Lc,unit:"萬"}]},Hu[Yu]=((Gu={default:[{notch:Rc,unit:"ล้าน"},{notch:kc,unit:"พัน"}]})[hc]=Pc,Gu),Hu[Ju]={default:[{notch:Rc,unit:"tr"},{notch:kc,unit:"k"}]},Hu[Xu]={default:Pc},Hu[$u]={default:Pc},Hu[ec]={default:Pc},Hu[nc]={default:[{notch:Lc,unit:"万"}]},Hu[tc]={default:[{notch:xc,unit:"bi"},{notch:Rc,unit:"mi"},{notch:kc,unit:"mil"}]},Hu[oc]={default:[{notch:xc,unit:"mil millones"},{notch:Rc,unit:"millón"},{notch:kc,unit:"mil"}]},Hu[rc]={default:[{notch:xc,unit:"mil millones"},{notch:Rc,unit:"millón"},{notch:kc,unit:"mil"}]},Hu[ac]={default:[{notch:xc,unit:"mil millones"},{notch:Rc,unit:"millón"},{notch:kc,unit:"mil"}]},Hu[ic]={default:[{notch:xc,unit:"mm"},{notch:Rc,unit:"m"},{notch:kc,unit:"k"}]},Hu[sc]={default:[{notch:xc,unit:" mld"},{notch:Rc,unit:" mln"},{notch:kc,unit:" tys."}]},Hu[lc]={default:[{notch:xc,unit:"MM"},{notch:Rc,unit:"M"},{notch:kc,unit:"k"}]},Hu[uc]={default:[{notch:xc,unit:" Md"},{notch:Rc,unit:" M"},{notch:kc,unit:" k"}]},Hu[cc]=((Ku={default:[{notch:Ic,unit:" करोड़"},{notch:Nc,unit:" लाख"},{notch:kc,unit:" हजार"}]})[hc]=[{notch:Ic,unit:" cr"},{notch:Nc,unit:" lakh"},{notch:kc,unit:"k"}],Ku),Hu[dc]={default:[{notch:xc,unit:"B"},{notch:Rc,unit:"M"},{notch:kc,unit:"k"}]},Hu[pc]={default:[{notch:Lc,unit:"만"},{notch:Mc,unit:"억"},{notch:1e12,unit:"조"}]},Hu);var Dc,Bc,Uc,Vc,Hc,Fc,Gc,Kc,zc,qc,Wc,Zc,Qc,Yc,Jc,Xc,$c,ed,td,nd,od,rd,ad,id=function(){return id=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},id.apply(this,arguments)},sd=((Dc={})[zu]={currencies:(Bc={},Bc[fc.SGD]={},Bc),defaultCurrency:fc.SGD},Dc[qu]={currencies:(Uc={},Uc[fc.IDR]={},Uc),defaultCurrency:fc.IDR},Dc[Wu]={currencies:(Vc={},Vc[fc.MYR]={},Vc),defaultCurrency:fc.MYR},Dc[Zu]={currencies:(Hc={},Hc[fc.PHP]={},Hc),defaultCurrency:fc.PHP},Dc[Qu]={currencies:(Fc={},Fc[fc.TWD]={},Fc),defaultCurrency:fc.TWD},Dc[Yu]={currencies:(Gc={},Gc[fc.THB]={},Gc),defaultCurrency:fc.THB},Dc[Ju]={currencies:(Kc={},Kc[fc.VND]={},Kc),defaultCurrency:fc.VND},Dc[Xu]={currencies:(zc={},zc[fc.IRR]={convertRate:1e6},zc[fc.MMK]={},zc),defaultCurrency:fc.IRR,serverCurrency:fc.MMK},Dc[$u]={currencies:(qc={},qc[fc.MMK]={},qc),defaultCurrency:fc.MMK},Dc[ec]={currencies:(Wc={},Wc[fc.HKD]={},Wc),defaultCurrency:fc.HKD},Dc[tc]={currencies:(Zc={},Zc[fc.BRL]={},Zc),defaultCurrency:fc.BRL},Dc[nc]={currencies:(Qc={},Qc[fc.CNY]={},Qc),defaultCurrency:fc.CNY},Dc[oc]={currencies:(Yc={},Yc[fc.MXN]={},Yc),defaultCurrency:fc.MXN},Dc[rc]={currencies:(Jc={},Jc[fc.COP]={},Jc),defaultCurrency:fc.COP},Dc[ac]={currencies:(Xc={},Xc[fc.CLP]={},Xc),defaultCurrency:fc.CLP},Dc[ic]={currencies:($c={},$c[fc.ARS]={},$c),defaultCurrency:fc.ARS},Dc[sc]={currencies:(ed={},ed[fc.PLN]={},ed),defaultCurrency:fc.PLN},Dc[lc]={currencies:(td={},td[fc.EUR]={},td),defaultCurrency:fc.EUR},Dc[uc]={currencies:(nd={},nd[fc.EUR]={separator:" "},nd),defaultCurrency:fc.EUR},Dc[cc]={currencies:(od={},od[fc.INR]={},od),defaultCurrency:fc.INR},Dc[dc]={currencies:(rd={},rd[fc.USD]={},rd),defaultCurrency:fc.USD},Dc[pc]={currencies:(ad={},ad[fc.KRW]={},ad),defaultCurrency:fc.KRW},Dc);function ld(e,t){var n="string"==typeof e?e.toUpperCase():e,o=function(e,t){if(!e)return Pc;var n=jc[e],o=n.default;return t&&n[t]||o}(n,t);return id(id({},sd[n]),{notches:o})}var ud=function(){return ud=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ud.apply(this,arguments)};function cd(e,t){if("string"==typeof(n=e)&&n.toUpperCase()in fc)return Sc[String(e).toUpperCase()];var n,o=ld(e,t),r=o&&o.defaultCurrency&&Sc[o.defaultCurrency];return r?ud(ud({},r),o.currencies[o.defaultCurrency]):Sc.default}function dd(e,t){var n="object"==typeof t&&t||{},o=n.precision,r=n.maxPrecision,a=n.decimalPoint,i=void 0===a?".":a,s=n.separator,l=n.separatorPattern,u=o;return"object"!=typeof t&&(u=t),Oc(e,(function(e){var t=Ec(e,r);if(t=Ec(t,Oc(r,(function(e){return Oc(u,(function(t){return Math.min(t,e)}),void 0)}),u)),s){var n=function(e,t){if(void 0===t&&(t="."),"string"==typeof e){var n=e.search(/^-|\+/)+1,o=e.lastIndexOf(t);return{symbol:e.slice(0,n),integer:e.slice(n,o<0?void 0:o),decimal:o<0?void 0:e.slice(o+1),decimalPoint:t}}return{symbol:"",integer:"",decimal:"",decimalPoint:t}}(t),o=n.symbol,a=n.integer,c=n.decimal,d="function"==typeof s?s(a):function(e,t){var n=t||{},o=n.separator,r=void 0===o?",":o,a=n.separatorPattern,i=void 0===a?mc:a;if("string"!=typeof e)return"";if("string"!=typeof r)return e;for(var s=[],l=e.length,u=0;l>0;){var c=i[u%i.length],d=e.slice(Math.max(l-c,0),l);s.unshift(d),l-=c,u++}return s.join(r)}(a,{separator:s,separatorPattern:l});return o+d+(c?i+c:"")}return t.replace(/\./,i)}),"")}function pd(e,t,n){var o="number"==typeof t?t:parseFloat(t),r=o<0,a=n&&"object"==typeof n&&"string"==typeof n.symbol?n.symbol:function(e){var t=cd(e);return t&&t.symbol||""}(e),i=n&&"object"==typeof n&&"string"==typeof n.symbolPosition?n.symbolPosition:function(e){var t=cd(e);return t&&void 0!==t.symbolPosition?t.symbolPosition:bc}(e),s=String(function(e,t,n){var o="object"==typeof n?n:{precision:n,maxPrecision:void 0,noSeparator:void 0},r=o.precision,a=o.maxPrecision,i=o.noSeparator,s=cd(e),l=s?dd(t,{decimalPoint:s.decimalPoint,separator:i?void 0:s.separator,separatorPattern:i?void 0:void 0===typeof s.separatorPattern?mc:s.separatorPattern,maxPrecision:Oc(a,(function(e){return e}),!1===a?a:s.maxPrecision),precision:Oc(r,(function(e){return e}),!1===r?r:s.precision)}):dd(t);return("THB"===e||"TH"===e)&&void 0===r&&"string"==typeof l&&/\.\d$/.exec(l)&&(l+="0"),l}(e,Math.abs(o),n)),l=r?"-":"";return i===Tc?l+s+a:l+a+s}const fd=5;var hd,_d,gd,md,yd,vd,bd,Td,Cd,Sd,Od;!function(e){e[e.Message=1001]="Message",e[e.ButtonSelection=1002]="ButtonSelection",e[e.CardSelection=1003]="CardSelection",e[e.RelatedIntent=1004]="RelatedIntent",e[e.Popup=1005]="Popup",e[e.OptionSelector=1006]="OptionSelector",e[e.Article=1007]="Article",e[e.LabelClarificationSelector=2001]="LabelClarificationSelector",e[e.SimulatorNext=3001]="SimulatorNext",e[e.V1_MSG=1]="V1_MSG",e[e.V1_ARTICLE=2]="V1_ARTICLE",e[e.V1_OPTION=3]="V1_OPTION",e[e.V1_FEEDBACK=4]="V1_FEEDBACK",e[e.V1_REDIRECTION=5]="V1_REDIRECTION",e[e.V1_LIVE=6]="V1_LIVE",e[e.V1_TO_LOGIN=9]="V1_TO_LOGIN",e[e.V1_GENERAL_BTN=10]="V1_GENERAL_BTN",e[e.V1_FEEDBACK_OPTIONS=14]="V1_FEEDBACK_OPTIONS",e[e.V1_ANNOUNCEMENT=18]="V1_ANNOUNCEMENT",e[e.V1_ENQUIRY_DETAILS=19]="V1_ENQUIRY_DETAILS",e[e.V1_DATE_TIME=20]="V1_DATE_TIME",e[e.V1_INTENT_HOT_QUESTION=21]="V1_INTENT_HOT_QUESTION",e[e.V1_HOT_QUESTION_CATEGORY=22]="V1_HOT_QUESTION_CATEGORY",e[e.V1_NEW_HOT_QUESTION=23]="V1_NEW_HOT_QUESTION",e[e.V1_ORDER_CARD=24]="V1_ORDER_CARD",e[e.V1_INTENT_SELECTOR=28]="V1_INTENT_SELECTOR",e[e.V1_SELECT_ORDER=31]="V1_SELECT_ORDER",e[e.NEW_QA_BUTTON=30]="NEW_QA_BUTTON",e[e.QA_BUTTON=8]="QA_BUTTON",e[e.DIRECTLY_REDIRECTION=11]="DIRECTLY_REDIRECTION",e[e.BUTTON_FOR_TASKBOT_HORIZONTAL=13]="BUTTON_FOR_TASKBOT_HORIZONTAL"}(hd||(hd={})),function(e){e[e.Buyer=1]="Buyer",e[e.Seller=2]="Seller"}(_d||(_d={})),function(e){e[e.Text=1]="Text",e[e.RichText=2]="RichText"}(gd||(gd={})),function(e){e[e.JumpURL=1]="JumpURL",e[e.JumpNode=2]="JumpNode",e[e.JumpFormstack=3]="JumpFormstack",e[e.ShowAgentQueue=4]="ShowAgentQueue",e[e.GetIntent=5]="GetIntent",e[e.CancelOrder=6]="CancelOrder",e[e.ExtendShopeeGuarantee=7]="ExtendShopeeGuarantee",e[e.Login=8]="Login",e[e.ClickIntent=9]="ClickIntent",e[e.ClickSubIntent=10]="ClickSubIntent",e[e.ClickQAButton=11]="ClickQAButton",e[e.ClickTaskBot=12]="ClickTaskBot",e[e.SubmitFeedback=1e4]="SubmitFeedback",e[e.PopArticle=10001]="PopArticle",e[e.MoreOrder=10002]="MoreOrder",e[e.Unsupport=1e5]="Unsupport"}(md||(md={})),function(e){e.LIVE="btn_live",e.REDIRECTION="btn_redirection",e.TASKBOT="btn_taskbot",e.CANCEL_ORDER="btn_cancel_order",e.ACTIVATE_SHOPEEPAY="btn_activate_shopeepay",e.FEEDBACK="btn_feedback",e.MODAL="btn_modal",e.POP_ARTICLE="btn_pop_article",e.MORE_ORDER="btn_more_order",e.LOGIN="btn_login"}(yd||(yd={})),function(e){e[e.Default=0]="Default",e[e.Primary=1]="Primary",e[e.PrimaryOutlined=2]="PrimaryOutlined",e[e.SecondaryOutlined=3]="SecondaryOutlined",e[e.Frameless=4]="Frameless",e[e.Ordinary=5]="Ordinary",e[e.Link=1e3]="Link",e[e.Text=1001]="Text"}(vd||(vd={})),function(e){e[e.PRIMARY=1]="PRIMARY",e[e.PRIMARY_DISABLED=2]="PRIMARY_DISABLED",e[e.PRIMARY_OUTLINED=3]="PRIMARY_OUTLINED",e[e.SECONDARY=4]="SECONDARY",e[e.SECONDARY_DISABLED=5]="SECONDARY_DISABLED",e[e.FRAMELESS=6]="FRAMELESS",e[e.FRAMELESS_DISABLED=7]="FRAMELESS_DISABLED",e[e.TRADITIONAL=8]="TRADITIONAL",e[e.TRADITIONAL_DISABLED=9]="TRADITIONAL_DISABLED",e[e.ORDINARY_SELECTOR=10]="ORDINARY_SELECTOR"}(bd||(bd={})),function(e){e.Add="add",e.Update="update",e.Delete="delete",e.Agent="agent"}(Td||(Td={})),function(e){e[e.Click=1]="Click",e[e.FreeText=2]="FreeText"}(Cd||(Cd={})),function(e){e.TEXT="TEXT",e.TRANSACTION_SELECT_TOPUP="TRANSACTION_SELECT_TOPUP",e.TRANSACTION_SELECT_WITHDRAWL="TRANSACTION_SELECT_WITHDRAWL",e.ORDER_SELECT="ORDER_SELECT"}(Sd||(Sd={}));var Ad=new Uint8Array(16);function wd(){if(!Od&&!(Od="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Od(Ad)}var Ed=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function kd(e){return"string"==typeof e&&Ed.test(e)}for(var Rd=[],xd=0;xd<256;++xd)Rd.push((xd+256).toString(16).substr(1));function Ld(e,t,n){var o=(e=e||{}).random||(e.rng||wd)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Rd[e[t+0]]+Rd[e[t+1]]+Rd[e[t+2]]+Rd[e[t+3]]+"-"+Rd[e[t+4]]+Rd[e[t+5]]+"-"+Rd[e[t+6]]+Rd[e[t+7]]+"-"+Rd[e[t+8]]+Rd[e[t+9]]+"-"+Rd[e[t+10]]+Rd[e[t+11]]+Rd[e[t+12]]+Rd[e[t+13]]+Rd[e[t+14]]+Rd[e[t+15]]).toLowerCase();if(!kd(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const Nd="message",Id=()=>((e="id")=>`${e}-${Ld()}`)(Nd),Md=e=>{var t;const{text_key:n,text_value:o}=e;return null===(t=o||nu(n))||void 0===t?void 0:t.toString()},Pd=(e,t)=>{const n=new RegExp(/\$\{(.+?)\}/g),o=[];let r,a=n.lastIndex;for(;null!=(r=n.exec(e));)o.push(e.slice(a,r.index),t[r[1]]),a=n.lastIndex;return o.push(e.slice(a)),o.every((e=>"string"==typeof e||"number"==typeof e))?o.join(""):o},jd=e=>{const{text_extra:t}=e;let n=Md(e);return t&&(n=Pd(n,t)),n||""};hd.Message,hd.ButtonSelection,hd.CardSelection,hd.RelatedIntent,hd.Popup,hd.OptionSelector,hd.Article;const Dd={[yd.LIVE]:md.ShowAgentQueue,[yd.REDIRECTION]:md.JumpURL,[yd.TASKBOT]:md.JumpNode,[yd.FEEDBACK]:md.SubmitFeedback,[yd.POP_ARTICLE]:md.PopArticle,[yd.MORE_ORDER]:md.MoreOrder,[yd.LOGIN]:md.Login,[yd.CANCEL_ORDER]:md.Unsupport,[yd.ACTIVATE_SHOPEEPAY]:md.Unsupport,[yd.MODAL]:md.Unsupport},Bd={[bd.PRIMARY]:vd.Primary,[bd.PRIMARY_DISABLED]:vd.Primary,[bd.PRIMARY_OUTLINED]:vd.PrimaryOutlined,[bd.SECONDARY]:vd.SecondaryOutlined,[bd.SECONDARY_DISABLED]:vd.SecondaryOutlined,[bd.FRAMELESS]:vd.Frameless,[bd.FRAMELESS_DISABLED]:vd.Frameless,[bd.TRADITIONAL]:vd.Default,[bd.TRADITIONAL_DISABLED]:vd.Default,[bd.ORDINARY_SELECTOR]:vd.Ordinary},Ud={default:{},sellerCenter:{upload_evidence_page:"/portal/sale/return/${return_id}",drc_discuss_page:"/portal/sale/return/${return_id}",drc_discuss_two_way_page:"/portal/sale/return/${return_id}",return_refund_detail_page:"/portal/sale/return/${return_id}",topay_order_detail_page_seller:"/portal/sale/order/${order_id}",order_detail_page_seller:"/portal/sale/order/${order_id}",order_detail_page:"/portal/sale/order/${order_id}",shipping_info_page:"/portal/sale/order/${order_id}",change_mobile_number_page:"/portal/settings/account",contact_seller_page:"/webchat/conversations"},sellerEducationHub:{upload_evidence_page:"/portal/sale/return/${return_id}",drc_discuss_page:"/portal/sale/return/${return_id}",drc_discuss_two_way_page:"/portal/sale/return/${return_id}",return_refund_detail_page:"/portal/sale/return/${return_id}",topay_order_detail_page_seller:"/portal/sale/order/${order_id}",order_detail_page_seller:"/portal/sale/order/${order_id}",order_detail_page:"/portal/sale/order/${order_id}",shipping_info_page:"/portal/sale/order/${order_id}",change_mobile_number_page:"/portal/settings/account",contact_seller_page:"/webchat/conversations"}},Vd={default:window.location.origin,sellerCenter:window.location.origin,sellerEducationHub:window.location.origin},Hd=(e,t={})=>{const n=ru.config.from,o=Ud[n]||Ud.default;return`${Vd[n]||Vd.default}${o[e]?Pd(o[e],t):""}`},Fd=e=>({url:Hd(e.uri_key||"",e.uri_extra)||e.url||""});function Gd(e){return{[md.JumpURL]:i.w.Redirection,[md.JumpFormstack]:i.w.Redirection,[md.JumpNode]:i.w.Next,[md.GetIntent]:i.w.GetIntent,[md.ShowAgentQueue]:i.w.ShowAgentQueue,[md.CancelOrder]:i.w.CancelOrder,[md.ExtendShopeeGuarantee]:i.w.ExtendShopeeGuarantee,[md.Login]:i.w.Login,[md.ClickIntent]:i.w.ClickIntent,[md.ClickSubIntent]:i.w.ClickSubIntent,[md.SubmitFeedback]:i.w.SubmitFeedback,[md.PopArticle]:i.w.PopArticle,[md.MoreOrder]:i.w.MoreOrder,[md.Unsupport]:i.w.Unsupport,[md.ClickQAButton]:i.w.ClickQAButton,[md.ClickTaskBot]:i.w.ClickTaskBot}[e]}function Kd(e){return Gd(Dd[e])}function zd(e){return Object.values(vd).includes(e)?"string"!=typeof(t=vd[e])?"":t.replace(/\B([A-Z])/g,"-$1").toLowerCase():"default";var t}function qd(e){return zd(Bd[e])}function Wd(e){var t;const n={[yd.REDIRECTION]:()=>({url_info:Fd(e)}),[yd.TASKBOT]:()=>({}),[yd.POP_ARTICLE]:()=>({article:{article_number:e.article_number,kb_intent_id:e.kb_intent_id}})};return(null===(t=n[e.button_type])||void 0===t?void 0:t.call(n))||{}}var Zd={exports:{}},Qd=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},Yd=Qd,Jd=Object.prototype.toString;function Xd(e){return"[object Array]"===Jd.call(e)}function $d(e){return void 0===e}function ep(e){return null!==e&&"object"==typeof e}function tp(e){if("[object Object]"!==Jd.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function np(e){return"[object Function]"===Jd.call(e)}function op(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Xd(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var rp={isArray:Xd,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Jd.call(e)},isBuffer:function(e){return null!==e&&!$d(e)&&null!==e.constructor&&!$d(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:ep,isPlainObject:tp,isUndefined:$d,isDate:function(e){return"[object Date]"===Jd.call(e)},isFile:function(e){return"[object File]"===Jd.call(e)},isBlob:function(e){return"[object Blob]"===Jd.call(e)},isFunction:np,isStream:function(e){return ep(e)&&np(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:op,merge:function e(){var t={};function n(n,o){tp(t[o])&&tp(n)?t[o]=e(t[o],n):tp(n)?t[o]=e({},n):Xd(n)?t[o]=n.slice():t[o]=n}for(var o=0,r=arguments.length;o<r;o++)op(arguments[o],n);return t},extend:function(e,t,n){return op(t,(function(t,o){e[o]=n&&"function"==typeof t?Yd(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},ap=rp;function ip(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var sp=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(ap.isURLSearchParams(t))o=t.toString();else{var r=[];ap.forEach(t,(function(e,t){null!=e&&(ap.isArray(e)?t+="[]":e=[e],ap.forEach(e,(function(e){ap.isDate(e)?e=e.toISOString():ap.isObject(e)&&(e=JSON.stringify(e)),r.push(ip(t)+"="+ip(e))})))})),o=r.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e},lp=rp;function up(){this.handlers=[]}up.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},up.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},up.prototype.forEach=function(e){lp.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var cp=up,dp=rp,pp=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},fp=pp,hp=function(e,t,n,o,r){var a=new Error(e);return fp(a,t,n,o,r)},_p=hp,gp=rp,mp=gp.isStandardBrowserEnv()?{write:function(e,t,n,o,r,a){var i=[];i.push(e+"="+encodeURIComponent(t)),gp.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),gp.isString(o)&&i.push("path="+o),gp.isString(r)&&i.push("domain="+r),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},yp=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},vp=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},bp=rp,Tp=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Cp=rp,Sp=Cp.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=Cp.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Op(e){this.message=e}Op.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Op.prototype.__CANCEL__=!0;var Ap=Op,wp=rp,Ep=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(_p("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},kp=mp,Rp=sp,xp=function(e,t){return e&&!yp(t)?vp(e,t):t},Lp=function(e){var t,n,o,r={};return e?(bp.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=bp.trim(e.substr(0,o)).toLowerCase(),n=bp.trim(e.substr(o+1)),t){if(r[t]&&Tp.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}})),r):r},Np=Sp,Ip=hp,Mp=Kp,Pp=Ap,jp=function(e){return new Promise((function(t,n){var o,r=e.data,a=e.headers,i=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}wp.isFormData(r)&&delete a["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(u+":"+c)}var d=xp(e.baseURL,e.url);function p(){if(l){var o="getAllResponseHeaders"in l?Lp(l.getAllResponseHeaders()):null,r={data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:o,config:e,request:l};Ep((function(e){t(e),s()}),(function(e){n(e),s()}),r),l=null}}if(l.open(e.method.toUpperCase(),Rp(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(p)},l.onabort=function(){l&&(n(Ip("Request aborted",e,"ECONNABORTED",l)),l=null)},l.onerror=function(){n(Ip("Network Error",e,null,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||Mp.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Ip(t,e,o.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},wp.isStandardBrowserEnv()){var f=(e.withCredentials||Np(d))&&e.xsrfCookieName?kp.read(e.xsrfCookieName):void 0;f&&(a[e.xsrfHeaderName]=f)}"setRequestHeader"in l&&wp.forEach(a,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete a[t]:l.setRequestHeader(t,e)})),wp.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),i&&"json"!==i&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(o=function(e){l&&(n(!e||e&&e.type?new Pp("canceled"):e),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),r||(r=null),l.send(r)}))},Dp=rp,Bp=function(e,t){dp.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))},Up=pp,Vp={"Content-Type":"application/x-www-form-urlencoded"};function Hp(e,t){!Dp.isUndefined(e)&&Dp.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Fp,Gp={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Fp=jp),Fp),transformRequest:[function(e,t){return Bp(t,"Accept"),Bp(t,"Content-Type"),Dp.isFormData(e)||Dp.isArrayBuffer(e)||Dp.isBuffer(e)||Dp.isStream(e)||Dp.isFile(e)||Dp.isBlob(e)?e:Dp.isArrayBufferView(e)?e.buffer:Dp.isURLSearchParams(e)?(Hp(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Dp.isObject(e)||t&&"application/json"===t["Content-Type"]?(Hp(t,"application/json"),function(e,t,n){if(Dp.isString(e))try{return(t||JSON.parse)(e),Dp.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Gp.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&Dp.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw Up(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Dp.forEach(["delete","get","head"],(function(e){Gp.headers[e]={}})),Dp.forEach(["post","put","patch"],(function(e){Gp.headers[e]=Dp.merge(Vp)}));var Kp=Gp,zp=rp,qp=Kp,Wp=function(e){return!(!e||!e.__CANCEL__)},Zp=rp,Qp=function(e,t,n){var o=this||qp;return zp.forEach(n,(function(n){e=n.call(o,e,t)})),e},Yp=Wp,Jp=Kp,Xp=Ap;function $p(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xp("canceled")}var ef=rp,tf=function(e,t){t=t||{};var n={};function o(e,t){return ef.isPlainObject(e)&&ef.isPlainObject(t)?ef.merge(e,t):ef.isPlainObject(t)?ef.merge({},t):ef.isArray(t)?t.slice():t}function r(n){return ef.isUndefined(t[n])?ef.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!ef.isUndefined(t[e]))return o(void 0,t[e])}function i(n){return ef.isUndefined(t[n])?ef.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function s(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s};return ef.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||r,o=t(e);ef.isUndefined(o)&&t!==s||(n[e]=o)})),n},nf="0.24.0",of=nf,rf={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){rf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var af={};rf.transitional=function(e,t,n){function o(e,t){return"[Axios v"+of+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!af[r]&&(af[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};var sf={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),r=o.length;r-- >0;){var a=o[r],i=t[a];if(i){var s=e[a],l=void 0===s||i(s,a,e);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:rf},lf=rp,uf=sp,cf=cp,df=function(e){return $p(e),e.headers=e.headers||{},e.data=Qp.call(e,e.data,e.headers,e.transformRequest),e.headers=Zp.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Zp.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Jp.adapter)(e).then((function(t){return $p(e),t.data=Qp.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Yp(t)||($p(e),t&&t.response&&(t.response.data=Qp.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},pf=tf,ff=sf,hf=ff.validators;function _f(e){this.defaults=e,this.interceptors={request:new cf,response:new cf}}_f.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=pf(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&ff.assertOptions(t,{silentJSONParsing:hf.transitional(hf.boolean),forcedJSONParsing:hf.transitional(hf.boolean),clarifyTimeoutError:hf.transitional(hf.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!o){var i=[df,void 0];for(Array.prototype.unshift.apply(i,n),i=i.concat(a),r=Promise.resolve(e);i.length;)r=r.then(i.shift(),i.shift());return r}for(var s=e;n.length;){var l=n.shift(),u=n.shift();try{s=l(s)}catch(e){u(e);break}}try{r=df(s)}catch(e){return Promise.reject(e)}for(;a.length;)r=r.then(a.shift(),a.shift());return r},_f.prototype.getUri=function(e){return e=pf(this.defaults,e),uf(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},lf.forEach(["delete","get","head","options"],(function(e){_f.prototype[e]=function(t,n){return this.request(pf(n||{},{method:e,url:t,data:(n||{}).data}))}})),lf.forEach(["post","put","patch"],(function(e){_f.prototype[e]=function(t,n,o){return this.request(pf(o||{},{method:e,url:t,data:n}))}}));var gf=_f,mf=Ap;function yf(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,o=n._listeners.length;for(t=0;t<o;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e){n.reason||(n.reason=new mf(e),t(n.reason))}))}yf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},yf.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},yf.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},yf.source=function(){var e;return{token:new yf((function(t){e=t})),cancel:e}};var vf=yf,bf=rp,Tf=Qd,Cf=gf,Sf=tf;var Of=function e(t){var n=new Cf(t),o=Tf(Cf.prototype.request,n);return bf.extend(o,Cf.prototype,n),bf.extend(o,n),o.create=function(n){return e(Sf(t,n))},o}(Kp);Of.Axios=Cf,Of.Cancel=Ap,Of.CancelToken=vf,Of.isCancel=Wp,Of.VERSION=nf,Of.all=function(e){return Promise.all(e)},Of.spread=function(e){return function(t){return e.apply(null,t)}},Of.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},Zd.exports=Of,Zd.exports.default=Of;var Af,wf=Zd.exports;!function(e){e.id="id",e.my="my",e.ph="ph",e.sg="sg",e.th="th",e.tw="tw",e.vn="vn",e.br="br",e.mx="mx",e.co="co",e.cl="cl",e.xx="xx"}(Af||(Af={}));let Ef="sg";"undefined"!=typeof COUNTRY?Ef=COUNTRY:"undefined"!=typeof REGION?Ef=REGION:"undefined"!=typeof process&&"object"==typeof process.env&&process.env.country?Ef=process.env.country:"undefined"!=typeof process&&"object"==typeof process.env&&process.env.cid&&(Ef=process.env.cid);let kf="live";"undefined"!=typeof ENVIRONMENT?kf=ENVIRONMENT:"undefined"!=typeof process&&"object"==typeof process.env&&process.env.environment&&(kf=process.env.environment);const Rf={sg:"shopee.sg",my:"shopee.com.my",th:"shopee.co.th",tw:"shopee.tw",vn:"shopee.vn",id:"shopee.co.id",ph:"shopee.ph",br:"shopee.com.br",mx:"shopee.com.mx",co:"shopee.com.co",cl:"shopee.cl",ar:"shopee.com.ar",pl:"shopee.pl",es:"shopee.es",fr:"shopee.fr",in:"shopee.in",xx:"shopee.systems"},xf=`https://mall.${"live"===kf?"":"liveish"===kf?"live-test.":`${kf}.`}${Rf[Ef]}`,Lf={sg:"https://cf.shopee.sg/file/",my:"https://cf.shopee.com.my/file/",ph:"https://cf.shopee.ph/file/",tw:"https://cf.shopee.tw/file/",vn:"https://cf.shopee.vn/file/",th:"https://cf.shopee.co.th/file/",id:"https://cf.shopee.co.id/file/",br:"https://cf.shopee.com.br/file/",mx:"https://cf.shopee.com.mx/file/",co:"https://cf.shopee.com.co/file/",cl:"https://cf.shopee.cl/file/",xx:"https://cf.shopee.sg/file/"};function Nf(e){return e?`${Lf[Ef]}${e}`:""}function If(e){return`https://chatbot.${"live"===e.env?"":"liveish"===e.env?"live-test.":`${e.env}.`}${function(e){let t=Rf[e];if(t)return t;const n=location.hostname.match(/shopee.+$/)||[];return n[0]?n[0]:void 0}(e.cid)}`}"undefined"!=typeof window&&(window.skipSiteJSInit=!0,window.MALL_HOST_ROOT_URL=xf,"test"===kf&&(window.LOCALHOST=!0));const Mf=()=>{const e=ru.config.from;return pl[e]||pl.general},Pf=()=>{const e=Mf();return Bu.includes(e)};function jf(e){const{report:t=!0,cid:n,env:o}=e,r=Cl(e,["report","cid","env"]);return wf.create(Object.assign({withCredentials:!Pf(),timeout:6e4,baseURL:If({cid:n,env:o})},r))}var Df,Bf,Uf,Vf,Hf,Ff;navigator.sendBeacon||function(e){"navigator"in e||(e.navigator={}),e.navigator.sendBeacon=function(e,t){try{var n=new XMLHttpRequest;return n.open("POST",e,!1),n.onerror=function(){},n.setRequestHeader("Accept","*/*"),"string"==typeof t?n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"):"[object Blob]"===Object.prototype.toString.call(t)&&t.type&&n.setRequestHeader("Content-Type",t.type),n.send(t),!0}catch(e){return!1}}}("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof wl&&wl||{}),function(e){e[e.SUCCESS=1]="SUCCESS",e[e.LOGIC_ERROR=2]="LOGIC_ERROR",e[e.NETWORK_ERROR=3]="NETWORK_ERROR"}(Hf||(Hf={})),function(e){e.Count="count",e.Time="time"}(Ff||(Ff={}));const Gf=jf({report:!1,timeout:1e4,cid:(null===(Df=ru.config)||void 0===Df?void 0:Df.cid)||"sg",env:(null===(Bf=ru.config)||void 0===Bf?void 0:Bf.env)||"live"});null===(Vf=null===(Uf=null==Gf?void 0:Gf.interceptors)||void 0===Uf?void 0:Uf.request)||void 0===Vf||Vf.use((e=>{var t,n,o,r,a;const i=null===(n=null===(t=ru.config)||void 0===t?void 0:t.auth)||void 0===n?void 0:n.userRegion;return e.headers=Object.assign(Object.assign(Object.assign({},e.headers),{"shopee-region":null===(o=ru.config)||void 0===o?void 0:o.cid}),qf()),i&&(e.headers["user-region"]=i),e.baseURL=If({cid:(null===(r=ru.config)||void 0===r?void 0:r.cid)||"sg",env:(null===(a=ru.config)||void 0===a?void 0:a.env)||"live"}),e}));const Kf=new class{constructor(){this.pendingQueue=[],this.isPendingQueueScheduled=!1,this.meta={UA:navigator.userAgent,location:location.href}}updateMeta(e={}){this.meta=Object.assign(Object.assign({},this.meta),e)}updateMatrix(e){return Object.assign({},e)}apiLog(e,t={level:"error"}){return Sl(this,void 0,void 0,(function*(){return null==Gf?void 0:Gf.post("/report/v1/report_log",{msg:e,values:Object.assign(Object.assign({},t),this.meta)}).catch((e=>{console.error("Reporter::apiLog",e)}))}))}report(e){const{cid:t="sg",env:n="live"}=(null==ru?void 0:ru.config)||{};navigator.sendBeacon&&navigator.sendBeacon(`${If({cid:t,env:n})}/report/v1/tr`,JSON.stringify(e))}processPendingQueue(){if(this.isPendingQueueScheduled=!1,this.pendingQueue.length>0){const e=this.pendingQueue;this.pendingQueue=[];const t=[],n=[],o=[];e.forEach((function(e){if(e.value)switch(e.type){case"count":t.push(e.value);break;case"time":n.push(e.value);break;case"hyper":o.push(e.value)}}));const r={};if(t.length>0&&(r.count=t),n.length>0&&(r.time_costs=n),o.length>0&&(r.hyper=o),0===Object.keys(r).length)return;this.report(r)}}schedulePendingQueue(){this.isPendingQueueScheduled||(this.isPendingQueueScheduled=!0,setTimeout(this.processPendingQueue.bind(this),500))}grafanaReport(e){this.pendingQueue.push(e),this.schedulePendingQueue()}},zf=(e,t,n,o,r)=>{e&&Kf.grafanaReport({type:"count",value:{label:e,count:null!=t?t:1,extend_1:n,extend_2:o,extend_3:r}})},qf=()=>{const{entrypoint:e,accountType:t,region:n}=Wf();return{"entrypoint-name":e,"account-type":t,region:n}},Wf=()=>{var e,t,n,o,r,a,i,s,l;let u=null!==(e=ru.config.from)&&void 0!==e?e:"";return"taskFlow"===u&&(u="general"),{entrypoint:Zf(u),accountType:null!==(a=null===(r=null===(o=null===(n=null===(t=ru.config)||void 0===t?void 0:t.auth)||void 0===n?void 0:n.accountType)||void 0===o?void 0:o.toString)||void 0===r?void 0:r.call(o))&&void 0!==a?a:"",region:null===(l=null===(s=null===(i=ru.config)||void 0===i?void 0:i.cid)||void 0===s?void 0:s.toUpperCase)||void 0===l?void 0:l.call(s)}},Zf=e=>e.charAt(0).toUpperCase()+e.slice(1),Qf=new s.EventEmitter;function Yf(e){if(e)try{return JSON.parse(e)}catch(e){return}}const Jf="pc_chatbot_js_error_total",Xf="pc_chatbot_multiple_conflict",$f="pc_chatbot_end_by_timeout",eh="pc_chatbot_msg",th="pc_chatbot_msg_ok",nh="pc_chatbot_get_article_image",oh="pc_chatbot_get_article_image_failed",rh="chatbot_sdk_pv",ah="chatbot_sdk_render_error",ih="chatbot_sdk_render_count",sh={setInterval:(e,t)=>0,setTimeout:(e,t)=>0,clearInterval:e=>{},clearTimeout:e=>{}};var lh=new class{constructor(){this.sdk=null,this.lastOperateTime=null,this.timer=null,this.onLastOperateTimeChangeBindThis=this.onLastOperateTimeChange.bind(this)}start(e){this.clear(),this.setChatbotSDK(e),this.init()}init(){this.addListener(),this.startTimer()}setChatbotSDK(e){this.sdk=e}handleOperate(){this.updateLastOperateTime(),this.startTimer(),this.syncLastOperateTime()}updateLastOperateTime(e){null===this.lastOperateTime&&C_({type:hl.EndChat,data:{show:!0}}),this.lastOperateTime=void 0!==e?e:Date.now(),null===e?this.clearTimer():this.startTimer()}startTimer(){var e;this.clearTimer();const t=Number(k_("chatbotExpiredTime"))||354e4,n=(null===(e=su(pu))||void 0===e?void 0:e.lastOperateTime)||Date.now(),o=Date.now()-n;this.timer=sh.setTimeout((()=>{var e,t;zf($f),null===(t=null===(e=this.sdk)||void 0===e?void 0:e.end)||void 0===t||t.call(e,!0,!0)}),t-o)}clearTimer(){this.timer&&(sh.clearTimeout(this.timer),this.timer=null)}syncLastOperateTime(e){const t=lu(uu);iu(pu,{lastOperateTime:null!=e?e:this.lastOperateTime,tabId:t})}addListener(){window.addEventListener("storage",this.onLastOperateTimeChangeBindThis)}removeListener(){window.removeEventListener("storage",this.onLastOperateTimeChangeBindThis)}onLastOperateTimeChange(e){if(e.key===au(pu)){const t=lu(uu),{tabId:n,lastOperateTime:o}=Yf(e.newValue)||{};n&&n!==t&&this.updateLastOperateTime(null!=o?o:null)}}clear(){this.sdk=null,this.lastOperateTime=null,this.clearTimer(),this.removeListener()}};const uh={getInitSession:{url:"/api/v2/init_session",method:"get"},getOrderList:{url:"/api/v2/message",method:"post"},getUserInfo:{url:"/api/v2/user_info",method:"get"},getHotQuestionAnswer:{url:"/api/v1/hot_question_answer",method:"get"},getShortcutAnswer:{url:"/api/v1/shortcut_answer",method:"get"},getArticleByNumber:{url:"/api/v1/get_article_by_number",method:"post"},isOrderReturn:{url:"/api/v1/is_order_return",method:"post"},postFeedback:{url:"/api/v2/dialogue_feedback",method:"post"},getV1OrderList:{url:"/api/v1/order_list",method:"get"},getSearchOrderList:{url:"/api/v1/order_search",method:"get"},postShopeePayActivated:{url:"/api/v1/is_shopeepay_activated",method:"post"},postHeartbeat:{url:"/api/v2/heartbeat",method:"post"},getReturnList:{url:"/api/v1/return_list",method:"get"},postNegativeOptions:{url:"/api/v2/submit_option",method:"post"},reportLog:{url:"/report/v1/report_log",method:"post"},transactionsLoadMore:{url:"/api/v1/transactions_load_more",method:"get"},suggestion:{url:"/api/v2/suggestion",method:"post"},getArticle:{url:"/api/v2/article",method:"get"},uploadMessage:{url:"/api/v2/upload_message",method:"post"},getNextHeadIntent:{url:"/api/v1/next_head_intent",method:"post"},popHeadIntent:{url:"/api/v2/pop_head_intent",method:"post"},refreshHeadIntent:{url:"/api/v1/refresh_head_intent",method:"post"},getCategoryIntentList:{url:"/api/v2/get_category_intent_list",method:"get"},postEndSession:{url:"/api/v2/end_session",method:"post"},getSupportCaseCount:{url:"/api/v1/case/get_counts",method:"get"},getUserEvents:{url:"/chat/v1/get_user_events",method:"post"},reportUserEvents:{url:"/chat/v1/report_user_event",method:"post"},getWebformSubmission:{url:"/chat/v1/query_webform_submission",method:"get"}},ch={[Cu]:()=>{A_()},[Su]:()=>{C_({type:hl.LoginExpired,data:{show:!0}})},[Ou]:()=>{w_(nu("error_too_frequent"))},[Nu]:()=>{A_()},[Iu]:()=>{A_()},[Mu]:()=>{w_(nu("error_init_session_tip"))},[Ru]:()=>{w_(nu("error_session_outofdate"))},[Eu]:()=>{w_(nu("error_session_outofdate"))},[xu]:(e={})=>Promise.resolve(Object.assign(Object.assign({},e||{}),{hasFailed:!0})),[Lu]:()=>Promise.resolve({hasDeleted:!0}),[Au]:()=>{var e,t;null===(t=null===(e=ru.config.auth)||void 0===e?void 0:e.getChatAccessToken)||void 0===t||t.call(e)},[wu]:()=>{Uu.includes(Mf())||C_({type:hl.LoginExpired,data:{show:!0}})},[ku]:()=>{zf(Xf),C_({type:hl.MultiTerminalConflict,data:{show:!0}})}},dh=[xu,Lu,ku,Au],ph=[uh.getV1OrderList.url,uh.getUserInfo.url,uh.postHeartbeat.url,uh.getReturnList.url,uh.suggestion.url,uh.getArticle.url,uh.uploadMessage.url,uh.getNextHeadIntent.url,uh.getUserEvents.url,uh.reportUserEvents.url],fh=[Su,wu,Au];function hh(e,t){if([...fh,...dh].includes(e))return ch[e]&&ch[e](t)}function _h(e,t){if("string"!=typeof e||0===e.length)return!1;for(let t=0,n=ph.length;t<n;t++)if(e.match(ph[t]))return!0;return!("number"!=typeof t||!dh.includes(t))}var gh,mh,yh,vh,bh,Th,Ch,Sh,Oh;const Ah=jf({timeout:1e4,cid:(null===(gh=ru.config)||void 0===gh?void 0:gh.cid)||"sg",env:(null===(mh=ru.config)||void 0===mh?void 0:mh.env)||"live"});var wh;null===(vh=null===(yh=null==Ah?void 0:Ah.interceptors)||void 0===yh?void 0:yh.request)||void 0===vh||vh.use((e=>{var t,n,o;const r=null===(t=ru.config.auth)||void 0===t?void 0:t.userRegion,a=null===(n=ru.config.auth)||void 0===n?void 0:n.isLogined;return e.headers=Object.assign(Object.assign({},e.headers),{"shopee-region":null===(o=ru.config)||void 0===o?void 0:o.cid}),a&&r&&(e.headers["user-region"]=r),Pf()&&u_.includes(e.url)&&delete e.headers["chat-access-token"],b_()&&(e.headers["chatbot-command-type"]="2"),Object.assign({},e)})),null===(Th=null===(bh=null==Ah?void 0:Ah.interceptors)||void 0===bh?void 0:bh.request)||void 0===Th||Th.use((e=>{const t=null==e?void 0:e.url;return l_.includes(t)||(zf(eh),lh.handleOperate()),e})),null===(Oh=null===(Sh=null===(Ch=null==Ah?void 0:Ah.interceptors)||void 0===Ch?void 0:Ch.response)||void 0===Sh?void 0:Sh.use)||void 0===Oh||Oh.call(Sh,(e=>{const{config:{url:t,headers:{requestId:n,connectionLimit:o}={}}}=e;return e})),null==Ah||Ah.interceptors.response.use((e=>{const{status:t,data:n,config:o={}}=e;if(Qf.emit("api",n),200===t&&n){const t=n.code;if(0===t){const e=n.data;return e.dialogue_type&&(e=>{var t;const n=sl(yl),o=(null===(t=n.activatedDialogueType)||void 0===t?void 0:t.slice())||[];-1===o.indexOf(e)&&o.push(e),O_(yl,Object.assign(Object.assign({},n||{}),{activatedDialogueType:o}),du)})(e.dialogue_type),o.url&&!l_.includes(o.url)&&(zf(th),lh.handleOperate()),Promise.resolve(e)}{if(_h(null==o?void 0:o.url,t)||o.isErrorWhiteList){if([uh.getUserInfo.url].includes(null==o?void 0:o.url))return;const e=hh(t,n.data);if(e)return e}else{const e=ch[t];e?e():ch.NETWORK_ERROR()}const r=new Error(`Request failed with data code ${t||"UNKNOWN"}`);return r.response=e,Promise.reject(r)}}}),(e=>{var t,n,o,r,a,i;const s=e.response||{};if(s.status>=500&&(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.url.includes(uh.getInitSession.url)))ch.SERVER_ERROR();else if(_h((null===(n=null==e?void 0:e.config)||void 0===n?void 0:n.url)||(null===(o=null==e?void 0:e.message)||void 0===o?void 0:o.url))||(null===(r=null==e?void 0:e.config)||void 0===r?void 0:r.isErrorWhiteList)||(null===(a=null==e?void 0:e.message)||void 0===a?void 0:a.isErrorWhiteList))hh(s.status);else if(s.status){const e=ch[s.status];e?e():ch.NETWORK_ERROR()}else(null===(i=e.message)||void 0===i?void 0:i.includes("timeout"))?ch.TIMEOUT():ch.NETWORK_ERROR();return Promise.reject(e)})),function(e){e[e.IntVal=1]="IntVal",e[e.FloatVal=2]="FloatVal",e[e.StringVal=3]="StringVal",e[e.BoolVal=4]="BoolVal"}(wh||(wh={}));const Eh=(e,t={})=>{if(!e)return{};const n={};return Object.keys(e).forEach((o=>{var r;(null===(r=e[o])||void 0===r?void 0:r.is_assigned)?n[o]=e[o]:n[o]=function(e,t){switch(e.data_type){case wh.IntVal:return Object.assign(Object.assign({},e),{int_val:t,is_assigned:!0});case wh.FloatVal:return Object.assign(Object.assign({},e),{float_val:t,is_assigned:!0});case wh.StringVal:return Object.assign(Object.assign({},e),{string_val:t,is_assigned:!0});case wh.BoolVal:return Object.assign(Object.assign({},e),{bool_val:t,is_assigned:!0})}}(e[o],t[o])})),n},kh=e=>{e&&e.length&&zf(nh,e.length)},Rh=e=>{e&&zf(oh)};var xh,Lh;!function(e){e[e.Topup=2]="Topup",e[e.Withdrawal=3]="Withdrawal"}(xh||(xh={})),function(e){e.labelWithdrawalPrefix="label_withdrawal_prefix",e.labelTopupPrefix="label_topup_prefix",e.labelWithdrawal="label_withdrawal",e.labelTopup="label_topup"}(Lh||(Lh={}));const Nh={1:"pending",2:"pending",3:"success",4:"fail"};function Ih(e,t){return e===xh.Topup?`${nu(Lh.labelTopupPrefix,"From")} ${t.payment_channel_text}`:e===xh.Withdrawal?`${nu(Lh.labelWithdrawalPrefix,"To Bank")} ${t.bank_name}`:void 0}function Mh(e,t,n){return{title:Ih(e,t)||"",amount:`${e===xh.Topup?"+":"-"}${y_(t.amount)}`,specification:t.create_time,status:n[t.status],type:Nh[t.status]}}const Ph=new s.EventEmitter,jh=e=>Sl(void 0,void 0,void 0,(function*(){const{status:t,statusText:n}=e,o=t===u.Tn?c_.getReturnList:c_.getV1OrderList,r=yield o(Object.assign(Object.assign({},e),{query_type:t,is_seller:1})).catch((()=>{}));return r?((e,t,n,o)=>{const r=e.map((e=>{var r,a;const i=(null===(r=null==e?void 0:e.items)||void 0===r?void 0:r[0])||{},s=(null===(a=null==i?void 0:i.image)||void 0===a?void 0:a[0])||"";return{originData:Object.assign(Object.assign(Object.assign({},e),i),{title:i.title,specification:i.specification,image:s,isRR:t}),uriKey:e.uri_key,title:i.title,specification:i.specification,returnId:e.return_id,orderId:e.order_id,orderSn:e.order_sn,orderStatusText:n===u.L7?nu(u.MI[e.order_list_type]):t?e.return_status:o,totalPaymentText:nu(t?u.oy:u.L1),amount:i.amount,orderPrice:y_(i.order_price),totalPrice:y_(t?e.refund_amount:e.total_price),itemCount:e.item_count,image:Nf(s),shopName:e.shop_name}}));return{data:r}})((null==r?void 0:r.order_list)||(null==r?void 0:r.return_list)||[],t===u.Tn,t,n):{data:[]}})),Dh=e=>{var t,n;Ph.emit("redirection",{action:{url_info:Fd({uri_key:null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.uriKey,uri_extra:(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.originData)||{}})}})};const Bh=new Map([["account_fraud",{path:"data:image/svg+xml,%3csvg viewBox='0 0 45 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M14.5352 16.8508C14.5352 12.55 18.0202 9.06641 22.3217 9.06641C26.621 9.06641 30.1061 12.5498 30.1061 16.8508C30.1061 21.1518 26.621 24.6353 22.3217 24.6353C18.0202 24.6353 14.5352 21.1517 14.5352 16.8508ZM22.3217 7.06641C16.9163 7.06641 12.5352 11.4448 12.5352 16.8508C12.5352 19.3661 13.4837 21.659 15.0424 23.3918C14.0103 23.8606 13.1149 24.5877 12.3504 25.4182C11.21 26.657 10.3006 28.1894 9.59801 29.6468C8.89246 31.1105 8.37658 32.5387 8.0375 33.5972C7.86754 34.1278 7.74096 34.5688 7.65641 34.879C7.61412 35.0342 7.58229 35.1569 7.56075 35.242C7.54997 35.2845 7.54177 35.3177 7.53612 35.3408L7.5331 35.3532C7.5115 35.435 7.5 35.5208 7.5 35.6094C7.5 36.7412 7.9848 37.6319 8.79739 38.2017C9.56178 38.7377 10.5307 38.9332 11.4664 38.9332H33.7203C34.656 38.9332 35.625 38.7377 36.3894 38.2017C37.202 37.6319 37.6868 36.7412 37.6868 35.6094C37.6868 35.532 37.6778 35.4548 37.66 35.3795L36.6868 35.6094C37.66 35.3795 37.6599 35.3792 37.6598 35.3789L37.6596 35.378L37.659 35.3754L37.657 35.367L37.6498 35.3375C37.6437 35.3124 37.6347 35.2762 37.6229 35.2298C37.5994 35.137 37.5646 35.0031 37.5183 34.8341C37.4258 34.4963 37.2873 34.0169 37.1015 33.4434C36.731 32.2998 36.1674 30.7659 35.3974 29.2274C34.6318 27.6976 33.6365 26.1111 32.3831 24.9039C31.6272 24.176 30.7542 23.5653 29.7654 23.2021C31.2249 21.4932 32.1061 19.2753 32.1061 16.8508C32.1061 11.445 27.7252 7.06641 22.3217 7.06641ZM27.9607 24.8483C26.3668 25.9741 24.4215 26.6353 22.3217 26.6353C20.2639 26.6353 18.3545 26.0007 16.7788 24.9165C15.7136 25.131 14.7282 25.7882 13.8219 26.7728C12.8647 27.8125 12.0559 29.1538 11.3996 30.5153C10.7463 31.8706 10.2628 33.2065 9.94217 34.2074C9.78229 34.7065 9.66395 35.119 9.58604 35.4049C9.54948 35.5391 9.52187 35.6451 9.5031 35.7189C9.52815 36.1493 9.70272 36.3939 9.94565 36.5642C10.2567 36.7823 10.771 36.9332 11.4664 36.9332H33.7203C34.4158 36.9332 34.9301 36.7823 35.2411 36.5642C35.4841 36.3938 35.6586 36.1493 35.6837 35.7188C35.663 35.6374 35.6316 35.5166 35.5893 35.3622C35.5037 35.0497 35.3739 34.6001 35.1989 34.0598C34.8478 32.9759 34.3196 31.5427 33.6089 30.1226C32.8938 28.6938 32.0195 27.3304 30.9957 26.3445C30.0599 25.4433 29.055 24.9071 27.9607 24.8483Z' /%3e%3c/svg%3e",isImg:!1}],["bd",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M38.0382 17.1051L30.4206 9.48699C29.7994 8.86574 28.9734 8.5236 28.0949 8.5236C27.2164 8.5236 26.3904 8.86574 25.7692 9.48699L23.5243 11.732L19.7557 7.96339C19.1346 7.34215 18.3088 7 17.4303 7C16.5517 7 15.7258 7.34211 15.1046 7.96339L5.96339 17.1051C5.34211 17.7263 5 18.5523 5 19.4309C5 20.3094 5.34211 21.1354 5.96339 21.7566L19.675 35.4692C20.2962 36.0904 21.1222 36.4325 22.0008 36.4325C22.8793 36.4325 23.7052 36.0904 24.3264 35.4691L38.0382 21.7566C39.3206 20.4742 39.3206 18.3875 38.0382 17.1051ZM28.0545 23.9613C27.8402 24.1755 27.7221 24.4604 27.7221 24.7634C27.7221 25.0664 27.8402 25.3514 28.0545 25.5656L29.5375 27.0488L28.0949 28.4916L25.0883 25.4849C24.646 25.0426 23.9261 25.0426 23.4839 25.4849C23.2695 25.6991 23.1515 25.984 23.1515 26.287C23.1515 26.5901 23.2695 26.875 23.4839 27.0892L26.4905 30.096L25.0479 31.5388L20.5176 27.0085C20.0753 26.5663 19.3555 26.5663 18.9132 27.0085C18.6989 27.2228 18.5809 27.5076 18.5809 27.8107C18.5809 28.1137 18.6989 28.3985 18.9132 28.6128L23.4434 33.1433L22.7221 33.8647C22.3243 34.2623 21.6771 34.2624 21.2792 33.8647L7.56778 20.1523C7.37504 19.9595 7.26889 19.7033 7.26889 19.4309C7.26889 19.1584 7.37504 18.9021 7.56778 18.7094L16.7088 9.56778C16.9077 9.36891 17.1689 9.26954 17.4302 9.26954C17.6915 9.26954 17.9528 9.36899 18.1516 9.56778L21.9202 13.3365L20.4369 14.8197C19.8157 15.4409 19.4735 16.2669 19.4735 17.1455C19.4735 18.0241 19.8157 18.8501 20.4369 19.4713L21.9606 20.9948C22.5817 21.6161 23.4075 21.9582 24.286 21.9582C25.1645 21.9582 25.9904 21.6161 26.6116 20.9948L28.0949 19.5116L31.8634 23.2802C32.2611 23.678 32.2611 24.3252 31.8634 24.723L31.1419 25.4445L29.6586 23.9612C29.4445 23.747 29.1596 23.6289 28.8567 23.6289C28.5537 23.6289 28.2688 23.747 28.0545 23.9613ZM28.0949 16.7728C27.7919 16.7728 27.507 16.8908 27.2928 17.105L25.0075 19.3905C24.6097 19.7882 23.9625 19.7882 23.5646 19.3905L22.0413 17.8668C21.8486 17.6741 21.7424 17.418 21.7424 17.1454C21.7424 16.8729 21.8486 16.6167 22.0413 16.424L27.3736 11.0914C27.5662 10.8987 27.8223 10.7926 28.0948 10.7926C28.3673 10.7926 28.6235 10.8987 28.8161 11.0914L36.4337 18.7094C36.6264 18.9021 36.7326 19.1584 36.7326 19.4308C36.7326 19.7033 36.6265 19.9595 36.4337 20.1523L34.1888 22.3973L31.9441 20.1523L28.8968 17.1051C28.6827 16.8908 28.3979 16.7728 28.0949 16.7728L28.0949 16.7728Z' /%3e%3c/svg%3e",isImg:!1}],["content_legal",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M32.0005 36.9999H10C8.89502 36.9999 8 36.1049 8 34.9988V12.9994C8 11.8944 8.89502 11.0003 10 11.0003V34.9988H34.0005C34.0005 36.1049 33.1055 36.9999 32.0005 36.9999ZM25.0009 14.9994H17.0017C16.4487 14.9994 16.0007 14.5524 16.0007 13.9994C16.0007 13.4464 16.4487 12.9994 17.0017 12.9994H25.0009C25.5529 12.9994 26.0009 13.4464 26.0009 13.9994C26.0009 14.5524 25.5529 14.9994 25.0009 14.9994ZM31.001 20.9997H17.0017C16.4487 20.9997 16.0007 20.5517 16.0007 19.9987C16.0007 19.4467 16.4487 18.9997 17.0017 18.9997H31.001C31.553 18.9997 32.001 19.4467 32.001 19.9987C32.001 20.5517 31.553 20.9997 31.001 20.9997ZM31.001 27.0002H17.0017C16.4487 27.0002 16.0007 26.5511 16.0007 25.9981C16.0007 25.4461 16.4487 24.9981 17.0017 24.9981H31.001C31.553 24.9981 32.001 25.4461 32.001 25.9981C32.001 26.5511 31.553 27.0002 31.001 27.0002ZM33.9998 9.99896C33.9998 9.44695 33.5518 8.99994 32.9998 8.99994H14.9994C14.4474 8.99994 13.9994 9.44695 13.9994 9.99896V30.0004C13.9994 30.5514 14.4474 30.9994 14.9994 30.9994H32.9998C33.5518 30.9994 33.9998 30.5514 33.9998 30.0004V9.99896ZM34.0003 32.9985H13.9999C12.8959 32.9985 11.9999 32.1045 11.9999 30.9995V9.00004C11.9999 7.89402 12.8959 7 13.9999 7H34.0003C35.1054 7 36.0004 7.89402 36.0004 9.00004V30.9995C36.0004 32.1045 35.1054 32.9985 34.0003 32.9985Z' /%3e%3c/svg%3e",isImg:!1}],["digital_product",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.7974 10C12.7974 9.44771 13.2451 9 13.7974 9H30.436C30.9883 9 31.436 9.44772 31.436 10V33.8073C31.436 34.3596 30.9883 34.8073 30.436 34.8073H13.7974C13.2451 34.8073 12.7974 34.3596 12.7974 33.8073V10ZM14.9481 11.6506C14.9481 11.3745 15.1719 11.1506 15.4481 11.1506H28.7855C29.0616 11.1506 29.2855 11.3745 29.2855 11.6506V28.5724C29.2855 28.8485 29.0616 29.0724 28.7855 29.0724H15.4481C15.1719 29.0724 14.9481 28.8485 14.9481 28.5724V11.6506ZM21.3999 31.44C21.1238 31.44 20.8999 31.6638 20.8999 31.94C20.8999 32.2161 21.1238 32.44 21.3999 32.44H22.8337C23.1098 32.44 23.3337 32.2161 23.3337 31.94C23.3337 31.6638 23.1098 31.44 22.8337 31.44H21.3999ZM36.4415 24.8095C38.81 22.441 38.81 18.6009 36.4415 16.2324C36.2462 16.0372 35.9296 16.0372 35.7344 16.2324C35.5391 16.4277 35.5391 16.7443 35.7344 16.9395C37.7123 18.9175 37.7123 22.1244 35.7344 24.1024C35.5391 24.2977 35.5391 24.6142 35.7344 24.8095C35.9296 25.0048 36.2462 25.0048 36.4415 24.8095ZM7.77637 16.2324C5.40788 18.6009 5.40788 22.441 7.77637 24.8095C7.97163 25.0048 8.28822 25.0048 8.48348 24.8095C8.67874 24.6142 8.67874 24.2977 8.48348 24.1024C6.50551 22.1244 6.50551 18.9175 8.48348 16.9395C8.67874 16.7443 8.67874 16.4277 8.48348 16.2324C8.28822 16.0372 7.97163 16.0372 7.77637 16.2324ZM34.2989 21.854C35.0884 21.0644 35.0884 19.7843 34.2989 18.9947C34.1036 18.7995 33.787 18.7995 33.5917 18.9947C33.3965 19.19 33.3965 19.5066 33.5917 19.7018C33.9908 20.1009 33.9908 20.7478 33.5917 21.1469C33.3965 21.3421 33.3965 21.6587 33.5917 21.854C33.787 22.0492 34.1036 22.0492 34.2989 21.854ZM9.93502 18.9947C9.14547 19.7843 9.14547 21.0644 9.93502 21.854C10.1303 22.0492 10.4469 22.0492 10.6421 21.854C10.8374 21.6587 10.8374 21.3421 10.6421 21.1469C10.2431 20.7478 10.2431 20.1009 10.6421 19.7018C10.8374 19.5066 10.8374 19.19 10.6421 18.9947C10.4469 18.7995 10.1303 18.7995 9.93502 18.9947Z' /%3e%3c/svg%3e",isImg:!1}],["general",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M26 27.3333V26.4128L26.9685 25.7824C28.7034 24.6539 30.0272 22.9949 30.7424 21.0527C31.4576 19.1106 31.5261 16.9893 30.9375 15.0051C30.3489 13.0209 29.1349 11.28 27.4763 10.042C25.8178 8.80401 23.8035 8.13515 21.7339 8.13515C19.6642 8.13515 17.65 8.80401 15.9914 10.042C14.3329 11.28 13.1188 13.0209 12.5302 15.0051C11.9417 16.9893 12.0101 19.1106 12.7253 21.0527C13.4406 22.9949 14.7643 24.6539 16.4992 25.7824L17.4677 26.4139V27.3333H26ZM26 29.4667H17.4667V31.6H26V29.4667ZM21.7333 6C28.2133 6 33.4667 11.2533 33.4667 17.7333C33.4677 19.6872 32.9804 21.6104 32.0489 23.328C31.1175 25.0455 29.7715 26.5031 28.1333 27.568V31.6C28.1333 32.1658 27.9086 32.7084 27.5085 33.1085C27.1084 33.5086 26.5658 33.7333 26 33.7333H17.4667C16.9009 33.7333 16.3583 33.5086 15.9582 33.1085C15.5581 32.7084 15.3333 32.1658 15.3333 31.6V27.5701C13.6949 26.505 12.3487 25.0471 11.4172 23.3291C10.4858 21.6112 9.9986 19.6876 10 17.7333C10 11.2533 15.2533 6 21.7333 6ZM17.4667 35.8667H26C26.2829 35.8667 26.5542 35.979 26.7543 36.1791C26.9543 36.3791 27.0667 36.6504 27.0667 36.9333C27.0667 37.2162 26.9543 37.4875 26.7543 37.6876C26.5542 37.8876 26.2829 38 26 38H17.4667C17.1838 38 16.9125 37.8876 16.7124 37.6876C16.5124 37.4875 16.4 37.2162 16.4 36.9333C16.4 36.6504 16.5124 36.3791 16.7124 36.1791C16.9125 35.979 17.1838 35.8667 17.4667 35.8667Z' /%3e%3c/svg%3e",isImg:!1}],["logistics",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 10C6.89543 10 6 10.8954 6 12V27.6963C6 28.8008 6.89543 29.6963 8 29.6963H9.42804C9.41468 29.8258 9.40784 29.9573 9.40784 30.0904C9.40784 32.1873 11.1072 33.8894 13.2069 33.8894C15.3065 33.8894 17.0059 32.1873 17.0059 30.0904C17.0059 29.9573 16.999 29.8258 16.9857 29.6963H23.6963C24.1423 29.6963 24.5543 29.5502 24.887 29.3034C25.1344 29.413 25.4083 29.474 25.6964 29.474H27.1165C27.0838 29.6746 27.0667 29.8805 27.0667 30.0904C27.0667 32.1877 28.7684 33.8894 30.8657 33.8894C32.9654 33.8894 34.6648 32.1873 34.6648 30.0904C34.6648 29.8805 34.6477 29.6746 34.615 29.474H35.8946C37.2905 29.474 38.257 28.0803 37.7678 26.773L33.5538 15.5125C33.2614 14.7312 32.5149 14.2134 31.6807 14.2134H25.6964H25.6963V12C25.6963 10.8954 24.8008 10 23.6963 10H8ZM33.6203 27.474L35.8946 27.474L31.6807 16.2134H25.6964V27.474H28.1119C28.8042 26.7456 29.7821 26.2914 30.8657 26.2914C31.9505 26.2914 32.9283 26.7457 33.6203 27.474ZM13.2069 26.2914C12.0156 26.2914 10.9532 26.8393 10.2569 27.6963H8V12L23.6963 12L23.6963 27.6963L16.1568 27.6963C15.4605 26.8393 14.3981 26.2914 13.2069 26.2914ZM13.2069 28.2914C12.2127 28.2914 11.4078 29.0972 11.4078 30.0904C11.4078 31.0836 12.2127 31.8894 13.2069 31.8894C14.2011 31.8894 15.0059 31.0836 15.0059 30.0904C15.0059 29.0972 14.2011 28.2914 13.2069 28.2914ZM29.0667 30.0904C29.0667 29.0976 29.873 28.2914 30.8657 28.2914C31.86 28.2914 32.6648 29.0972 32.6648 30.0904C32.6648 31.0836 31.86 31.8894 30.8657 31.8894C29.873 31.8894 29.0667 31.0832 29.0667 30.0904Z' /%3e%3c/svg%3e",isImg:!1}],["marketing",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='none' d='M7.12753 20.6535C7.03063 20.5566 6.98501 20.4197 7.00439 20.2841L8.61817 8.98759C8.64554 8.79604 8.79604 8.64554 8.98759 8.61817L20.2841 7.00439C20.4197 6.98501 20.5566 7.03063 20.6535 7.12753L36.8725 23.3465C37.0425 23.5166 37.0425 23.7922 36.8725 23.9622L23.9622 36.8725C23.7922 37.0425 23.5166 37.0425 23.3465 36.8725L7.12753 20.6535Z' stroke='black' stroke-width='2'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M21.8054 21.3742C20.7961 22.1688 19.8172 22.8873 19.1072 22.1793C18.3552 21.4275 18.9146 20.3541 19.8068 19.4634C20.5483 18.723 21.6987 18.2834 22.4402 18.4651L23.0636 16.7703C21.59 16.2659 20.4091 16.7588 19.355 17.5325L18.42 16.599L17.0551 17.9617L17.9901 18.8943C16.894 20.2903 16.2917 22.1793 17.6994 23.5849C19.4836 25.3673 21.2574 24.1321 22.9673 22.7703C24.0853 21.89 25.2357 21.2562 25.9448 21.9652C26.7826 22.8017 26.2241 24.0255 25.2567 24.9914C24.3646 25.8821 22.9673 26.3969 21.9884 26.0001L21.2584 27.8025C22.9454 28.4791 24.6114 27.91 25.9229 26.8156L26.9447 27.8358L28.3095 26.4721L27.2344 25.3996C28.4715 23.9722 28.869 21.9433 27.4174 20.494C25.5255 18.605 23.5687 20.001 21.8054 21.3742Z' /%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.2506 15.2501C16.0241 14.4765 16.0241 13.2224 15.2506 12.4488C14.477 11.6753 13.2229 11.6753 12.4493 12.4488C11.6758 13.2224 11.6758 14.4765 12.4493 15.2501C13.2229 16.0236 14.477 16.0236 15.2506 15.2501Z' /%3e%3c/svg%3e",isImg:!1}],["others",{path:"data:image/svg+xml,%3csvg width='44' height='44' viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='none' d='M8 10L27.4437 10V33.0177H8L8 10Z' stroke='black' stroke-width='2'/%3e%3cpath fill='none' d='M12.3594 15.5522H21.8899' stroke-width='2' stroke-linecap='round'/%3e%3cpath fill='none' d='M12.3594 20.3173H17.1246' stroke-width='2' stroke-linecap='round'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M28.552 34.2344C33.2175 34.2344 36.9996 30.4523 36.9996 25.7869C36.9996 21.1214 33.2175 17.3394 28.552 17.3394C23.8866 17.3394 20.1045 21.1214 20.1045 25.7869C20.1045 30.4523 23.8866 34.2344 28.552 34.2344Z' fill='white' stroke-width='2'/%3e%3cmask id='path-5-outside-1' maskUnits='userSpaceOnUse' x='20.8517' y='17.7123' width='15.5563' height='15.5564' fill='black'%3e%3crect fill='white' x='20.8517' y='17.7123' width='15.5563' height='15.5564'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M28.6304 25.0438L31.1778 22.4963C31.4048 22.2694 31.7728 22.2694 31.9998 22.4963C32.2267 22.7233 32.2267 23.0913 31.9998 23.3183L29.4523 25.8657L31.9996 28.413C32.2266 28.64 32.2266 29.008 31.9996 29.235C31.7726 29.462 31.4046 29.462 31.1776 29.235L28.6304 26.6877L26.0826 29.2355C25.8556 29.4624 25.4876 29.4624 25.2606 29.2355C25.0337 29.0085 25.0337 28.6405 25.2606 28.4135L27.8084 25.8657L25.2605 23.3178C25.0335 23.0908 25.0335 22.7228 25.2605 22.4959C25.4875 22.2689 25.8555 22.2689 26.0824 22.4959L28.6304 25.0438Z'/%3e%3c/mask%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M28.6304 25.0438L31.1778 22.4963C31.4048 22.2694 31.7728 22.2694 31.9998 22.4963C32.2267 22.7233 32.2267 23.0913 31.9998 23.3183L29.4523 25.8657L31.9996 28.413C32.2266 28.64 32.2266 29.008 31.9996 29.235C31.7726 29.462 31.4046 29.462 31.1776 29.235L28.6304 26.6877L26.0826 29.2355C25.8556 29.4624 25.4876 29.4624 25.2606 29.2355C25.0337 29.0085 25.0337 28.6405 25.2606 28.4135L27.8084 25.8657L25.2605 23.3178C25.0335 23.0908 25.0335 22.7228 25.2605 22.4959C25.4875 22.2689 25.8555 22.2689 26.0824 22.4959L28.6304 25.0438Z' /%3e%3cpath d='M31.1778 22.4963L31.4606 22.7792L31.4606 22.7792L31.1778 22.4963ZM28.6304 25.0438L28.3475 25.3266L28.6304 25.6095L28.9132 25.3266L28.6304 25.0438ZM31.9998 22.4963L31.7169 22.7792L31.9998 22.4963ZM31.9998 23.3183L32.2826 23.6011L32.2826 23.6011L31.9998 23.3183ZM29.4523 25.8657L29.1695 25.5829L28.8866 25.8657L29.1695 26.1486L29.4523 25.8657ZM31.9996 28.413L31.7168 28.6959L31.9996 28.413ZM31.1776 29.235L30.8948 29.5178L31.1776 29.235ZM28.6304 26.6877L28.9132 26.4049L28.6304 26.122L28.3475 26.4049L28.6304 26.6877ZM26.0826 29.2355L25.7998 28.9526L26.0826 29.2355ZM25.2606 28.4135L24.9778 28.1307L25.2606 28.4135ZM27.8084 25.8657L28.0912 26.1486L28.3741 25.8657L28.0912 25.5829L27.8084 25.8657ZM25.2605 23.3178L25.5433 23.035L25.5433 23.035L25.2605 23.3178ZM25.2605 22.4959L24.9776 22.213L25.2605 22.4959ZM26.0824 22.4959L26.3653 22.213L26.3653 22.213L26.0824 22.4959ZM30.895 22.2135L28.3475 24.7609L28.9132 25.3266L31.4606 22.7792L30.895 22.2135ZM32.2826 22.2135C31.8994 21.8303 31.2781 21.8303 30.895 22.2135L31.4606 22.7792C31.5314 22.7084 31.6461 22.7084 31.7169 22.7792L32.2826 22.2135ZM32.2826 23.6011C32.6658 23.218 32.6658 22.5967 32.2826 22.2135L31.7169 22.7792C31.7877 22.85 31.7877 22.9647 31.7169 23.0355L32.2826 23.6011ZM29.7352 26.1486L32.2826 23.6011L31.7169 23.0355L29.1695 25.5829L29.7352 26.1486ZM32.2824 28.1302L29.7352 25.5829L29.1695 26.1486L31.7168 28.6959L32.2824 28.1302ZM32.2824 29.5178C32.6656 29.1346 32.6656 28.5134 32.2824 28.1302L31.7168 28.6959C31.7875 28.7666 31.7875 28.8814 31.7168 28.9521L32.2824 29.5178ZM30.8948 29.5178C31.278 29.901 31.8993 29.901 32.2824 29.5178L31.7168 28.9521C31.646 29.0229 31.5313 29.0229 31.4605 28.9521L30.8948 29.5178ZM28.3475 26.9705L30.8948 29.5178L31.4605 28.9521L28.9132 26.4049L28.3475 26.9705ZM26.3654 29.5183L28.9132 26.9705L28.3475 26.4049L25.7998 28.9526L26.3654 29.5183ZM24.9778 29.5183C25.361 29.9015 25.9823 29.9015 26.3654 29.5183L25.7998 28.9526C25.729 29.0234 25.6143 29.0234 25.5435 28.9526L24.9778 29.5183ZM24.9778 28.1307C24.5946 28.5138 24.5946 29.1351 24.9778 29.5183L25.5435 28.9526C25.4727 28.8818 25.4727 28.7671 25.5435 28.6963L24.9778 28.1307ZM27.5256 25.5829L24.9778 28.1307L25.5435 28.6963L28.0912 26.1486L27.5256 25.5829ZM24.9776 23.6007L27.5256 26.1486L28.0912 25.5829L25.5433 23.035L24.9776 23.6007ZM24.9776 22.213C24.5945 22.5962 24.5945 23.2175 24.9776 23.6007L25.5433 23.035C25.4726 22.9642 25.4726 22.8495 25.5433 22.7787L24.9776 22.213ZM26.3653 22.213C25.9821 21.8298 25.3608 21.8298 24.9776 22.213L25.5433 22.7787C25.6141 22.7079 25.7288 22.7079 25.7996 22.7787L26.3653 22.213ZM28.9132 24.7609L26.3653 22.213L25.7996 22.7787L28.3475 25.3266L28.9132 24.7609Z' mask='url(%23path-5-outside-1)'/%3e%3c/svg%3e",isImg:!1}],["return_refund",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='none' d='M37 22C37 30.2841 30.2841 37 22 37C13.7159 37 7 30.2841 7 22C7 13.7159 13.7159 7 22 7C30.2841 7 37 13.7159 37 22Z' stroke-width='2'/%3e%3cpath fill='none' d='M19.9175 28.956V15.043L17.1309 19.2169' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath fill='none' d='M24.0864 15.0435V28.9565L26.873 24.7826' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e",isImg:!1}],["shopee_payment",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M22.9931 21.1061C22.9931 22.449 22.1041 23.5929 20.5771 23.8049V25.0148H19.5021V23.8049C17.887 23.6069 16.998 22.566 16.998 22.566L17.874 21.2901C17.874 21.2901 18.838 22.277 20.0901 22.277C20.7651 22.277 21.3781 21.908 21.3781 21.1471C21.3781 19.5662 17.148 19.7252 17.148 16.8974C17.148 15.5405 18.111 14.4885 19.5021 14.2525V13.0146H20.5771V14.2255C22.0291 14.3565 22.7801 15.1865 22.7801 15.1865L22.0791 16.5664C22.0791 16.5664 21.2281 15.7514 20.1141 15.7514C19.3631 15.7514 18.775 16.2124 18.775 16.8704C18.775 18.4363 22.9931 18.1593 22.9931 21.1061ZM31.0003 12.002C31.0003 11.4491 30.5523 11.0021 30.0003 11.0021H10C9.44703 11.0021 9.00002 11.4491 9.00002 12.002V26.0011C9.00002 26.5521 9.44703 27.0011 10 27.0011H30.0003C30.5523 27.0011 31.0003 26.5521 31.0003 26.0011V12.002ZM31.0003 29.0007H9.00002C7.89501 29.0007 7 28.1047 7 27.0008V11.0019C7 9.89794 7.89501 9 9.00002 9H31.0003C32.1043 9 33.0003 9.89794 33.0003 11.0019V27.0008C33.0003 28.1047 32.1043 29.0007 31.0003 29.0007ZM37.0003 35.0003H15.0001C13.8951 35.0003 13.0001 34.1044 13.0001 33.0004V31.0006H15.0001V31.9985C15.0001 32.5515 15.4471 33.0004 16.0001 33.0004H36.0003C36.5523 33.0004 37.0003 32.5515 37.0003 31.9985V18.0014C37.0003 17.4485 36.5523 17.0005 36.0003 17.0005H35.0003V16.0016C35.0003 15.4496 34.5523 15.0016 34.0003 15.0016H37.0003C38.1043 15.0016 39.0004 15.8976 39.0004 17.0005V33.0004C39.0004 34.1044 38.1043 35.0003 37.0003 35.0003Z' /%3e%3c/svg%3e",isImg:!1}],["shopeepay",{path:"data:image/svg+xml,%3csvg width='44' height='44' viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.9751 22.3467C19.3402 22.6337 19.849 22.8915 20.5066 23.1206C21.861 23.5618 22.8829 24.0314 23.6284 24.5623L23.882 24.7468C25.017 25.6216 25.4726 26.6893 25.3092 28.0562C25.1417 29.457 24.2976 30.5884 23.0013 31.1498C22.3829 31.4177 21.5873 31.5778 20.8872 31.5778C20.7882 31.5778 20.6917 31.5746 20.6068 31.5686L20.184 31.5409C19.204 31.4503 18.2711 31.1775 17.4076 30.7282C17.0473 30.5406 16.5215 30.1742 16.1177 29.8308C15.9513 29.6894 15.8614 29.5158 15.9179 29.3024L15.931 29.2126C15.9459 29.1541 15.9727 29.0982 16.009 29.0462L16.488 28.3316L16.5638 28.2309C16.6536 28.1355 16.7735 28.0804 16.9062 28.0804C17.0281 28.0804 17.1438 28.1267 17.2434 28.206L17.3911 28.3209L17.8025 28.6223C18.6544 29.1949 19.6144 29.5358 20.586 29.5739C22.1024 29.5529 23.159 28.8867 23.3417 27.894L23.3562 27.6991C23.3667 26.75 22.5115 25.9211 20.8902 25.4059L20.5051 25.273C19.7707 25.0061 18.6562 24.5454 18.3951 24.3901C16.958 23.5355 16.2599 22.3681 16.3581 20.9472C16.3647 20.8608 16.3756 20.7728 16.3896 20.6854L16.4286 20.4457C16.7754 18.7097 18.4443 17.4739 20.4867 17.4652L20.9133 17.4778C21.7372 17.5279 22.5451 17.7269 23.3154 18.056C23.6456 18.1971 24.2228 18.5148 24.4369 18.6771L24.5957 18.8084C24.7807 19.0004 24.8165 19.2654 24.6726 19.5004L24.2451 20.1937C24.0651 20.472 23.7611 20.5222 23.4729 20.3367C22.6063 19.7466 21.6241 19.4372 20.5588 19.4154C19.3306 19.4401 18.4203 20.1683 18.3633 21.1134C18.355 21.5931 18.551 21.9924 18.9751 22.3467Z' /%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M31.7087 10.4421V13.6773H32.1628C34.282 13.6773 36 15.3953 36 17.5145V31.7679C36 33.8872 34.282 35.6052 32.1628 35.6052H9.83721C7.71798 35.6052 6 33.8872 6 31.7679V13.7154C6 11.7387 7.50169 10.0854 9.46931 9.89585L29.0327 8.01147C30.4672 7.8733 31.7087 9.00097 31.7087 10.4421ZM29.2334 10.0949C29.4383 10.0751 29.6157 10.2362 29.6157 10.4421V13.6773H11.315V15.7703H32.1628C33.1261 15.7703 33.907 16.5512 33.907 17.5145V31.7679C33.907 32.7312 33.1261 33.5121 32.1628 33.5121H9.83721C8.87392 33.5121 8.09302 32.7312 8.09302 31.7679V13.7154C8.09302 12.8169 8.77561 12.0654 9.66998 11.9792L29.2334 10.0949Z' /%3e%3c/svg%3e",isImg:!1}],["spaylater",{path:"data:image/svg+xml,%3csvg viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='none' fill-rule='evenodd' clip-rule='evenodd' d='M7.5459 12C7.5459 11.4477 7.99361 11 8.5459 11H35.9993C36.5516 11 36.9993 11.4477 36.9993 12V32.8172C36.9993 33.3695 36.5516 33.8172 35.9993 33.8172H8.5459C7.99361 33.8172 7.5459 33.3695 7.5459 32.8172L7.5459 12Z' stroke-width='2'/%3e%3cpath fill='none' d='M7 17.3387H36.5768' stroke-width='2'/%3e%3cpath fill='none' d='M26.4854 27.7779H32.4504' stroke-width='2'/%3e%3c/svg%3e",isImg:!1}],["food_delivery",{path:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17 2.25C19.7047 2.25 21.75 5.34711 21.75 9.05708C21.75 11.542 21.1556 13.5377 19.94 14.8132L19.7704 14.9827C19.5626 15.1803 19.4949 15.3428 19.4566 15.7181L19.4447 15.8864L19.4468 16.0294L19.25 21.4066L19.2493 22.0136L17.7493 22.0118L17.7505 21.3783L17.9475 16.0185L17.9462 15.7807C18.0049 14.9979 18.143 14.5159 18.6125 14.02L18.7369 13.8956C19.7219 12.959 20.25 11.2818 20.25 9.05708C20.25 6.07647 18.7136 3.75 17 3.75C15.2864 3.75 13.75 6.07652 13.75 9.05708C13.75 11.1236 14.3756 12.8244 15.4489 13.9125C15.9211 14.3912 16.1895 15.0861 16.2408 15.7625L16.2497 15.9647L16.397 21.3887V22H14.897L14.8973 21.4091L14.7501 15.9939C14.7455 15.6057 14.6013 15.1892 14.381 14.9658C13.0157 13.5819 12.25 11.5 12.25 9.05708C12.25 5.34716 14.2953 2.25 17 2.25Z'/%3e%3cpath d='M2.55097 2.96252L4.0491 3.03743L3.61882 11.6431C3.58868 12.2459 3.80192 12.8327 4.20599 13.2743L4.33288 13.4023L4.50638 13.5638C5.17302 14.1844 5.58907 15.0245 5.68155 15.9255L5.69789 16.1519L5.90971 21.2346V22H4.40971L4.41037 21.2659L4.1992 16.2145C4.17722 15.6887 3.97182 15.1895 3.62212 14.8017L3.48429 14.6617L3.3108 14.5002C2.55498 13.7965 2.12518 12.8149 2.11615 11.7887L2.12069 11.5682L2.55097 2.96252Z'/%3e%3cpath d='M10.4087 2.96252L10.8402 11.5916C10.8909 12.6072 10.5271 13.5966 9.83777 14.3359L9.68511 14.4905L9.49775 14.6694C9.12796 15.0227 8.89093 15.4899 8.82251 15.9921L8.80483 16.1819L8.55732 21.2346V22.0127H7.05732L7.05821 21.198L7.30667 16.1075C7.35126 15.2235 7.70686 14.3863 8.30664 13.7418L8.46164 13.5848L8.649 13.4058C9.07875 12.9953 9.32687 12.4333 9.3439 11.844L9.34203 11.6665L8.9106 3.03743L10.4087 2.96252Z'/%3e%3cpath d='M7.25 10V3H5.75V10H7.25Z'/%3e%3c/svg%3e",isImg:!1}],["img_shopee_express",{path:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR0AAAC9CAYAAACOAakhAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABxWSURBVHgB7Z0LkBzFece/2d176U4SYDBIqsQG20ixDYZIgB8pG4lK8TASJMaOEIrjGNCBK4XANnbCQ5hnEh4xoiq2JCSngkCirNiGE7FJbOmEYweBdCQGhCRiEK5Cp4ATA3qcTne7O+mvZ3q2p6dnd2b31PjC/wer28fMtz273f/++uuvez1fQAAA4Aa/QAAA4BCIDgDAKRAdAIBTIDoAAKdAdAAAToHoAACcAtEBADgFogMAcApEBwDgFIgOAMApEB0AgFMgOgAAp0B0AABOgegAAJwC0QEAOAWiAwBwCkQHAOAUiA4AwCkQHQCAUyA6AACnQHQAAE6B6AAAnALRAQA4BaIDAHAKRAcA4BSIDgDAKRAdAIBTIDoAAKdAdAAAToHoAACcAtEBADgFogMAcApEBwDgFIgOAMApEB0AgFMgOgAAp0B0AABOgegAAJwC0QEAOAWiAwBwCkQHAOAUiA4AwCkQHQCAUyA6AACnQHQAAE6B6AAAnALRAQA4BaIDAHAKRAcA4BSIDgDAKRAdAIBTIDoAAKdAdAAAToHoAACcAtEBADgFogMAcApEBwDgFIgOAMApEB0AgFMgOgAAp0B0AABOgegAAJwC0QEAOAWiAwBwCkQHAOAUiA4AwCkQHQCAUyA6AACnQHQAAE6B6AAAnALRAQA4BaIDAHAKRAcA4JQSATDG7Lvui1R+fmvdY7qvu5faPzqHslB5eSftu/6L5B/YV9/m4lup/awLEs8PLb2RDm14lBriif89/scPHhY84nv8VO314K96rO4H51FwbniCeWxkp2B5zgtPCM1EtiP7pi2PSuf2UvGcXqr8dA2VH7m7doxpVzunMPN8Klx0M9Ebg1T5+wXkD++Lnae/lzdlOnmfX04kjvFXX0G0dzBZnmOnE128jKhzImXlsHo61dcGqfzc1uD28o6GlSbtXL4Pxg9dF1/Z8JhDfQ9SFrIKzoTLvmYVnANLb2goOF7UQkmIjE/kh/d9nzzjWN83zo1Uwg9vXnS+iZ+4Q/ZjPapT2OBPJDhPr6eKEBzzjXyb3Sknknf+VwPBWdVbE5zEe4irOmJqJDjV1b1Ebw1GtqNzmhAcWXYaY0af20LDa79NlV07rRWlePx0Kp4wnTrmXEilk2al2tl/x2Jpg2kTPWKP6BnB+KB4wgzyuifWFQr2hPh1Pi6N6uuDmQSnU4hcx7yFieeH1y6jkQ19lIfIy6BAjKSM+BTzGPSHfkI19Fd1o3HbKe+cPJ0beSH+uHTeFZHglNfeFDs9cZ/tifO9qaLdLVpB3sF9VFkpBOfNwcS1ROdOnkLen60IBOeBXvL27om9zoLGokR/fHduwSEaQ09H9kjCrd5//aVRhbIeJ4SEKwJXprcuO0eel3ZcVMh3TyEwfmAhsXkdJsN1vB0pONdlExybZ8Ud38G136Is+LIV6U/Unk8IhU9k0xnfeMIjiz31OKZsFP9r4sW9ltJ5vdLLqTwlBGfNErunZHpjU2qCU75/EflvDKYfO3kqFb6wQr4gBeetPQnbUnAuWS7FqRnGRHRGhPvKItJoHG/CFWvv1Z9NuL+mEBXePY3A+KL9jNkNj0kbYinB4b/1qCc4ww8vo1zojU8TAL3BK61IDEk87RTfeMI3ztHGWJ4eSAnfSB6XMjxjsSmdewX5u3cGgqO9T9J+yFFTqdgbCs6KRWJotSf9DYSYFP48FJx/FEMq4Q2x8Pp+TTVbFRx5HdQiPJw6IAJ1MaMfniWDhG1n1AKF1dd3S++FBSbuxUyltg+fFjvfP7A3bu/4GQTGF6WTTpP1oF5HxF4Mx+z0YfZYCM5BcWuW2nAqaP26wPjhP7HgsmqPRgDY97Vgq1/TIvU4GNpYYkZkGSmJf4ofnSuHVSw4I/ddTqnoJx85lUqa4PCQyotFpGvX4SnB6ewRgrNICg55hj0WnIWtCY58L9/3fWoSWwXhgJ5tfK1TDoWKz5t4+ypZQXW4BxxaeWf0ePL9j1Ph2KkExhfm92iDh2E868S0KjjSxmuDcS+DsXkB9Z5rhJc04eU5v4Fd60vvCuq/LwSEDu5rcG74oKuHPBFz4YBx7RzPcrx4KMRGxmd4pmp4f/LaGHVMa/gtiQ57LUOal5NFcHR4GMVBZROuqLrrfWTfswTGH+zJcNyuXlyG4z+TVz4u/2aZaq8nOGBc4LcU09GFgYdJeQSHsQkOUxHT642OAb/9sJCUjKGzCQuSium1nVT/2I55l0Bw/h/QkujosZlSgwqTB71n9Ca07M6Bt5FOIRSNGN28Uf6t12m1nzVPeNJfJzD+aTqQ3Gjc3Qq6mMHTGd9wZ5QlZ0cNtW3BZxac7sW3UT2yJJBmjQvWq9sy8Co6wnr5RTr+kLjuoexJsbFYS9fEhp0ux3i8rhY65uGwbJ3uOvemRYeHU3pl4t6qOv/KlgO+5heO6fLxT6fwYBrNKI08tZG6hOjw8Gnf9ZdGz2cRHGbv1Z9LzHra4DrLyYvtc+ZRhyWXSKZx9J4THkxBdq6eS6NNUctE1/fMoNJps6k0a7b1/UZ+sIxGf/xQdI65hCLKho4e147pvO2fpcDFyvdfQqCf6yf/uU3k8/S3dnxh2onkTZtOhffNIu/9M8k7MtkW/V0DVH2hn2j7E0GCoFYur2sS0XEfkJnLhRniet47kw4HLQWSzcAfC9HE27/TkvDwzJZe6diePqXKIufvF+rek723aUSzNvXe1XbN6vXfhrK6tqnDDZkDyvXg9z1i7c/l/Tcv/oQsEzfqSUvXUSPMOiPtcTZxg6ptq6+H1j9IB1fdWWvMnhebCo/lxWhC4R0zlbpvWCX/6hz48nnk/29t+tm0VVvr5cWOKfzudOq47uHIDk+Vj37vbqr+cqthpyZaMVET3k/bdY9FXpD/8gBV1i0RH+4eIs+Li1zK9XFWsjf2wuO3lKdj9kqycl1+juydOuYupNIJ+fNr9KEVww2Bc4FGNvZJb0p307nSsCB1zf9SbqFTNrnC6t5VVptyZubyWkPiZRo8lOCgKJfTXAbSSlm5fMN9q4Xd/qbKaoOvf1R4F2NpMw1pM0fODk+j8/cy8Y7vUBZGnupP2msgONzY1TILFjYltqMWW4mMZMvUdvXXg3Rw+Y00QQiP/pwUnDRbyqC51iLMy1GUN6+n8oNLKJE3Ez6w5RO2XbkiEpzqT5ZTRdxqIkepBGvJfPJOmUveYfJ0it8QUJMUjp0my29WJrnU4fF1MlOZkwKL006Q4pGFkX97nCo7a1PklVd3yexSKUajI7FjuaLK99ooZj/aO6g0/eSG9jl2cOCur0U2zViDssk9HrvrpekfIU/YTtgRZWTRUhTFe3P6wKgov2zEKWVlu0xbhsA7n3PwgaWyvJWdz9Uta1abXLb9ty8Orr+OzTyfaSaE3dFnfk71y7ZbDnkKRxxNnRcszOx1DX371lyLiXX4vMKRR8vr5M9mSHg5cW/E8HTC+7GV2WFj9v9nkEofPI0KobdTfqafKs/0R+fYPR3drhcd0/5HV5E36WiqvjhAoyuuSQiOp5UvViZB8exeKpxytrwfCU7sGM/y3lqZjhPDq4v+WgRfkvV+LGg5I5nzJrgn4zG7GY/hx4f6HpI3maUsKlRHgzU51dd2xx5nWVohG2eYhNZZZwYkS7Ja/PiHZO/LPa7ZAKpGJT+Yw+5wGN+oN/2bNVEuj00WXF5Im8Vm1s80K/zdN/rs1Zq9PJMHfE22IDLnjMmMeC+4FvY+0+JKZSGy3LxGn9+i5+qS8h8mf+8X8eNf2ErD37qRqkJkWJICrypYv8XCEx33s76aqZDCDOFFfn0lZWVk9ZKEZyK1ScRsiifPIe+oKXIo5e9+kfxtm6j68lYqzAq9JF5N/uPlSc+Gzz9hJhV+f26QZcxwUuCOTUS/GqDC/L87rIHlMVllzhVKDi1Eox7hgLKlUnOF4hv3yj1/tTTVdU9rEGoRIY/zI3vG0IgbXruoaDbbtvR4tsXlVjbZVuCd1Wxyr88LB83pWnMYqKOWgahgO7v/o8bnwuXh5R+2lfY2wdGvvyjs8vvzgslcNo0V21zONu36R8Vnaitn2meahyxLE/jzkrGlHHGlshAKG21GmdU12srhdfcEtjYnh1ZtIkhsUvqg+H7PW0jDD9yZXGWuYihixqqyfWtNu8KG3/aJeZSVyua+KB6kx154hTmvwYrxfvGdf2oBVV/aKoQouO7Kvy5PGhVlKZy1SNx6Ey95v3cmuWDMtrbgCtMlehe+ccMdEV8gxwxMuGfiWEjahks20QmSwr4Uq4zsMamhghIAblDD61cnBGLE6OXYTlfKdgj8vClQ7PGY768nMOqfAV+XmbPEj31hd2jl38a2WmAxm3hSMm5hCo7t+tkml98sq82muWI77fp5C5GqeG7o/juj7y7tM80Dl7HR/jnNTkKMWISCxdRmh5+3odb2sadT04fgnr5+MIYujJonUXxPIG5ScGyvz0jfzsWk8ov+2pBMmRKCkhAcDZ65Uvh7XkweMPVEq+C45LBs4sVi0nP9vTK9nRshVygTXns1sjkuSnIWxRi28PCNK7yt92O7Pdcvjb1m2z9FH/rwOZPuXVc3Ec22P4u5DYNZTtVo0pIkuYw89at6XIa9NXNocMjwtOpdv3pdb0y2bUVYiHSbHPROu34pnFffGitn3j1pdLIswNQFh8tpE3QbfKzu6ajp57aUHQkPbbRfB2dN8zCa407xkYhPpQ/ZRaKyLXhfGfEJY8GFo6dGs1flgX5lIory8oyUd3R2UfUP7o9MRLsR5sjJqQ7u1FaaKjx6uzmsOwdyZWIBShMfDrzqDcSsbHxuo7R3uUpdq2SmcJmNmO1l6U35uJhnYwynzMdZe2mONeiMGsODYa2BZrl+VVYdXcyDIWNfzGaj7HG+bl2UVHA5L80IDntkhzZm2FqUghk4Hbn/jWictoA62x7dnPS8ZeBavPehjY8YAyVPCo6tw6y8Iqavnwg+U7lSXObyeNT+mdr3UNmxVZmJKJ06W8Z86t60REIZr6ldXHAdr+6kyqY1lAWZp+MF53rhfyS8n+qG5fR24myPZFXZ9y7+bCQK/JcbiAouV4yhVcecxhtBMWbF0OMCeiNWwews8PmFMHYiy6YJoils7WHFzULRSCPQ7ZjxMDlM3ZCtAaZhNsxmbfJnmodmBUeJpDmctGETEe+YKTEvjZG7Gtx3o3WGq3P+leExyeGQbWg18sOHaHhd/LpY7IrHTKO2TwbxmuqvdtYCyuHOfbK8jy4Xt2Xh3su+MYMUjKOKH5tHHV+4WR5fPGU2VZ96jNSezfIoccLo9++SXkxJxHZU/MYGB5SrPwn2x/HV/j2irNUNK8j/j8fIm7MoCCY7xunG7FzJzOxUvZGZ8Zx625nWQ03Ps71YbCSj4JBWXiU6+pS/6ZFlFUdpp05DyrsJWhZaFa1maEVwGLMzSqPy/EDiOT5X7XxQ3b83+EyH9lvzdjpDr1fOgL0+aIw8fBp9ul9+/ywM7IGUt20NtpYw4iw8Rd51Q21GiodW5n46wQnBk4mdCrUHpY/XRKB48mwqf2CmzEJWgWQVuK4+1UcjT6+n4ulzZWDZJj7FP+wVM1r9UWxHeWXyvpjZ8r//DfL7V1BBiI93qjvxcf4TNPU8jWZXl+vncaNWDducfs+7pCJt4ak5XZ53ijd2rualZY1lNKKoXedYrZGzDTNstCo4ikZiKWcuLcse1Kp1maQpZg2lV2oIDjc8fYsMjgt5Kh9HEwB+fmSTaNz9fVKA1NAnJjgicDzhxlVRbo48Tw8iazNXvvrXi78c7Rr4rqlUPDHe0bb/6c2hoFhiMeKpypb1NHL3xfKvjVLv/bHgsgmLT1WIT/UfFtXWYR1mnP8Ejemm6z1/bIo4x+pyXRx019ocrmVNUFRl0T0PPW5kxjfyTPOWd8WFpZiyK6KKh+UlSAOYlfpaW8affdFpS5kNMskiOF73JBHIDlImfOGJpOUiNdq4XQWFsyx3iL1/z2Tqmt8bi1lJcYq8D7WNaLpN3/eoMFHEvS66gtrPja+i5yzkaKpcvmFgqiCGX+lJgcHjwkfOTJZXCBEvhyj/cJmI5aylKB+IX1PulBAL3qC9cNRx5L3PiGeJwLPcH3lgfTDUems3JRN/wjVZa78Sbld6eGlOdNSX7OWPhJuNTg/66ZUvl/egb396bK2XNyssxzfM8X4aZk/bro3vTY+Ey501pmPGmPTz9PJygxvrvWPUVPnhYGTDI5kEh3eK5O+Wr4+X0NTzxHjGMK285TBWlUlw2IsR19459xIpNmZHp8e9At1JeiPqIefttH96oczVsaFPles7Cnb95f25Zq5ixed1VJ+5lkqzL6Hyj5aL4ZYYVr6hiUf4RuVH76G2Lz9stVGYOVfeqkJ8/CfXiiFXGDbQr/OVAXk7XMsforJQE/CKXr5V/3t3rvN4uKM3Ou7NlQiYwdmsQ6HkebUv1pzFsAUebVRe2hFrQGag2DYlnYVhI2ubg6U6umAGa5G2UGZSGp85RV95eTu1atOEBefA0iV1j9EFh2HhbjQjlpbbE8VgDDjw23HWheL7Cm4cP+R0g0n3fpeOWPMzOaSydUQ6sv0Kj7jzT66kaMClN0zxvaQJDlMe2BhkDGtxHzmV3qTg6PAwq+2Sm6n9KhGHOWk2RXP1FDpUnJX8mz11bbDwFP9iDRU+/VX5WCVTR/q1a+zjiokyUE44lZ0rC9/23XCpGDs/kqFy+rIhmz2b3ouZ3kMxYwzBzHMpaY0s2LkunsMSiElKecV1jD77tLwu3UbX/HhvazaWRnZ5GMGfmylk5jDI/AUFuY90I2EXZT7Ut5reXPAH8RmYEFN4999xTSabXF622WhNUxbB4Rrdc903Y96r2ri9bjHCRaAmaVnInF80YfEt1B3euuT2uZfU9W7LlgWebafPkQuWqbsnEUnhJRB8S4M9Hd/4sbviqbNpLFHiEzwI/mQfYAYUPn4xefzje+oC8xpogVyiwz2M3vvIBXKiwr11+blSfMovbafoE+efrhCNjRsxN56913wukWWrxyzM4Kze69ct0+vxBsQ9qo7pnrO3weUpP7slVlYpNkIU999wWayhcV6N6eXYGqLNLl8/rw5nrzC+teu0hJAxZkOUe7uIz41tSKEwPlt+nss8tPKuYK2UxeOSXpom4DJwG3YWbEO3ye/BNuX32fdgkI1cJ5OYO5IsgsMCYMsNyvKzwracHWsWcrhZWF5GLd4kJwvKXKXzF9Y8Ab1M6+zDSCk4YqbMVKrSzLEVHcY/GA+iR+GhMLfHf4mF0VJ4BQ/PhvcnXuXfyDrc5IrpFMNNlg7ybwppUq7ER6Eqedp4nStIo7VMWWMvifOMWJBaLqA3es4DUQlzXFZrOUUXMOHSaxPB3HozTLrdNFhMJ962KjUG1H31bbR3cW1DqmDh5V3ypmbm0oSv+nrStQ4yoW8V4nQZqQqovq8hWhJ9V2k2edbGFleRnusNl1J9AsFJC4jz8+z91fOm5HYmQvijGUkjCzmydUb+hs1eVOK9/dpyifbZF9Ch7y6L/+SMoBJ6O+Ywa1RmIesRoHBCRLSVyvYtZFu4Gd6jwnRt+cLQXrnboPoFiNh5wnz1lwNU/sHdsRdkOpA2S1Xpu0f+CgQ/V5h1frCwkw8XU/7+9k3k/7uI6xyK/6yw/CnhGWfS4SZ3IJnHxVxZ5FBJDm2SSpoaHBRX2DF3gXUdj96Ys07Pmu+lT5frqCxgXkNlltdWVhaG7qvsvbPpkbWdcVa4TqmBf8qZssJt7776lro9cjCdvEoMg66WWz3opAkD2+aG0n3VrVabfB08vDlw35LAu9Gvp853xTZtP+esBKfR0Kue4Mi3CDdut63RU6gpcLXS3SY4PIPVzB7dnIVswkNeVf9kzPFDs6iybaupJdLbKd20KnZu5YWwbFGSTpDfc/BvLo9vhUEUm8ViwemcruX5rLuHypv7gteF8LBwSfHiWabfDMobJxiahSqdvSi4I7wYuQRCvFQd6JO32KyZvrWFhnfmInJBU7NX/GVMvv9HcoaHpy6jqWVbbCecOeDtITvFODmth08LBjdCz8Wp5x2x8HC8h7002dB84wePPEqd4dDRPSs+puf6b8rPoWZXXk3MLjfervlXZG4Y7K1NvGOV8AKWBfvaSJMJRziXbZ4qn3TCjJrNWDnjnwF/jmk2uXPIIjiqc2oEb9xeT3QY9naU6Iw8mS0LOQu2ZEwzC5kDygduSnp07O1Uf707mAqnYKqcM5HVHjeRJEQ/rBeW1RAv6VmdEvfS5EJP9bIUGUrs32POsJXO7hXT5YGnU/6XFbWXzPczvCP1jPexBc4SBFvK0+FKxTe5NiecjdA9gUJYgTn1v9F4u0NbE9R+RvZcEq6M5YznqfJybIp7TFVWubPd8TMyTdPHdtkLBTRmd9eOYAo9XEbRbKwhWLF+ixDLaxOfbbO2lc2ui6+QNsvGL61y8L7ed8UCzx5Ys78vbiPrxu1qV8HKtgGrjbyk7cNj/tosr7/iG2cjK9Rw69A/LaeuK28J7BkJgbFf/NSxPC5qQ6vyk31BEqKXdoqSM3VfeHkXfoWKn1oQlOOna6i69bHopNjwSUuP9lSuT8ekYDmECCy7YkySA6WbzEHQFn6GpplEOIZ78LwJbywuzf7KhO5ZmdP6rdhNYyw+WxMWGHOhbCOC/XguDeNGXupxnULQ8uYCBUtj6v/2eLAwVgS7ZXJp/P07mqg7I9K7itvRUzh0OC+n8sJAfAAtHvCiz87PXyu/o2ABaPq8jC4VMUGZIGbIfkdLaP3P/vgB7NEUjBPZkzpSeHdnzKPC6XNjSyCKn1wgg8nVbU+Q/8ImLcvYD+WmEJh570wq8EZeLDYOfwlCFr+VjdnfiahNw5l30q9Ncs5QpcGSCjmMbiLjWa21amSbl3dUXtkRG2lyj90+J7/oyG1FRMxMhV9k2+6ZmLp/zsgmNYsWykfY/tX2pFJ06nk1nvZQf17EakralDp7Of6rNQ+Uh1fR8V3Cw+XgshCZrFtc+BzbEbNUvIsgCaGiTjG7K0TJcyw0epEgOjngxsGio5ggZoU6mvTQAHiH0trPCr/TMGMARfwmFwC5gejkwExExK+PApAfiE4OfHPVevfbNi4GYNwC0clBpclV8ACAGhCdHMSzphHPAaAZnG/iNZ4JFvMF85el4+HpANAMmDIHALgEU+YAALdAdAAAToHoAACcAtEBADgFogMAcApEBwDgFIgOAMApEB0AgFMgOgAAp0B0AABOgegAAJwC0QEAOAWiAwBwCkQHAOAUiA4AwCkQHQCAUyA6AACnQHQAAE6B6AAAnALRAQA4BaIDAHAKRAcA4BSIDgDAKRAdAIBTIDoAAKdAdAAAToHoAACcAtEBADgFogMAcApEBwDgFIgOAMApEB0AgFMgOgAAp0B0AABOgegAAJwC0QEAOAWiAwBwCkQHAOAUiA4AwCkQHQCAUyA6AACnQHQAAE6B6AAAnALRAQA4BaIDAHAKRAcA4BSIDgDAKRAdAIBTIDoAAKdAdAAAToHoAACcAtEBADgFogMAcApEBwDgFIgOAMApEB0AgFMgOgAAp0B0AABOgegAAJwC0QEAOAWiAwBwCkQHAOAUiA4AwCkQHQCAUyA6AACnQHQAAE6B6AAAnALRAQA4BaIDAHAKRAcA4BSIDgDAKRAdAIBTSuLmEwAA5MOjJvk/sgFJY8RMjQAAAAAASUVORK5CYII=",isImg:!0}]]);var Uh,Vh,Hh,Fh,Gh,Kh,zh;!function(e){e.VIEW="view",e.CLICK="click",e.ACTION_SEAECH="action_search",e.IMPRESSION="impression",e.PERFORMANCE="performance",e.ACTION_HIPO="action_hipo",e.ACTION_START_TYPING="action_start_typing",e.TO_LIVE_AGENT="to_live_agent",e.REDIRECT="redirect",e.EXIT="exit",e.ACTION_FINISH_UPLOAD_SEND="action_finish_upload_send",e.ACTION_FINISH_LOAD_HISTORY="action_finish_loading",e.ACTION_START_LOAD_HISTORY="action_load_history",e.LOST_TRANSIFY_KEYS="lost_transify_keys",e.ACTION_LIVEAGENT_CONNECTED="action_liveagent_connected",e.ACTION_LIVEAGENT_ENTER_QUEUE="action_liveagent_enter_queue"}(Uh||(Uh={})),function(e){e.MAIN_PAGE="shopee_assistant",e.GAME_HIPO_TRACK="game_hipo_track"}(Vh||(Vh={})),function(e){e.newHotQuestionCat="hot_question",e.hotQuestionCat="hot_question",e.hotQuestion="hot_question",e.shortcut="bottom_question",e.article="",e.articleGroup="",e.button="",e.order="",e.otherOrder="",e.panelOrder="order_panel",e.singleOrderCard="",e.agent="",e.back="",e.shopeePay="shopee_pay",e.shopeePayPanel="shopee_pay_panel",e.shopeePayTransactionCard="shopee_pay",e.shopeePayOtherTransaction="shopee_pay",e.shopeePayDontSeeButton="shopee_pay",e.shopeePayPanelTransactionCard="shopee_pay_panel",e.shopeePayPanelDontSeeButton="shopee_pay_panel",e.typingSuggestion="",e.standardizeButton="standardize_button",e.chatSessionConflict="",e.loadingHistory="",e.reloadImage="",e.reloadArticle="",e.deletedArticle="",e.scrollToBottom="",e.newMsgPopUp="",e.orderSelection="order_selection",e.noMoreMessage="",e.noMoreMessageExceedDuration="",e.image="",e.file="",e.video="",e.plusPanelGallery="plus_panel",e.plusPanelCamera="plus_panel",e.plusPanelFile="plus_panel",e.videoPlayButton="",e.videoResend="",e.scrollDownToViewHistory="",e.announcement="redirect",e.plusPanelOrders="plus_panel",e.myOrderListSubTab="my_order_list",e.myOrderListMainTab="my_order_list",e.myOrderListOrderDetails="my_order_list",e.myOrderListSelectOrder="my_order_list",e.myOrderListOrder="my_order_list",e.resendOrder="",e.orderMessage="",e.lostTransifyKeys="lost_transify_keys",e.userQueueText="user_queue_text",e.userQueueTextImpress="user_queue_text",e.userCancelQueuePopUp="user_cancel_queue_pop_up",e.userEmailQueuePopUp="user_email_us_pop_up"}(Hh||(Hh={})),function(e){e.toLiveAgent="to_live_agent",e.newHotQuestionCat="category_tab",e.hotQuestionCat="question_category",e.hotQuestion="question",e.shortcut="question",e.article="article",e.articleGroup="article_group",e.button="button",e.standardizeButton="button",e.order="order",e.otherOrder="other_order",e.panelOrder="order",e.singleOrderCard="single_order_card",e.agent="chat_with_agent",e.back="back_button",e.shopeePayTransactionCard="transaction_card",e.shopeePayPanelTransactionCard="transaction_card",e.shopeePayDontSeeButton="dont_see_button",e.shopeePayPanelDontSeeButton="dont_see_button",e.shopeePayOtherTransaction="other_transaction",e.typingSuggestion="suggestion",e.chatSessionConflict="chat_session_conflict",e.loadingHistory="loading_history",e.reloadImage="reload_image",e.reloadArticle="reload_article",e.deletedArticle="deleted_article",e.scrollToBottom="scroll_to_down",e.newMsgPopUp="new_message_pop_up",e.noMoreMessage="no_more_message",e.noMoreMessageExceedDuration="no_more_message_exceed_duration",e.image="image",e.file="file",e.plusPanelGallery="gallery",e.plusPanelCamera="camera",e.plusPanelFile="file",e.video="video",e.videoPlayButton="video_play_thumbnail",e.videoResend="resend_video",e.mySupportCaseButton="my_support_case_button",e.scrollDownToViewHistory="scroll_down_to_view_history",e.announcement="announcement",e.plusPanelOrders="orders",e.myOrderListSubTab="sub_tab",e.myOrderListMainTab="main_tab",e.myOrderListOrderDetails="order_details",e.myOrderListSelectOrder="select_order",e.myOrderListOrder="order",e.resendOrder="resend_order",e.orderMessage="order_message",e.userQueueText="button",e.userCancelQueuePopUp="button",e.userEmailQueuePopUp="button"}(Fh||(Fh={})),function(e){e.toLiveAgent="toLiveAgent",e.NEW_HOT_QUESTION_CAT="newHotQuestionCat",e.HOTQUESTIONCAT="hotQuestionCat",e.HOTQUESTION="hotQuestion",e.SHORTCUT="shortcut",e.ARTICLE="article",e.ARTICLEGROUP="articleGroup",e.BUTTON="button",e.ORDER="order",e.OTHERORDER="otherOrder",e.SINGLE_ORDER_CARD="singleOrderCard",e.PANELORDER="panelOrder",e.AGENT="agent",e.BACK="back",e.SHOPEE_PAY_TRANSACTION_CARD="shopeePayTransactionCard",e.SHOPEE_PAY_PANEL_TRANSACTION_CARD="shopeePayPanelTransactionCard",e.SHOPEE_PAY_DONT_SEE_BUTTON="shopeePayDontSeeButton",e.SHOPEE_PAY_PANEL_DONT_SEE_BUTTON="shopeePayPanelDontSeeButton",e.SHOPEE_PAY_OTHER_TRANSACTION="shopeePayOtherTransaction",e.TYPING_SUGGESTION="typingSuggestion",e.STANDARDIZE_BUTTON="standardizeButton",e.CHAT_SESSION_CONFLICT="chatSessionConflict",e.LOADING_HISTORY="loadingHistory",e.RELOAD_IMAGE="reloadImage",e.RELOAD_ARTICLE="reloadArticle",e.DELETED_ARTICLE="deletedArticle",e.SCROLL_TO_BOTTOM="scrollToBottom",e.NEW_MSG_POP_UP="newMsgPopUp",e.NO_MORE_MESSAGE="noMoreMessage",e.NO_MORE_MESSAGE_EXCEED_DURATION="noMoreMessageExceedDuration",e.IMAGE="image",e.FILE="file",e.VIDEO="video",e.VIDEO_PLAY_BUTTON="videoPlayButton",e.VIDEO_RESEND="videoResend",e.MY_SUPPORT_CASE_BUTTON="mySupportCaseButton",e.SCROLL_DOWN_TO_VIEW_HISTORY="scrollDownToViewHistory",e.ANNOUNCEMENT="announcement",e.MY_ORDER_LIST_SUB_TAB="myOrderListSubTab",e.MY_ORDER_LIST_MAIN_TAB="myOrderListMainTab",e.MY_ORDER_LIST_ORDER_DETAILS="myOrderListOrderDetails",e.MY_ORDER_LIST_SELECT_ORDER="myOrderListSelectOrder",e.MY_ORDER_LIST_ORDER="myOrderListOrder",e.RESEND_ORDER="resendOrder",e.ORDER_MESSAGE="orderMessage",e.USER_QUEUE_TEXT="userQueueText",e.USER_QUEUE_TEXT_IMPRESS="userQueueTextImpress",e.USER_CANCEL_QUEUE_POPUP="userCancelQueuePopUp",e.USER_EMAIL_QUEUE_POPUP="userEmailQueuePopUp"}(Gh||(Gh={})),function(e){e[e.REAL_TIME=0]="REAL_TIME",e[e.HISTORY=1]="HISTORY"}(Kh||(Kh={})),function(e){e[e.IsNotLiveAgent=0]="IsNotLiveAgent",e[e.IsLiveAgent=1]="IsLiveAgent"}(zh||(zh={}));const qh=(e,t,n=!1)=>({trackingData:{trackingsection:Hh[Gh.STANDARDIZE_BUTTON],trackingtarget:Fh[Gh.STANDARDIZE_BUTTON],trackingdataBasic:{chat_session_id:t.session_id||"",from_dialogue_id:t.dialogue_id,content:jd(e),button_id:e.button_id,node_point_id:t.node_point_id,if_history:n?Kh.HISTORY:Kh.REAL_TIME,is_live_agent:"btn_live"===e.button_type?zh.IsLiveAgent:zh.IsNotLiveAgent}}});var Wh,Zh,Qh,Yh;!function(e){e[e.DBConfiguration=0]="DBConfiguration",e[e.KnowledgeBase=1]="KnowledgeBase",e[e.LiveAgentRecommender=6]="LiveAgentRecommender"}(Wh||(Wh={})),function(e){e[e.Prediction=0]="Prediction",e[e.HeadHotQuestionFixed=1]="HeadHotQuestionFixed",e[e.CategoryFixed=2]="CategoryFixed",e[e.ShortcutFixed=3]="ShortcutFixed"}(Zh||(Zh={})),function(e){e[e.No=0]="No",e[e.Yes=1]="Yes"}(Qh||(Qh={})),function(e){e[e.NotLiveAgent=0]="NotLiveAgent",e[e.IsLiveAgent=1]="IsLiveAgent"}(Yh||(Yh={}));const Jh={[hd.Message]:({message:{message_id:e},message_extra:{task_flow_text:t,thread_id:n,thread_node_id:o}},r,a=mu.Left)=>{var i;if(!(null==t?void 0:t.content)&&!(null===(i=null==t?void 0:t.buttons)||void 0===i?void 0:i.length))return null;const s={content:null==t?void 0:t.content,shouldHandleDateVariable:b_(),clickLinkAction:{extra:r},clickImageAction:{extra:r}};return(null==t?void 0:t.buttons)&&(s.buttonGroup={layout:"vertical",buttons:t.buttons.map((e=>({buttonId:e.button_id,text:e.button_text,type:zd(e.button_style),action:Object.assign({func:Gd(e.action.action_type),nodeInfo:null==t?void 0:t.task_bot_info,extra:Object.assign(Object.assign({},r),{is_bypass:e.action.is_bypass,thread_id:n,thread_node_id:o})},e)})))}),{from:a,messageId:e,type:"Message",data:s}},[hd.ButtonSelection]:({message:{message_id:e},message_extra:{task_flow_button_selector:t,thread_id:n,thread_node_id:o}},r,a=mu.Left)=>{var i;return{from:a,messageId:e,type:"Message",data:{content:null==t?void 0:t.content,buttonGroup:{layout:"horizontal",buttons:null===(i=null==t?void 0:t.buttons)||void 0===i?void 0:i.map((e=>({buttonId:e.button_id,text:e.button_text,action:Object.assign({func:Gd(e.action.action_type),nodeInfo:null==t?void 0:t.task_bot_info,extra:Object.assign(Object.assign({},r),{is_bypass:e.action.is_bypass,thread_id:n,thread_node_id:o})},e)})))}}}},[hd.RelatedIntent]:({message:{message_id:e},message_extra:{task_flow_related_intent:t,thread_id:n,thread_node_id:o}},r,a=mu.Left)=>{var i;return{from:a,messageId:e,type:"RelatedIntent",data:{content:null==t?void 0:t.content,buttonGroup:{layout:"vertical",buttons:null===(i=null==t?void 0:t.intents)||void 0===i?void 0:i.map((e=>({type:zd(vd.Link),text:e.intent_name,action:{func:"getIntent",nodeInfo:null==t?void 0:t.task_bot_info,extra:Object.assign(Object.assign({},r),{is_bypass:t.is_bypass,thread_id:n,thread_node_id:o}),action:{intent:e}}})))}}}},[hd.Article]:({message:{message_id:e},message_extra:{task_flow_article:t,articles:n=[]}},o,r=mu.Left)=>({from:r,messageId:e,type:"Article",data:{title:null==t?void 0:t.article_title,content:null==t?void 0:t.content,showButtonText:nu("view_article_text"),closeButtonText:nu("modal_close_text")}}),[hd.Popup]:({message:{message_id:e},message_extra:{task_flow_popup:t,thread_id:n,thread_node_id:o}},r,a,i)=>({from:a,messageId:e,type:"Modal",isBypassNode:!0,data:{active:!0,type:"modal",onClose:()=>{s_.removeNode(e,"bypassNodes")},title:(null==t?void 0:t.title)||"",children:(null==t?void 0:t.content)||"",footer:{layout:"horizontal",buttons:[null==t?void 0:t.left_button,null==t?void 0:t.right_button].map(((a,i)=>({buttonId:a.button_id,text:a.button_text,style:{color:0===i?"#000":""},action:Object.assign({func:Gd(a.action.action_type),nodeInfo:null==t?void 0:t.task_bot_info,extra:Object.assign(Object.assign({},r),{is_bypass:a.action.is_bypass,thread_id:n,thread_node_id:o})},a),onClick:()=>{s_.removeNode(e,"bypassNodes")}})))}}}),[hd.OptionSelector]:({message:{message_id:e},message_extra:{task_flow_option_selector:t,thread_id:n,thread_node_id:o}},r,a=mu.Left)=>{var i;return{from:a,messageId:e,type:"OptionSelector",data:{content:null==t?void 0:t.content,options:null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.map((e=>{var a;return{type:zd(vd.Text),buttonId:e.option_id,text:e.content,action:e.action&&Object.assign({func:Gd(e.action.action_type),nodeInfo:null==t?void 0:t.task_bot_info,extra:Object.assign(Object.assign({},r),{is_bypass:null===(a=e.action)||void 0===a?void 0:a.is_bypass,thread_id:n,thread_node_id:o})},e),subOptions:e.sub_options&&e.sub_options.map((e=>({type:zd(vd.Text),buttonId:e.sub_option_id,text:e.content,action:e.action&&Object.assign({func:Gd(e.action.action_type),nodeInfo:null==t?void 0:t.task_bot_info,extra:Object.assign(Object.assign({},r),{is_bypass:e.action.is_bypass,thread_id:n,thread_node_id:o})},e)})))}}))}}},[hd.CardSelection]:({message:{message_id:e},message_extra:{task_flow_card:t,thread_id:n,thread_node_id:o},isHistory:r},a,i=mu.Left,s,l,u)=>{var c,d,p;const f={thread_id:n,is_bypass:null===(c=null==t?void 0:t.select_action)||void 0===c?void 0:c.is_bypass,input_type:1,thread_node_id:o,session_id:a.session_id,dialogue_id:a.dialogue_id},h=null==t?void 0:t.task_bot_info,_=null===(d=null==t?void 0:t.order_list)||void 0===d?void 0:d.map((e=>Object.assign(Object.assign({},e),{image:Nf(e.image),price:y_(e.price),action:{info:Object.assign(Object.assign({},e),{image:Nf(e.image),price:y_(e.price)}),func:"showOrder",nextParams:Object.assign(Object.assign({},f),{message_text:e.title,message_extra:{task_bot_action:Object.assign(Object.assign(Object.assign({},null==t?void 0:t.select_action),{task_bot_info:h}),{params:Eh(null==t?void 0:t.select_action.params,{order_id:e.order_id,return_id_interact:e.return_id})})}}),extra:a}}))),g={func:"next",_actualText_:"",showUserMessage:!0,info:Object.assign({},f),nextParams:Object.assign(Object.assign({},f),{message_text:"",message_extra:{node_id:f.thread_node_id,task_bot_action:Object.assign({},null==t?void 0:t.still_not_found_action)}}),action:{is_bypass:f.is_bypass,action_type:md.JumpNode,task_bot_action:null==t?void 0:t.still_not_found_action},callback_action:{action_type:md.JumpNode,task_bot_action:null==t?void 0:t.still_not_found_action},extra:Object.assign({},f)},m=(null===(p=null==t?void 0:t.transaction_list)||void 0===p?void 0:p.map((e=>Object.assign(Object.assign({},Mh((null==t?void 0:t.card_type)||2,e,t.status_text)),{action:{info:Object.assign({},Mh((null==t?void 0:t.card_type)||2,e,t.status_text)),func:"showTransaction",nextParams:Object.assign(Object.assign({},f),{message_text:e.title,message_extra:{task_bot_action:Object.assign(Object.assign(Object.assign({},null==t?void 0:t.select_action),{task_bot_info:h}),{params:Eh(null==t?void 0:t.select_action.params,{transaction_id:e.sn})})}})}}))))||[],y=e=>Sl(void 0,void 0,void 0,(function*(){const{page_size:t,page_num:n}=e;return{data:m.slice(t*n,t*n+t)}})),v=e=>Sl(void 0,void 0,void 0,(function*(){var n,o;const r=(null===(n=null==t?void 0:t.select_other_action)||void 0===n?void 0:n.params)||{};return yield c_.getOrderList(Object.assign(Object.assign({},Object.assign(Object.assign({},f),{is_bypass:null===(o=null==t?void 0:t.select_other_action)||void 0===o?void 0:o.is_bypass})),{message_extra:{task_bot_action:Object.assign(Object.assign(Object.assign({},null==t?void 0:t.select_other_action),{params:Eh(r,e)}),ru.data.simulationParams)}}),f,u)})),b=(null==t?void 0:t.user_type)===yu.Seller,T={};for(const[e,n]of Object.entries((null==t?void 0:t.status_text)||{})){const t=b?bu:vu,o=b&&0!==Number(e)&&11!==Number(e);t.includes(Number(e))&&(T[o?Number(e)-5:Number(e)]=n)}return 1===(null==t?void 0:t.card_type)?{from:i,messageId:e,type:"OrderList",hideBubbleAngle:!0,customized:!0,block:!0,data:{disabled:r,showMoreOrderButton:null==t?void 0:t.has_more,loadMoreOrderText:null==t?void 0:t.select_other_content,selectOrderText:null==t?void 0:t.select_content,maxDisplay:t.max_display,defaultSelected:t.default_status,content:_,itemsText:nu("items_text"),itemText:nu("item_text"),panelTitleText:(null==t?void 0:t.user_type)===_d.Seller?nu("seller_order_list_title_text"):nu("buyer_order_list_title_text"),showScrollbar:b_(),tabs:Object.keys(T).map((e=>({name:T[Number(e)],type:Number(e),disabled:!(null==t?void 0:t.status.includes(Number(e)))}))),closeWhenClickOutside:T_(),showMask:!T_(),showBoxShadow:T_(),useFlexLayout:T_(),showScrollIcon:T_(),turnOffAnimation:T_(),onLoadMore:v}}:{from:i,messageId:e,type:"TransactionList",hideBubbleAngle:!0,customized:!0,data:{type:null==t?void 0:t.card_type,hasMoreTransaction:!!(null==t?void 0:t.max_display)&&m.length>(null==t?void 0:t.max_display),maxDisplay:null==t?void 0:t.max_display,loadMoreTransactionText:null==t?void 0:t.select_other_content,selectTransactionText:null==t?void 0:t.select_content,content:m,stillNotFoundContent:null==t?void 0:t.still_not_found_content,checkHereContent:null==t?void 0:t.check_here_content,checkHereAction:g,onLoadMore:y}}},[hd.SimulatorNext]:({message:{message_id:e},message_extra:{simulator_mock:t,thread_id:n,thread_node_id:o}},r,a=mu.Left)=>{if(Qf.emit("api_simulator",t),!(null==t?void 0:t.is_internal_node))return null;return Sl(void 0,void 0,void 0,(function*(){var e;let a;const{stepForSimulator:i}=ru.config;if(i){const e=new Promise((e=>{Qf.emit("sdk_actionResolve",{resolve:()=>e("continue"),reject:()=>e("interrupt")})}));a=yield e}(!i||"continue"===a)&&s_.next(Object.assign(Object.assign({message_text:"next by simulator",input_type:0},ru.data.requestParams),{message_extra:{task_bot_action:Object.assign(Object.assign({},null==t?void 0:t.next_node_info),ru.data.simulationParams)},session_id:r.session_id,dialogue_id:r.dialogue_id,thread_id:n,is_bypass:null===(e=null==t?void 0:t.next_node_info)||void 0===e?void 0:e.is_bypass,thread_node_id:o}))})),null},[hd.V1_MSG]:({message:e},t,n=mu.Left)=>({from:n,messageId:e.message_id,type:"Message",data:{content:jd(e)}}),[hd.V1_ARTICLE]:({message:{message_id:e},message_extra:{articles:t},isHistory:n},o,r=mu.Left)=>{const a=null==t?void 0:t[0],i=sl(vl);return(e=>{const t=sl(yl),n=[...t.showedArticleList||[]];e&&!n.includes(e)&&(n.length<5||n.shift(),n.push(e),O_(yl,Object.assign(Object.assign({},t||{}),{showedArticleList:n}),du))})(null==a?void 0:a.article_number),{from:r,messageId:e,type:"Article",data:{title:null==a?void 0:a.title,content:null==a?void 0:a.content,article:null!=a?a:{},getArticleApi:c_.getArticle,popupProps:{showCloseButton:!1,showCloseIcon:!0},showButtonText:nu("view_article_text"),closeButtonText:nu("modal_close_text"),autoLoadContent:!0,autoPopup:!n&&(null==a?void 0:a.should_display_instantly)&&i!==fl.InAgent,startLoadImages:kh,onImageError:Rh}}},[hd.V1_OPTION]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{var a;return{from:r,messageId:e.message_id,type:"Message",data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,content:jd(e),buttonGroup:{layout:"vertical",buttons:null===(a=t.buttons_for_taskbot)||void 0===a?void 0:a.map((e=>{var r,a;return Object.assign({buttonId:e.button_id,text:jd(e),type:qd(e.style),action:Object.assign(Object.assign({func:Kd(yd.TASKBOT),nodeInfo:{node_id:e.node_id},extra:Object.assign(Object.assign({},o),{send_message_extra:{node_id:e.node_id,ext_key_value:e.ext_key_value,params:{order_id:null!==(a=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.order_id)&&void 0!==a?a:0,extra_param:e.extra_param}}})},e),Wd(e))},qh(e,o,n))}))}}}},[hd.V1_REDIRECTION]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{var a;return{from:r,messageId:e.message_id,type:"Message",data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,content:jd(e),buttonGroup:{layout:"vertical",buttons:null===(a=t.buttons_for_redirection)||void 0===a?void 0:a.map((e=>Object.assign({buttonId:e.button_id,text:Md(e),action:Object.assign(Object.assign({func:Kd(yd.REDIRECTION),nodeInfo:{node_id:e.node_id},extra:Object.assign({},o)},e),Wd(Object.assign(Object.assign({},e),{button_type:yd.REDIRECTION})))},qh(e,o,n))))}}}},[hd.V1_ANNOUNCEMENT]:({message:e,message_extra:t},n,o=mu.Left)=>{var r;const{announcements:a}=t,i={from:o,messageId:e.message_id,type:"Announcements",customized:!0,data:{nodePointId:n.node_point_id,dialogueId:n.dialogue_id,dialogueType:n.dialogue_type,announcementList:(null!==(r=t.announcements)&&void 0!==r?r:[]).map((e=>({id:e.id,content:e.message,url:e.redirection_link,title:e.title})))}};return(null==a?void 0:a.length)?i:null},[hd.V1_LIVE]:({message:e,message:{message_id:t},message_extra:{buttons_for_live:n},isHistory:o},r,a=mu.Left)=>{var i,s;const l=null==n?void 0:n[0];return _u({return_sn:null===(i=null==l?void 0:l.extra_param)||void 0===i?void 0:i.return_sn,return_id:null===(s=null==l?void 0:l.extra_param)||void 0===s?void 0:s.return_id}),{from:a,messageId:t,type:"Message",data:{content:jd(e),buttonGroup:{layout:"vertical",buttons:null==n?void 0:n.map((e=>Object.assign({buttonId:e.button_id,text:jd(e),action:Object.assign({func:Gd(md.ShowAgentQueue),extra:Object.assign({},r)},e)},qh(e,r,o))))}}}},[hd.V1_GENERAL_BTN]:({message:e,message_extra:{buttons_for_general:t},isHistory:n},o,r=mu.Left,a,i)=>{var s,l,u;const c=null===(u=null===(l=null===(s=null==t?void 0:t.map)||void 0===s?void 0:s.call(t,(e=>{var t,r,a,s,l,u,c,d;return e.button_type?("btn_live"===e.button_type&&_u({return_sn:null===(t=e.extra_param)||void 0===t?void 0:t.return_sn,return_id:null===(r=e.extra_param)||void 0===r?void 0:r.return_id}),Object.assign({_id:o._id,buttonId:e.button_id,text:jd(e),type:qd(e.style),action:Object.assign(Object.assign({func:Kd(e.button_type),nodeInfo:{node_id:e.node_id},extra:Object.assign(Object.assign({},o),{send_message_extra:{node_id:e.node_id,ext_key_value:e.ext_key_value,params:{order_id:null!==(d=null!==(u=null===(l=null===(s=null===(a=null==i?void 0:i.params)||void 0===a?void 0:a.message_extra)||void 0===s?void 0:s.params)||void 0===l?void 0:l.order_id)&&void 0!==u?u:null===(c=null==i?void 0:i.params)||void 0===c?void 0:c.order_id)&&void 0!==d?d:0,extra_param:e.extra_param}}})},e),Wd(e))},qh(e,o,n))):null})))||void 0===l?void 0:l.filter)||void 0===u?void 0:u.call(l,(e=>null!==e));return{from:r,messageId:e.message_id,type:"Message",data:{content:jd(e),buttonGroup:{layout:"vertical",buttons:c}}}},[hd.V1_HOT_QUESTION_CATEGORY]:({message:e,message_extra:t},n,o=mu.Left)=>({from:o,messageId:e.message_id,type:"HotQuestionCategory",customized:!0,block:!0,data:{nodePointId:n.node_point_id,dialogueId:n.dialogue_id,dialogueType:n.dialogue_type,categories:(t.categories||[]).map(((e,t)=>{var n,o;return{categoryId:e.category_id,categoryName:e.category_name,iconUrl:(null===(n=Bh.get(e.icon_url))||void 0===n?void 0:n.path)||Nf(e.icon_url),isImg:(null===(o=Bh.get(e.icon_url))||void 0===o?void 0:o.isImg)||e.is_adoc_category&&0!==e.icon_url.indexOf("icon_"),color:Tu[t%Tu.length]}})),trackingData:{trackingsection:Hh[Gh.NEW_HOT_QUESTION_CAT],trackingtarget:Fh[Gh.NEW_HOT_QUESTION_CAT],trackingdataBasic:{bot_id:n.kb_bot_id,bot_name:n.kb_bot_name,chat_session_id:n.session_id}}}}),[hd.V1_INTENT_HOT_QUESTION]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>({from:r,messageId:e.message_id,type:"HotQuestion",block:!0,data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,kbBotId:t.kb_bot_id,kbBotName:t.kb_bot_name,content:Md(e),buttonGroup:{layout:"vertical",buttons:(t.next_head_intents||[]).map(((e,t)=>({type:"link",buttonId:e.intent_id,text:e.hotquestion_text,action:Object.assign({func:Gd(md.ClickIntent),data:e.query_callback,extra:Object.assign({},o)},e),trackingData:{trackingsection:Hh[Gh.HOTQUESTION],trackingtarget:Fh[Gh.HOTQUESTION],trackingdataBasic:{chat_session_id:n?o.session_id:sl(yl).sessionId,if_history:n?Kh.HISTORY:Kh.REAL_TIME,content:e.hotquestion_text,location:t,is_ds_predicted:e.intent_type===Zh.Prediction?1:0,kb_intent_id:e.intent_source===Wh.KnowledgeBase?e.intent_id:void 0,bot_id:o.kb_bot_id,bot_name:o.kb_bot_name,is_default_hq:1,is_category_hq:0,is_faq_hq:0,question_category:"initial"}}})))}}}),[hd.V1_NEW_HOT_QUESTION]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{const{cat_intent_list:{intents:a,category_name:i}}=t,s=sl(yl);return{from:r,messageId:e.message_id,type:"Message",data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,kbBotId:t.kb_bot_id,kbBotName:t.kb_bot_name,content:Md(e),buttonGroup:{layout:"vertical",buttons:(a||[]).map(((e,t)=>({type:"link",buttonId:e.intent_id,text:e.hotquestion_text,style:{textAlign:"left"},action:Object.assign({func:Gd(md.ClickIntent),data:e.query_callback,extra:Object.assign({},o)},e),trackingData:{trackingsection:Hh[Gh.HOTQUESTION],trackingtarget:Fh[Gh.HOTQUESTION],trackingdataBasic:{chat_session_id:n?o.session_id:s.sessionId,if_history:n?Kh.HISTORY:Kh.REAL_TIME,content:e.hotquestion_text,location:t,is_ds_predicted:e.intent_type===Zh.Prediction?1:0,kb_intent_id:e.intent_source===Wh.KnowledgeBase?e.intent_id:void 0,bot_id:o.kb_bot_id,bot_name:o.kb_bot_name,is_default_hq:0,is_category_hq:0,is_faq_hq:0,question_category:i||"initial"}}})))}}}},[hd.NEW_QA_BUTTON]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{const{cat_intent_list:{intents:a}}=t;return{from:r,messageId:e.message_id,type:"Message",data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,kbBotId:t.kb_bot_id,kbBotName:t.kb_bot_name,content:v_(e),buttonGroup:{layout:"vertical",buttons:(a||[]).map((e=>({type:"link",buttonId:e.intent_id,text:e.intent_name,style:{textAlign:"left"},action:{func:Gd(md.ClickQAButton),data:{dialogue_id:o.dialogue_id},extra:Object.assign(Object.assign({},o),{send_message_extra:{article_number:e.article_number,intent_id:null!==e.intent_id?`${e.intent_id}`:null}})}})))}}}},[hd.QA_BUTTON]:({message:e,message_extra:t},n,o=mu.Left)=>{const{buttons_for_qabot:r}=t;return{from:o,messageId:e.message_id,type:"Message",data:{nodePointId:n.node_point_id,dialogueId:n.dialogue_id,dialogueType:n.dialogue_type,kbBotId:t.kb_bot_id,kbBotName:t.kb_bot_name,content:v_(e),buttonGroup:{layout:"vertical",buttons:(r||[]).map((e=>Object.assign(Object.assign({},e),{text:e.title,action:{func:Gd(md.ClickQAButton),data:{dialogue_id:n.dialogue_id},extra:{article_number:e.article_number}}})))}}}},[hd.DIRECTLY_REDIRECTION]:({message_extra:e})=>{const t={url:null==e?void 0:e.url,uri_key:null==e?void 0:e.uri_key,uri_extra:e.uri_extra},n=Fd(t);return Ph.emit("redirection",{text:"",action:{showUserMessage:!1,url_info:Object.assign({},n),callback:null==e?void 0:e.callback}}),null},[hd.BUTTON_FOR_TASKBOT_HORIZONTAL]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{const{buttons_for_taskbot:a}=t;return{from:r,messageId:e.message_id,type:"Message",data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,kbBotId:t.kb_bot_id,kbBotName:t.kb_bot_name,content:v_(e),buttonGroup:{layout:"horizontal",buttons:(a||[]).map((e=>Object.assign(Object.assign(Object.assign({},e),{text:jd(e),action:{func:Gd(md.ClickTaskBot),data:{dialogue_id:o.dialogue_id},extra:{node_id:e.node_id,params:{order_id:0,extra_param:e.extra_param}}}}),qh(e,o,n))))}}}},[hd.V1_INTENT_SELECTOR]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{const{is_intent_list:a=[]}=t;return{from:r,messageId:e.message_id,type:"OptionSelector",data:{nodePointId:o.node_point_id,dialogueId:o.dialogue_id,dialogueType:o.dialogue_type,kbBotId:t.kb_bot_id,kbBotName:t.kb_bot_name,content:Md(e),options:(a||[]).map((e=>{var t;return Object.assign(Object.assign({type:zd(vd.Link),buttonId:e.button_id,text:e.intent_text,style:{textAlign:"left"}},qh({text_value:e.intent_text,button_id:e.button_id},o,n)),{subOptions:(null!==(t=e.sub_intent_list)&&void 0!==t?t:[]).map((t=>{var r;return Object.assign({type:zd(vd.Link),style:{textAlign:"left"},buttonId:t.button_id,text:t.sub_intent_text,action:Object.assign({func:Gd(md.ClickSubIntent),extra:Object.assign(Object.assign({},o),{intentText:(null!==(r=e.sub_intent_list)&&void 0!==r?r:[]).length>1?e.intent_text:void 0})},t)},qh({text_value:t.sub_intent_text,button_id:t.button_id},o,n))}))})}))}}},[hd.V1_FEEDBACK_OPTIONS]:({message:e,message_extra:{feedback_options:t,buttons_for_general:n,feedbackContent:o},isHistory:r},a,i=mu.Left)=>{const s=null==n?void 0:n.map((e=>{var t,n;return"btn_live"===e.button_type&&_u({return_sn:null===(t=e.extra_param)||void 0===t?void 0:t.return_sn,return_id:null===(n=e.extra_param)||void 0===n?void 0:n.return_id}),Object.assign({buttonId:e.button_id,text:Md(e),type:qd(e.style),originType:e.button_type,action:Object.assign(Object.assign({func:Kd(e.button_type),nodeInfo:{node_id:e.node_id},extra:a},e),Wd(e))},qh(e,a,r))}));return{from:i,messageId:e.message_id,type:"FeedbackOptions",block:!0,data:{id:e.message_id,title:jd(e),options:t||[],feedbackContent:o,buttonGroup:{buttons:s}}}},[hd.V1_ORDER_CARD]:({message:{message_id:e},message_extra:{order:t}},n,o=mu.Left)=>({from:o,messageId:e,type:"OrderCardWithSN",block:!0,data:{id:e,order:Object.assign(Object.assign({},t),{orderSn:null==t?void 0:t.order_sn,orderId:null==t?void 0:t.order_id,uriKey:null==t?void 0:t.uri_key,price:y_((null==t?void 0:t.price)||0),showNewUI:!1,image:(null==t?void 0:t.image)&&Nf(null==t?void 0:t.image)}),onClick:e=>{if(null==e?void 0:e.data){const t=Object.assign({},e.data);t.originData=e.data,Dh({data:t})}}}}),[hd.V1_SELECT_ORDER]:({message:e,message_extra:{order_info:t,has_announcement:n},isHistory:o},r,a=mu.Left)=>({from:a,messageId:e.message_id,type:"SelectOrder",data:{id:e.message_id,msgContent:jd(e),onLoadMore:jh,isSeller:t.is_seller,defaultSelected:r.taskbot_name===Du?u.zg.length-1:u.L7,autoPopUp:!o&&!n,nodeId:t.node_id,selectOrderText:nu("sdk_select"),onSelectClick:e=>{E_(e,{dialogueId:r.dialogue_id,orderInfo:t})},onDetailButtonClick:Dh}}),[hd.V1_TO_LOGIN]:({message:e,message_extra:t,isHistory:n},o,r=mu.Left)=>{var a;if(R_()){const i=null===(a=t.buttons_for_login)||void 0===a?void 0:a.map((e=>Object.assign({_id:o._id,buttonId:e.button_id,text:jd(e),type:qd(e.style),action:{func:Kd(e.button_type)}},qh(e,o,n))));return{from:r,messageId:e.message_id,type:"Message",data:{content:jd(e),buttonGroup:{layout:"vertical",disabled:n,buttons:i}}}}return n||C_({type:hl.LoginExpired,data:{}}),null},[hd.V1_ENQUIRY_DETAILS]:()=>null,[hd.V1_DATE_TIME]:()=>null},Xh=(e=mu.Left)=>({from:e,messageId:Id(),type:"UnsupportedMessage",data:{}});var $h;!function(e){e.HideFeedback="hide_feedback"}($h||($h={}));const e_=[pl.SIPProductPage,pl.SIPOrderPageFromBuyer,pl.SIPShopPage,pl.SIPDirectChatFromChatLandingPage];var t_,n_=new class{constructor(){this.features={}}init(){this.batchSet({[$h.HideFeedback]:e_.includes(Mf())})}batchSet(e){this.features=Object.assign(Object.assign({},this.features),e)}get(e){return this.features[e]}set(e,t){this.features[e]=t}};function o_(e,t,n,o=mu.Left,r){var a,i,s,l,u;const c=Jh[e.reply_type];if(!c)return Xh(o);const d=e.isHistory,p=(null===(a=null==e?void 0:e.message_extra)||void 0===a?void 0:a.buttons_for_feedback)||[],f={show:!n_.get($h.HideFeedback)&&!!(null===(i=null==e?void 0:e.message_extra)||void 0===i?void 0:i.feedback_info),yesValue:gu.Yes,noValue:gu.No,value:null===(l=null===(s=null==e?void 0:e.message_extra)||void 0===s?void 0:s.feedback_info)||void 0===l?void 0:l.feedback_result,disabled:d},h=Id();t._id=h;const{dialogue_id:_,dialogue_type:g,taskbot_id:m,is_dialogue_end:y}=t,v={dialogueId:_};g===_l.TASK&&O_(bl,{taskBotId:m,isTaskBotEnded:y},hu),p.length&&(f.componentTrackingData={yes:qh(p[0],t,d).trackingData,no:qh(p[1],t,d).trackingData});try{const a=function(e,t=!1){if(!t||null==e)return e;switch(e.feedback&&(e.feedback.disabled=!0),e.type){case"Message":case"HotQuestion":case"RelatedIntent":e.data.buttonGroup&&(e.data.buttonGroup.disabled=!0);break;case"OptionSelector":case"SelectOrder":e.data.disabled=!0;break;case"FeedbackOptions":e.data.disabled=!0,e.data.buttonGroup.hide=!0}return e}(function(e){var t,n,o;if(null==e)return e;if("Message"===e.type){const r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.content,a=(null===(o=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.buttonGroup)||void 0===o?void 0:o.buttons)||[];if(!r&&0===a.length)return null}return e}(c(e,t,o,ru.root,n,r)),d);return a?Object.assign(Object.assign({},a),{feedback:f,_id:h,dialogueInfo:v,data:Object.assign(Object.assign({},null!==(u=a.data)&&void 0!==u?u:{}),{_id:h})}):null}catch(t){return console.error("[SDK] Data error for reply_type "+(null==e?void 0:e.reply_type)),console.error("[SDK] "+t),Object.assign(Object.assign({},Xh(o)),{_id:h,dialogueInfo:v})}}!function(e){e[e.ErrorEvent=0]="ErrorEvent",e[e.PromiseRejectionEvent=1]="PromiseRejectionEvent",e[e.Error=2]="Error"}(t_||(t_={}));class r_ extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){!function(e){if(!e)return;let t=new Error("onError caught");switch(t_.ErrorEvent,!0){case e instanceof Error:t=e;break;case!!e.reason:t=e.reason;break;case e instanceof ErrorEvent:if(e.target instanceof HTMLScriptElement)return;t=e.error}console.error(t);const n=(null==t?void 0:t.message)||(null==t?void 0:t.toString());Kf.apiLog(`[PC Chatbot JS Error]: ${n}`),Kf.grafanaReport({type:"count",value:{label:Jf}})}(e)}render(){const e=this.props.from||mu.Left;return this.state.hasError?i_(e):this.props.children}}const a_=new z({render:(e,t,n)=>{const o=o_(e,t,n);return p_([{type:Td.Add,data:o}],!0,!1),o},mock:!1,fetch:Ah}),i_=(e=mu.Left)=>{const t=Xh(e);return zf(ah,1,`entry_point:${Mf()}`),o.createElement(d.E,{message:t},a_.render("UnsupportedMessage",t))};var s_=a_;const l_=[uh.getInitSession.url,uh.getUserInfo.url,uh.postHeartbeat.url,uh.reportLog.url,uh.uploadMessage.url,uh.postEndSession.url,uh.getSupportCaseCount.url,uh.getUserEvents.url,uh.reportUserEvents.url,uh.getWebformSubmission.url,uh.getArticle.url],u_=[uh.getArticle.url];var c_={getOrderList(e,t={},n={}){var o,r,a,i,s,l,u,c;return Sl(this,void 0,void 0,(function*(){let d;const p=ru.config.getOrderList;if(p)try{const t=yield p(e,n);if(console.log("get list from outside",t),0!=t.code)throw new Error(`Request failed with data code ${(null==t?void 0:t.code)||"UNKNOWN"}`);d=Object.assign(Object.assign({},(null===(r=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.messages)||void 0===r?void 0:r[0])||{}),{replies:(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.messages)||[]})}catch(e){throw new Error(`Request failed with data code ${(null==e?void 0:e.code)||"UNKNOWN"}`)}else d=yield Ah.post("/api/v2/message",e,{isErrorWhiteList:!0});const{task_flow_card:f}=(null===(l=null===(s=null===(i=d)||void 0===i?void 0:i.replies)||void 0===s?void 0:s[0])||void 0===l?void 0:l.message_extra)||{},h=Cl(d||{},["replies","reply_type","message","message_extra"]),_=null==f?void 0:f.task_bot_info,g=(null==f?void 0:f.status_text)||{},m=null===(c=null===(u=null==f?void 0:f.order_list)||void 0===u?void 0:u.map)||void 0===c?void 0:c.call(u,(e=>{var o;const r=!(!e.return_id&&!e.refund_id),a=(null===(o=e.items)||void 0===o?void 0:o[0])||{},i=(null==a?void 0:a.image[0])||"",s=Object.assign(Object.assign({},e),{title:a.title,specification:a.specification,orderId:e.order_id,orderSn:e.order_sn,orderStatusText:r?e.return_status:g[e.order_list_type],totalPaymentText:nu(r?"refund_amount_text":"total_payment_text"),amount:a.amount,orderPrice:y_(r?e.refund_amount:a.order_price),totalPrice:y_(e.total_price),itemCount:e.item_count,image:Nf(i),shopName:e.shop_name});return Object.assign(Object.assign({},s),{action:{info:s,func:"showOrder",extra:Object.assign(Object.assign({},h||{}),{passThroughData:n}),nextParams:Object.assign(Object.assign({},t),{message_text:a.title,message_extra:{task_bot_action:Object.assign(Object.assign(Object.assign({},null==f?void 0:f.select_action),{task_bot_info:_}),{params:Eh(null==f?void 0:f.select_action.params,{order_id:e.order_id,return_id_interact:e.return_id})})}})}})}));return{data:m||[]}}))},getUserInfo(e={}){return Sl(this,void 0,void 0,(function*(){return s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getUserInfo),{params:e}),directReturn:!0})}))},getHotQuestionAnswer(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({requestData:Object.assign(Object.assign({},uh.getHotQuestionAnswer),{params:e})})}))},getShortcutAnswer(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({requestData:Object.assign(Object.assign({},uh.getShortcutAnswer),{params:e})})}))},getArticleByNumber(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getArticleByNumber),{params:e})})}))},isOrderReturn(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.isOrderReturn),{params:e})})}))},postFeedback(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.postFeedback),{params:e})})}))},getV1OrderList(e={}){return Sl(this,void 0,void 0,(function*(){return s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getV1OrderList),{params:e}),directReturn:!0})}))},getSearchOrderList(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getSearchOrderList),{params:e})})}))},postShopeePayActivated(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.postShopeePayActivated),{params:e})})}))},postHeartbeat(e={}){return Sl(this,void 0,void 0,(function*(){return s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.postHeartbeat),{params:e})})}))},getReturnList(e={}){return Sl(this,void 0,void 0,(function*(){return s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getReturnList),{params:e}),directReturn:!0})}))},postNegativeOptions(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.postNegativeOptions),{params:e})})}))},reportLog(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.reportLog),{params:e})})}))},transactionsLoadMore(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.transactionsLoadMore),{params:e})})}))},suggestion(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.suggestion),{params:e})})}))},getArticle(e={}){return Sl(this,void 0,void 0,(function*(){return s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getArticle),{params:e}),directReturn:!0})}))},uploadMessage(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.uploadMessage),{params:e})})}))},getNextHeadIntent(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getNextHeadIntent),{params:e})})}))},popHeadIntent(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.popHeadIntent),{params:e})})}))},refreshHeadIntent(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.refreshHeadIntent),{params:e})})}))},getCategoryIntentList(e={}){return Sl(this,void 0,void 0,(function*(){return s_.request({requestData:Object.assign(Object.assign({},uh.getCategoryIntentList),{params:e})})}))},postEndSession(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.postEndSession),{params:e})})}))},getSupportCaseCount(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getSupportCaseCount),{params:e})})}))},getUserEvents(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getUserEvents),{params:e})})}))},reportUserEvents(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.reportUserEvents),{params:e})})}))},getWebformSubmission(e={}){return Sl(this,void 0,void 0,(function*(){s_.request({withoutTyping:!0,requestData:Object.assign(Object.assign({},uh.getWebformSubmission),{params:e})})}))}};const d_={[i.w.ClickIntent]:{data:e=>Object.assign({text:e.text},e.action.data),text:e=>e.text},[i.w.GetIntent]:{data:e=>{const{text:t,action:{action:{intent:n},extra:o}}=e;return{dialogue_id:o.dialogue_id,thread_id:o.thread_id,is_bypass:o.is_bypass,thread_node_id:o.thread_node_id,intent_id:n.intent_id,kb_bot_id:n.bot_id,source:fd,is_category:"false",text:t}},text:e=>e.text},[i.w.Next]:{data:e=>{var t,n,o,r,a,i;const{text:s,action:{_actualText_:l,extra:u,nodeInfo:c,action:d,assignValues:p={}}}=e;return{message_text:l||s,input_type:dl.BUTTON,message_extra:Object.assign(Object.assign({},null!==(t=u.send_message_extra)&&void 0!==t?t:{}),{task_bot_action:Object.assign(Object.assign(Object.assign(Object.assign({},null!==(n=null==d?void 0:d.task_bot_action)&&void 0!==n?n:{}),{task_bot_info:c}),{params:Eh(null!==(r=null===(o=null==d?void 0:d.task_bot_action)||void 0===o?void 0:o.params)&&void 0!==r?r:{},p)}),null!==(i=null===(a=null==ru?void 0:ru.data)||void 0===a?void 0:a.simulationParams)&&void 0!==i?i:{})}),dialogue_id:u.dialogue_id,thread_id:u.thread_id,is_bypass:u.is_bypass,thread_node_id:u.thread_node_id}},text:e=>{const{text:t,action:{_actualText_:n}}=e;return n||t}},[i.w.ShowOrder]:{data:e=>Object.assign(Object.assign({},null==e?void 0:e.action.nextParams),{message_extra:Object.assign(Object.assign({},null==e?void 0:e.action.nextParams.message_extra),{task_bot_action:Object.assign(Object.assign({},null==e?void 0:e.action.nextParams.message_extra.task_bot_action),ru.data.simulationParams)})})},[i.w.ClickQAButton]:{data:e=>{var t,n;const{text:o,action:r}=e;return Object.assign({message_text:o,message_extra:Object.assign({},null!==(n=null===(t=null==r?void 0:r.extra)||void 0===t?void 0:t.send_message_extra)&&void 0!==n?n:{}),input_type:dl.BUTTON,entry_point:Mf()},r.data)}}},p_=(e,t=!0,n=!0,o)=>{const r=[],a=su(cu)||[],i=s_.traveledNodes,s=i.map((e=>e._id)),l=lu(uu),u=sl(vl);e.forEach((e=>{var t,c,d,p,f,h,_,g,m,y;const v=null===(null==e?void 0:e.data),b=["PopupOrderList","PopupArticle"].includes(null===(t=e.data)||void 0===t?void 0:t.type),T=v||b||!1,C={left:"bot",right:"user",system:"system",bot:"bot",user:"user"}[null===(c=e.data)||void 0===c?void 0:c.from]||"system";if(e&&e.type===Td.Add)if(u===fl.InAgent){const t=null===(p=null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.data)||void 0===p?void 0:p.content;if("right"===(null===(f=e.data)||void 0===f?void 0:f.from)&&t){const n={id:(null===(h=null==e?void 0:e.data)||void 0===h?void 0:h._id)||Id(),tabId:l,data:{content:t},type:Td.Agent,from:C,isEmpty:!1};r.push(n)}}else{if(u===fl.End)return;const t=(null===(_=null==e?void 0:e.data)||void 0===_?void 0:_._id)||(null==e?void 0:e.id)||Id(),i=Object.assign({id:t,tabId:l,from:C,isEmpty:T},e);r.push(i),a.push(i);const c=s.includes(e.id);e&&e.data&&!c&&n&&s_.appendNode(e.data,null!=o?o:(null===(g=null==e?void 0:e.data)||void 0===g?void 0:g.from)===mu.Left),function(e){e.forEach((e=>{var t,n;null!=e.data&&"text"!==e.data.bubbleType&&f_.push({from:"left"===e.data.from?"bot":"user",content:null!==(n=null===(t=h_[e.data.type])||void 0===t?void 0:t.call(h_,e.data.data))&&void 0!==n?n:"",id:e.data.messageId,sendTime:Date.now()})}))}([i])}else if(e&&e.type===Td.Update){const t=(null===(m=null==e?void 0:e.data)||void 0===m?void 0:m._id)||(null==e?void 0:e.id),n=i.findIndex((e=>e._id===t)),o=a.findIndex((e=>e.id===t));if(t&&-1!==n){const n=Object.assign(Object.assign({id:t,tabId:l},e),{isEmpty:null!==(y=null==e?void 0:e.isEmpty)&&void 0!==y?y:T,from:C});r.push(n),-1!==o&&(a[o].data=e.data)}}})),Qf.emit("messages",r),t&&iu(cu,a)},f_=[];const h_={Message:e=>e.content||"",Article:e=>`[Article]${e.title}`,Announcements:()=>"Initial announcements",HotQuestion:e=>e.content||"",OptionSelector:()=>"Intent selector",FeedbackOptions:e=>e.title,SelectOrder:e=>e.msgContent};var __;!function(e){e[e.Sys=1]="Sys",e[e.Anonymous=101]="Anonymous",e[e.Seller=102]="Seller",e[e.Buyer=103]="Buyer",e[e.BOT=200]="BOT",e[e.LocalCS=201]="LocalCS"}(__||(__={}));const g_=(e,t=!0,n=!0,o)=>{const r=m_(e);return!!r&&(p_([].concat(r).map((e=>({type:Td.Add,data:e}))),t,n,o),!0)},m_=e=>{var t;const n=[].concat(e);if("right"===(null===(t=n[0])||void 0===t?void 0:t.from)){const e=sl(Tl);if(e&&Date.now()-e<1e3)return void w_(nu("error_too_frequent"));ll(Tl,Date.now())}return n.map((e=>{const t=e._id||(e.messageId.startsWith(Nd)?e.messageId:Id());return Object.assign(Object.assign({},e),{_id:t,messageId:e.messageId||t})}))},y_=e=>{let t;try{t=pd(ru.config.cid.toUpperCase()||"SG",e)}catch(n){t=pd("SG",e)}return t},v_=e=>{var t;const{text_key:n,text_value:o}=e;return null===(t=o||nu(n))||void 0===t?void 0:t.toString()},b_=()=>{var e;return"taskFlow"===(null===(e=null==ru?void 0:ru.config)||void 0===e?void 0:e.from)},T_=()=>[pl.SIPProductPage,pl.SIPOrderPageFromBuyer,pl.SIPShopPage,pl.SIPDirectChatFromChatLandingPage].includes(Mf()),C_=(e,t=!0)=>{const n=sl(vl);[fl.InAgent,fl.End].includes(n)||(Array.isArray(e)?e.forEach((e=>C_(e,t))):(Qf.emit("show",Object.assign({},e)),t&&S_(e)))},S_=e=>{const t=su(fu)||{},n=Object.assign(Object.assign({},t),{[e.type]:e.data||{}});iu(fu,n)},O_=(e,t,n)=>{ll(e,t),setTimeout((()=>{let t=sl(e);t instanceof Object&&!Array.isArray(t)&&(t=Object.assign(Object.assign({},t),{tabId:lu(uu)})),n&&iu(n,t)}),0)},A_=(e=!0)=>{g_({from:mu.Left,messageId:Id(),type:"Message",data:{content:nu(Pu),buttonGroup:{layout:"vertical",buttons:[{text:nu(ju),action:{func:Gd(md.ShowAgentQueue),connectToAgentParams:{chat_entry:"ERROR"}}}]}}},e,!0,!1)},w_=(e,t=!0)=>{e&&g_({hideBubble:!0,type:"Tip",messageId:Id(),data:{content:e}},t)},E_=(e,t)=>{var n;const o=e.data.originData||{},{isRR:r,refund_amount:a,total_price:i,amount:s,title:l,order_id:u,return_id:c,order_sn:d}=o,p=sl(yl)||{},f={price:T_()||!r?i:a,item_amount:s||1};!r&&(e=>{const t=sl(yl),n=[...t.orderSNList||[]];e&&!n.includes(e)&&(n.length<5||n.shift(),n.push(e),O_(yl,Object.assign(Object.assign({},t||{}),{orderSNList:n}),du))})(d),Ph.emit("showOrder",{action:{info:Object.assign(Object.assign({},e.data),{price:e.data.orderPrice}),nextParams:{session_id:p.sessionId,dialogue_id:null==t?void 0:t.dialogueId,input_type:dl.BUTTON,message_text:l,message_extra:{node_id:null===(n=null==t?void 0:t.orderInfo)||void 0===n?void 0:n.node_id,params:{order_id:u,return_id:c,user_send:{type:Sd.ORDER_SELECT,order_select:Object.assign(Object.assign(Object.assign({},o),f),{name:l,id:u})}}}}}})},k_=e=>{if(!e)return null;return new URLSearchParams(window.location.search).get(e)},R_=()=>{const e=Mf();return Uu.includes(e)};!function(){var e;function t(){return e.currentId++}(e={worker:new Worker(URL.createObjectURL(new Blob(["(",function(){var e={};self.onmessage=function(t){"setInterval"===t.data.type?e[t.data.id]=setInterval((function(){self.postMessage({type:"fire",id:t.data.id})}),t.data.delay):"clearInterval"===t.data.type?(clearInterval(e[t.data.id]),delete e[t.data.id]):"setTimeout"===t.data.type?e[t.data.id]=setTimeout((function(){self.postMessage({type:"fire",id:t.data.id}),delete e[t.data.id]}),t.data.delay):"clearCallback"===t.data.type&&(clearTimeout(e[t.data.id]),delete e[t.data.id])}}.toString(),")();"],{type:"application/javascript"}))),idToCallback:{},currentId:0}).worker.onmessage=function(t){if("fire"===t.data.type)try{e.idToCallback[t.data.id]()}catch(t){}},window.$chatbot_momentum=e,sh.setInterval=function(n,o){var r=t();return e.idToCallback[r]=n,e.worker.postMessage({type:"setInterval",delay:o,id:r}),r},sh.clearInterval=function(t){e.worker.postMessage({type:"clearInterval",id:t}),delete e.idToCallback[t]},sh.setTimeout=function(n,o){var r=t();return e.idToCallback[r]=function(){n(),delete e.idToCallback[r]},e.worker.postMessage({type:"setTimeout",delay:o,id:r}),r},sh.clearTimeout=function(t){e.worker.postMessage({type:"clearInterval",id:t}),delete e.idToCallback[t]}}();const x_=e=>{var t,n;const r=function(e){var t=(0,o.useState)({traveledNodes:e.traveledNodes,bypassNodes:e.bypassNodes,isAppending:e.isAppending}),n=ee(t,2),r=n[0],a=n[1];return(0,o.useEffect)((function(){var t=e.addListener((function(e){a((function(t){return ne(ne({},t),e)}))}));return function(){t()}}),[e]),r}(e.MRE),{traveledNodes:i,bypassNodes:s,isAppending:l}=r,[u,c]=(0,o.useState)(e.eventEmitter),d=null===(t=ol(yl))||void 0===t?void 0:t.shortcuts,p=ol(vl)===fl.InAgent,f="taskFlow"===(null===(n=null==ru?void 0:ru.config)||void 0===n?void 0:n.from);return(0,o.useEffect)((()=>{c(e.eventEmitter)}),[e.eventEmitter]),(0,o.useEffect)((()=>{C_({type:hl.Typing,data:{show:l}},!1)}),[l]),(0,o.useEffect)((()=>{p&&C_({type:hl.Typing,data:{show:!1}},!1)}),[p]),o.createElement(a.i,{showTyping:l,messages:[...i],modals:s,eventEmitter:u,rootId:e.rootId,locale:ru.config.locale,locales:Al.getCurrentLocale(),translations:{unsupported_message:nu("unsupported_message"),page_head_title:nu("page_head_title"),btn_choose_issue:nu("btn_choose_issue"),delivered_by_text:nu("delivered_by_text"),total_payment_text:nu("total_payment_text")},shortcuts:p?[]:d,tracker:e.tracker,dontUseBodyAsDefaultContainer:f},e.children)},L_=e=>o.createElement(tl,null,o.createElement(il,null),o.createElement(x_,Object.assign({},e))),N_=e=>{const t=ru.root;return o.createElement(L_,{MRE:s_,eventEmitter:Ph,rootId:t,tracker:e.tracker},e.children)};class I_{constructor({root:e="root",config:t={}}){var n;this.uiListener=Ph,this.sdkListener=Qf,this.configMaintainer=ru,this.configMaintainer.updateConfig(Object.assign({},t||{})),this.configMaintainer.updateRoot(e),T_()&&f.w.updateConfig({prefixCls:f.N.sip}),this.MRE=s_,this.MRE.updateConfig({waitingGap:(null==t?void 0:t.waitingGap)||1e3,mock:null==t?void 0:t.mock}),this.featureToggle=n_,this.featureToggle.init(),this._init(),Kf.updateMeta({from:t.from}),Ah.defaults.baseURL=If({cid:this.configMaintainer.config.cid,env:this.configMaintainer.config.env}),null===(n=null==t?void 0:t.fetchInjector)||void 0===n||n.call(t,Ah)}_init(){this.MRE.addUICompnents({UnsupportedMessage:c.O}),this.initContainer(),zf(rh,1,`entry_point:${this.configMaintainer.config.from}`)}use(e){if(Array.isArray(e))e.forEach(this.use.bind(this));else{if(!e||!e.displayName)throw new Error('[Chatbot SDK] The component must have property "displayName"');this.MRE.addUICompnents({[e.displayName]:e})}}useAll(e){this.MRE.addUICompnents(e)}initContainer(){this.configMaintainer.config.initialization===cl.WithContainer&&(()=>{const e=ru.root,t=document.getElementById(e);if(!t)throw new Error("can not find root element");r.render(o.createElement(N_,null,o.createElement(p.W,{navbarProps:{avatarProps:{src:"https://cf.shopee.co.id/file/2d4fe898395ce653908fc17bc9845388"},title:"Test Window"},inputProps:{placeholder:nu("input_placeholder")}})),t)})()}clear(){this.MRE.reset()}destroy(){this.clear(),(()=>{const e=ru.root,t=document.getElementById(e);t?r.unmountComponentAtNode(t):console.log("can not find root element")})()}}class M_ extends I_{constructor({root:e="root",config:t={}}){super({root:e,config:t}),this.listener=new(l()),this.configMaintainer.updateData({action:!1}),this.addUIListeners()}init(){return Sl(this,void 0,void 0,(function*(){const e=this.configMaintainer.config;yield ou({env:e.env,cid:e.cid})}))}render(e){try{zf(ih,1,`entry_point:${this.configMaintainer.config.from}`);const t=function(e){if(!e)return null;const{isHistory:t,disabled:n,from:o,message:r,passThroughData:a}=e,i=Yf(r);if(!i)return null;const{reply_type:s,message:l,message_extra:u}=i,c=Cl(i,["reply_type","message","message_extra"]);c&&(c.passThroughData=a);return o_({isHistory:t||n,reply_type:s,message:l,message_extra:u},c,void 0,o,a)}(e);return t?(e=>o.createElement(r_,{from:null==e?void 0:e.from},o.createElement(d.E,{message:e},a_.render(e.type,e.data))))(t):(Kf.apiLog("[PC][Chatbot SDK][NoActionSDK] render failed, data is null",{level:"error",data:e}),i_(e.from))}catch(t){return Kf.apiLog(`[PC][Chatbot SDK][NoActionSDK] render failed, ${t}`,{level:"error",data:e}),i_(e.from)}}updateConfig(e){this.configMaintainer.updateConfig(e),Kf.updateMeta({from:this.configMaintainer.config.from}),this.featureToggle.init()}on(e,t){this.listener.on(e,t)}addUIListeners(){[...Object.keys(i.w),...Object.keys(i.q)].forEach((e=>{const t=i.w[e]||i.q[e];0===Ph.listenerCount(t)&&Ph.on(t,(e=>{const n=function(e){return{[i.w.ClickIntent]:"sendChatbotUserMessage",[i.w.Redirection]:"redirect",[i.w.Next]:"sendChatbotUserMessage",[i.w.GetIntent]:"sendChatbotUserMessage",[i.w.ShowImage]:"showImage",[i.w.ShowOrder]:"sendChatbotUserMessage",[i.w.ClickQAButton]:"sendChatbotUserMessage"}[e]}(t);this.listener.emit("userAction",{actionType:n,data:P_(t,n,e)})}))}))}}function P_(e,t,n){var o,r,a;const s={[i.w.ClickIntent]:"solution",[i.w.GetIntent]:"solution",[i.w.Next]:"message",[i.w.ShowOrder]:"message",[i.w.ClickQAButton]:"message"},l={passThroughData:(null===(r=null===(o=null==n?void 0:n.action)||void 0===o?void 0:o.extra)||void 0===r?void 0:r.passThroughData)||{}};return"sendChatbotUserMessage"===t?Object.assign(Object.assign({},l),{api:{type:s[e],params:Object.assign(Object.assign({},d_[e].data(n)),{session_id:n.action.extra.session_id})},chatbotUserMessage:e===i.w.ShowOrder?Object.assign({type:"order"},(null===(a=null==n?void 0:n.action)||void 0===a?void 0:a.info)||{}):{type:"text",text:n.action._actualText_||n.text}}):"redirect"===t?Object.assign(Object.assign({},l),{urlInfo:Object.assign({},n.action.url_info||n.action.action.url_info),chatbotUserMessage:n.text?{type:"text",text:n.text}:void 0}):"showImage"===t?Object.assign(Object.assign({},l),{image:{url:n.action.image.url}}):{}}return{ChatbotSDK:M_,Provider:N_}}}}]);